<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[梦想清单]]></title>
      <url>/%E5%BF%83%E4%B8%96%E7%95%8C/2099/04/14/%E6%96%B0%E4%B8%96%E7%95%8C-2015-04-14-%E6%A2%A6%E6%83%B3%E6%B8%85%E5%8D%95/</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p><img src="https://source.unsplash.com/random/800x300"></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="52" src="//music.163.com/outchain/player?type=2&id=5267808&auto=1&height=32"></iframe>
</blockquote>
<a id="more"></a>
<div class="note info"><p>target = ‘日日当精进 但求无愧’<br>target = ‘just do it’</p>
</div>
<blockquote>
<ul>
<li><p>完成自己制定的读书计划，按照书单列表进行阅读；</p>
</li>
<li><p>长途骑行一次；</p>
</li>
<li><p>拥有六块腹肌和匀称的身材；</p>
</li>
<li><p>参加一次马拉松比赛；</p>
</li>
<li><p>每天坚持锻炼(在生活轨迹里面打卡吧，这里就不占地方了)；</p>
</li>
<li><p>去心仪的大学读书深造；</p>
</li>
<li><p>拥有自己的工作室；</p>
</li>
</ul>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 心世界 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS下面编译Qt4.8.6]]></title>
      <url>/Qt%E5%AD%A6%E4%B9%A0/2017/08/02/Qt%E5%AD%A6%E4%B9%A0-2017-8-2-CentOS%E4%B8%8B%E9%9D%A2%E7%BC%96%E8%AF%91Qt4-8-6/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">作者: daodaoliang</div><div class="line">日期: 2017-08-02</div><div class="line">版本: 0.0.1</div><div class="line">邮箱: daodaoliang@yeah.net</div></pre></td></tr></table></figure>
<h4 id="1-安装前准备"><a href="#1-安装前准备" class="headerlink" title="1. 安装前准备"></a>1. 安装前准备</h4><ul>
<li>系统环境说明</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">环境</th>
<th style="text-align:center">版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CentOS</td>
<td style="text-align:center">7.2.1511</td>
</tr>
</tbody>
</table>
<ul>
<li>安装开发工具包</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum groupinstall <span class="string">"Development Tools"</span></div></pre></td></tr></table></figure>
<ul>
<li>安装 (libX11-devel、libXext-devel、libXtst-devel)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yum install libX11-devel</div><div class="line">yum install libXext-devel</div><div class="line">yum install libXtst-devel</div></pre></td></tr></table></figure>
<p><strong>PS：</strong> 如果不安装以上的包在进行 <code>configure</code> 时会出现以下错误</p>
<p>-</p>
{% note warning %}
  You might need to modify the include and library search paths by editing
  QMAKE_INCDIR_X11 and QMAKE_LIBDIR_X11 in /home/zhu/Qt/qt-x11-opensource-src-4.8.6/mkspecs/Linux-g++
{% endnote %}
<p>-</p>
<h4 id="2-编译安装"><a href="#2-编译安装" class="headerlink" title="2. 编译安装"></a>2. 编译安装</h4><ul>
<li>下载源码包</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">下载名称</th>
<th style="text-align:center">下载链接</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">qt-4.8.6源码</td>
<td style="text-align:center"><a href="http://download.qt.io/archive/qt/4.8/4.8.6/" target="_blank" rel="external">点我下载</a></td>
</tr>
</tbody>
</table>
<ul>
<li>解压源码包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 解压的目的目录视情况而定, 随便就好</div><div class="line">cp qt-everywhere-opensource-src-4.8.6.tar.gz /usr/local/src</div><div class="line">tar zxvf ./qt-everywhere-opensource-src-4.8.6.tar.gz</div></pre></td></tr></table></figure>
<ul>
<li>配置生成 <code>Makefile</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd qt-everywhere-opensource-src-4.8.6</div><div class="line">./configure</div></pre></td></tr></table></figure>
<div class="note info"><p>这是需要用户输入协议版本之类的，按需输入即可</p>
</div>
<ul>
<li>编译 &amp;&amp; 安装</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gmake &amp;&amp; gmake install</div></pre></td></tr></table></figure>
<div class="note info"><p>编译完成的系统会安装在 /usr/local/Trolltech/Qt-4.8.6 下面</p>
</div>
<h4 id="3-配置环境变量"><a href="#3-配置环境变量" class="headerlink" title="3. 配置环境变量"></a>3. 配置环境变量</h4><ul>
<li>配置环境变量(/etc/profile)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 在 /etc/profile 增加如下内容</div><div class="line">export QTDIR=/usr/local/Trolltech/Qt-4.8.6</div><div class="line">export PATH=$QTDIR/bin:$PATH</div><div class="line">export MANPATH=$QTDIR/man:$MANPATH</div><div class="line">export LD_LIBRARY_PATH=$QTDIR/lib:$LD_LIBRARY_PATH</div></pre></td></tr></table></figure>
<ul>
<li>测试</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">qmake -v</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Qt学习 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql用户账号操作]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2017/07/10/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2014-12-21-Mysql%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%E6%93%8D%E4%BD%9C/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">作者: daodaoliang</div><div class="line">日期: 2017-07-10</div><div class="line">版本: 0.0.3</div><div class="line">邮箱: daodaoliang@yeah.net</div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="0x01-新建用户"><a href="#0x01-新建用户" class="headerlink" title="0x01 新建用户"></a>0x01 <strong>新建用户</strong></h3><ul>
<li>登陆mysql</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u root -p</div></pre></td></tr></table></figure>
<ul>
<li>创建用户(5.7系列以前)</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">insert into mysql.user(Host,User,Password) values(<span class="string">"localhost"</span>,<span class="string">"用户名"</span>,password(<span class="string">"密码"</span>));</div><div class="line">mysql&gt;flush privileges;</div></pre></td></tr></table></figure>
<ul>
<li>创建用户(通用)</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">CREATE USER <span class="string">'username'</span>@<span class="string">'host'</span> IDENTIFIED BY <span class="string">'password'</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<p>这样就创建了用户,可以登陆试一下;</p>
<h3 id="0x02-为用户授权"><a href="#0x02-为用户授权" class="headerlink" title="0x02 为用户授权"></a>0x02 <strong>为用户授权</strong></h3><p>登陆mysql</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u root -p</div></pre></td></tr></table></figure>
<p>授权用户拥有数据库的所有权限。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">grant all privileges on *.* to 用户名@<span class="string">'地址'</span> identified by <span class="string">'密码'</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<p>指定部分权限的话,可以这样子写:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">grant select,update on *.* to 用户名@<span class="string">'地址'</span> identified by <span class="string">'密码'</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<p><strong>特别注意:</strong></p>
<blockquote>
<p>格式：grant 权限 on 数据库名.表名 to 用户@登录主机 identified by “用户密码”;</p>
<p>@ 后面是访问mysql的客户端IP地址（或是 主机名） % 代表任意的客户端，如果填写 localhost 为本地访问（那此用户就不能远程访问该mysql数据库了）。</p>
</blockquote>
<h3 id="0x03-删除用户"><a href="#0x03-删除用户" class="headerlink" title="0x03 删除用户"></a>0x03 <strong>删除用户</strong></h3><p>登陆mysql后</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mysql&gt;DELETE FROM user WHERE User=<span class="string">"phplamp"</span> and Host=<span class="string">"localhost"</span>;</div><div class="line">mysql&gt;flush privileges;</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">drop user daodaoliang@&apos;%&apos;</div></pre></td></tr></table></figure>
<h3 id="0x04-修改指定用户密码"><a href="#0x04-修改指定用户密码" class="headerlink" title="0x04 修改指定用户密码"></a>0x04 <strong>修改指定用户密码</strong></h3><ul>
<li><strong><em>用UPDATE直接编辑user表(5.7之前版本)</em></strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">update mysql.user <span class="built_in">set</span> password=password(<span class="string">'新密码'</span>) <span class="built_in">where</span> User=<span class="string">"phplamp"</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<ul>
<li><strong><em>用UPDATE直接编辑user表(5.7之后版本)</em></strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">update user <span class="built_in">set</span> authentication_string=password(<span class="string">'新密码'</span>) <span class="built_in">where</span> user=<span class="string">'root'</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<ul>
<li><strong><em>用mysqladmin</em></strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mysqladmin -u root password <span class="string">"newpass"</span></div><div class="line"><span class="comment"># 若设置过root密码,采用如下方法</span></div><div class="line">mysqladmin -u root password oldpass <span class="string">"newpass"</span></div></pre></td></tr></table></figure>
<ul>
<li><strong><em>用SET PASSWORD命令(通用)</em></strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SET PASSWORD FOR <span class="string">'root@localhost'</span> = PASSWORD(<span class="string">'newpass'</span>);</div></pre></td></tr></table></figure>
<h3 id="0x05-修改或者忘记ROOT密码"><a href="#0x05-修改或者忘记ROOT密码" class="headerlink" title="0x05 修改或者忘记ROOT密码"></a>0x05 修改或者忘记ROOT密码</h3><ul>
<li>停止数据库服务</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/mysql stop</div></pre></td></tr></table></figure>
<ul>
<li>跳过权限表安全启动</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;</div></pre></td></tr></table></figure>
<ul>
<li>重新登录mysql</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u root mysql</div></pre></td></tr></table></figure>
<ul>
<li>修改root密码</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SET PASSWORD FOR <span class="string">'root@%'</span> = PASSWORD(<span class="string">'newpass'</span>);</div><div class="line">   FLUSH PRIVILEGES;</div></pre></td></tr></table></figure>
<ul>
<li>重新启动mysql服务</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/mysql restart</div></pre></td></tr></table></figure>
<h3 id="0x06-重命名用户账号"><a href="#0x06-重命名用户账号" class="headerlink" title="0x06 重命名用户账号"></a>0x06 重命名用户账号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rename user daodaoliang@&apos;%&apos; to nami@&apos;%&apos;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS下搭建IPv6环境]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/06/22/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2017-06-22-CentOS%E4%B8%8B%E6%90%AD%E5%BB%BAipv6%E7%8E%AF%E5%A2%83/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">作者 : daodaoliang@yeah.net</div><div class="line">日期 : 2017-06-22</div><div class="line">版本 : 0.0.1</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>[TOC]</p>
<h3 id="1-背景简介"><a href="#1-背景简介" class="headerlink" title="1. 背景简介"></a>1. 背景简介</h3><ol>
<li>阿里云的<code>centos</code>默认是没有开启<code>IPv6</code>的，可以通过 <code>lsmod | grep ipv6</code> 或者 <code>ifconfig -a | grep inet6</code> 进行对应的查看;</li>
<li>由于某些应用在上线某个平台时需要进行Ipv6的适配;</li>
<li><code>Ipv6</code> 确实在某些场景下时必须的;</li>
</ol>
<p>基于以上种种原因，因此才有此文章，此文章所有的部分内容为查阅的其他工程师的探究结果。</p>
<h3 id="2-开启系统的Ipv6"><a href="#2-开启系统的Ipv6" class="headerlink" title="2. 开启系统的Ipv6"></a>2. 开启系统的<code>Ipv6</code></h3><h4 id="2-1-检查系统是否已经开启Ipv6"><a href="#2-1-检查系统是否已经开启Ipv6" class="headerlink" title="2.1 检查系统是否已经开启Ipv6"></a>2.1 检查系统是否已经开启<code>Ipv6</code></h4><p>在终端执行进行查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig -a | inet6</div></pre></td></tr></table></figure>
<h4 id="2-2-配置开启Ipv6"><a href="#2-2-配置开启Ipv6" class="headerlink" title="2.2 配置开启Ipv6"></a>2.2 配置开启<code>Ipv6</code></h4><ul>
<li>修改<code>/etc/sysctl.conf</code>, 存在则修改，不存在则增加如下内容:</li>
</ul>
<p><img src="/res/img/blog/环境搭建/ipv6.png" alt="img"></p>
<ul>
<li>修改 <code>/etc/modprobe.d/disable_ipv6.conf</code>, 存在则修改，不存在则增加如下内容：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">修改前</div><div class="line">alias net-pf-10 off</div><div class="line">alias ipv6 off</div><div class="line">options ipv6 disable=1</div><div class="line"></div><div class="line">修改后</div><div class="line">alias net-pf-10 off</div><div class="line">#alias ipv6 off</div><div class="line">options ipv6 disable=0</div></pre></td></tr></table></figure>
<ul>
<li>修改<code>/etc/sysconfig/network</code>, 存在则修改，不存在则增加如下内容:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">修改前</div><div class="line">NETWORKING=yes</div><div class="line">HOSTNAME=coolnull</div><div class="line">NETWORKING_IPV6=no</div><div class="line">PEERNTP=no</div><div class="line">GATEWAY=*.*.*.*</div><div class="line"></div><div class="line">修改后</div><div class="line">NETWORKING=yes</div><div class="line">HOSTNAME=coolnull</div><div class="line">NETWORKING_IPV6=yes</div><div class="line">PEERNTP=no</div><div class="line">GATEWAY=*.*.*.*</div></pre></td></tr></table></figure>
<ul>
<li>至此ipv6的服务器端支持已经完成，重启服务器测试是否支持ipv6</li>
</ul>
<h3 id="3-注册免费的Ipv6隧道"><a href="#3-注册免费的Ipv6隧道" class="headerlink" title="3. 注册免费的Ipv6隧道"></a>3. 注册免费的<code>Ipv6</code>隧道</h3><h4 id="3-1-注册账号"><a href="#3-1-注册账号" class="headerlink" title="3.1 注册账号"></a>3.1 注册账号</h4><p><a href="https://www.tunnelbroker.net/" target="_blank" rel="external">https://www.tunnelbroker.net/</a>,不再赘述，注意邮箱不要使用腾讯家的就好，不然收不到激活邮件;</p>
<h4 id="3-2-创建通道"><a href="#3-2-创建通道" class="headerlink" title="3.2 创建通道"></a>3.2 创建通道</h4><ul>
<li>填写云服务器ip以及选择默认的隧道节点，点击Create Tunnel创建。填写ip都，如果出现“IP is a potential tunnel endpoint.”则证明可以添加ipv6隧道，一般隧道节点系统已经默认分配，可以手动选择，大家可以在自己的云服务器上分别ping一下这些ip，选时延低的。</li>
</ul>
<p><img src="/res/img/blog/环境搭建/ipv61.jpg" alt="ipv61"></p>
<ul>
<li>到下一页面切换到Example configurations选项卡，如果你的VPS是centOS/Debian这些常见Linux的话，下拉菜单选择Linux-route2，出现了设置的命令，复制到自己的云服务器上运行。</li>
</ul>
<p><img src="/res/img/blog/环境搭建/ipv62.jpg" alt="ipv62"></p>
<ul>
<li>如果执行失败请用下面的命令执行,替换掉里面对应的IP信息</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># modprobe ipv6</div><div class="line"># ip tunnel add he-ipv6 mode sit remote &lt;Server IPv4 Address&gt; local &lt;Client IPv4 Address&gt; ttl 255</div><div class="line"># ip link set he-ipv6 up</div><div class="line"># ip addr add &lt;Server IPv6 Address&gt; dev he-ipv6</div><div class="line"># ip -6 route add ::/0 dev he-ipv6</div><div class="line"># ip -f inet6 addr</div></pre></td></tr></table></figure>
<h4 id="3-3-测试Ipv6"><a href="#3-3-测试Ipv6" class="headerlink" title="3.3 测试Ipv6"></a>3.3 测试<code>Ipv6</code></h4><ul>
<li>终端执行如下指令查看对应结果</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig he-ipv6</div></pre></td></tr></table></figure>
<ul>
<li><code>ping6 google</code>的<code>ipv6</code>的<code>DNS</code>服务器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping6 -c 5 2001:4860:4860::8888</div></pre></td></tr></table></figure>
<p><strong><em>小技巧:</em></strong></p>
<ul>
<li>增加<code>Google</code>的<code>Ipv6</code>的<code>DNS</code>服务器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># vim /eyc/resolv.conf</div><div class="line">nameserver 2001:4860:4860::8888</div><div class="line">nameserver 2001:4860:4860::8844</div></pre></td></tr></table></figure>
<p>接下来就能直接 <code>ping6</code> 支持ipv6的地址了;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping6 ipv6.google.com</div></pre></td></tr></table></figure>
<h3 id="4-配置阿里云域名"><a href="#4-配置阿里云域名" class="headerlink" title="4. 配置阿里云域名"></a>4. 配置阿里云域名</h3><p>在增加<code>A</code>记录的同时，增加<code>AAAA</code>记录即可，<code>AAAA</code>记录里面的值为<code>server</code>里面的值 注意不要带后面<code>/64</code></p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> centos </tag>
            
            <tag> ipv6 </tag>
            
            <tag> 环境搭建 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS下Nexus搭建Maven私库]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/04/20/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2017-04-20-CentOS%E4%B8%8BNexus%E6%90%AD%E5%BB%BAMaven%E7%A7%81%E5%BA%93/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">作者 : daodaoliang@yeah.net</div><div class="line">日期 : 2017-04-20</div><div class="line">版本 : 0.0.4</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>[TOC]</p>
<h3 id="1-Maven私服简介"><a href="#1-Maven私服简介" class="headerlink" title="1. Maven私服简介"></a>1. <code>Maven</code>私服简介</h3><p>搭建私服可以做什么？<br>1、如果公司开发组的开发环境全部内网，这时如何连接到在互联网上的Maven中央仓库呢？<br>2、如果公司经常开发一些公共的组件，如何共享给各个开发组，使用拷贝方式吗？如果这样，公共库升级了怎么办？<br>当然可以解决的问题可能不止上面两点，下面来介绍在<code>CentOS</code>中搭建自己的<code>Maven</code>私服，使用<code>Nexus</code>。</p>
<h3 id="2-java-运行环境准备"><a href="#2-java-运行环境准备" class="headerlink" title="2. java 运行环境准备"></a>2. <code>java</code> 运行环境准备</h3><p>根据官网的介绍，运行环境最好是使用最新的8版本，官网文如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Nexus Repository Manager requires a Java 8 Runtime Environment (JRE) from Oracle. The distributions for OSX and Windows include suitable runtime environments for the specific operating system. The distributions for Unix do not include the runtime environment.</div><div class="line">If you prefer to use an external runtime or use a Unix operating system, it is recommended to use the latest version of Java 8 available from the Oracle website. You can choose to install the full JDK or the JRE only.</div></pre></td></tr></table></figure>
<h4 id="2-1-本地java版本确认"><a href="#2-1-本地java版本确认" class="headerlink" title="2.1 本地java版本确认"></a>2.1 本地<code>java</code>版本确认</h4><p>如果系统是新安装的并且没有进行相关配置的话，默认应该是<code>openJDK1.7版本</code>;</p>
<p><img src="/res/img/blog/环境搭建/java-version.png" alt="java版本查看"></p>
<h4 id="2-2-安装新的JDK"><a href="#2-2-安装新的JDK" class="headerlink" title="2.2 安装新的JDK"></a>2.2 安装新的<code>JDK</code></h4><ul>
<li>由于原有系统很多包都是依赖与JDK，以防万一，我就没有卸载原有的JDK而是在安装一个8版本的JDK;</li>
<li>在<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="external">JDK官网</a>找到对应的<code>rpm</code>包进行下载并安装,建议本机迅雷下载完成后再传到服务器,也可以找一些速度快的镜像站进行下载;</li>
<li>下载完后直接安装，然后查看对应的版本信息是否正确;</li>
</ul>
<p><img src="/res/img/blog/环境搭建/java-upgrade.png" alt=""></p>
<ul>
<li>顺手改一下<code>JAVA_HOME</code>的环境变量;</li>
</ul>
<p><img src="/res/img/blog/环境搭建/java-home.png" alt="java-home"></p>
<h3 id="3-安装-Nexus"><a href="#3-安装-Nexus" class="headerlink" title="3. 安装 Nexus"></a>3. 安装 <code>Nexus</code></h3><h4 id="3-1-下载Nexus"><a href="#3-1-下载Nexus" class="headerlink" title="3.1 下载Nexus"></a>3.1 下载<code>Nexus</code></h4><ul>
<li>从<a href="https://www.sonatype.com/download-oss-sonatype" target="_blank" rel="external">官网下载</a>对应的安装包到服务器</li>
</ul>
<p><strong>PS</strong>：建议在本机用迅雷下载完了在传上去，或者用一些快一点镜像站；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget https://www.sonatype.com/oss-thank-you-tar.gz</div></pre></td></tr></table></figure>
<h4 id="3-2-安装-Nexus"><a href="#3-2-安装-Nexus" class="headerlink" title="3.2 安装 Nexus"></a>3.2 安装 <code>Nexus</code></h4><ul>
<li>解压安装包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar zxvf oss-thank-you-tar.gz</div></pre></td></tr></table></figure>
<ul>
<li>安装成服务</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mv ./nexus-3.1.1-X86_64/  /usr/local/nexus3</div></pre></td></tr></table></figure>
<p>增加环境变量<code>NEXUS_HOME</code></p>
<p><img src="/res/img/blog/环境搭建/nexus.png" alt="nexus环境变量"></p>
<p>创建并开启服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo ln -s $NEXUS_HOME/bin/nexus /etc/init.d/nexus</div><div class="line">   cd /etc/init.d</div><div class="line">   sudo chkconfig --add nexus</div><div class="line">   sudo chkconfig --levels 345 nexus on</div><div class="line">   sudo service nexus start</div></pre></td></tr></table></figure>
<h3 id="4-配置-Nexus"><a href="#4-配置-Nexus" class="headerlink" title="4. 配置 Nexus"></a>4. 配置 <code>Nexus</code></h3><h4 id="4-1-配置WEB-访问"><a href="#4-1-配置WEB-访问" class="headerlink" title="4.1 配置WEB 访问"></a>4.1 配置<code>WEB</code> 访问</h4><ul>
<li>开启 <code>8081</code> 端口</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/sysconfig/iptables</div></pre></td></tr></table></figure>
<p>增加如下一条:</p>
<p><img src="/res/img/blog/环境搭建/iptables.png" alt="iptables"></p>
<ul>
<li>浏览器访问</li>
</ul>
<p>在浏览器中打开对应的URL 例如: <a href="http://10.140.22.205:8081" target="_blank" rel="external">http://10.140.22.205:8081</a>,默认管理员用户名和密码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">user: admin</div><div class="line">   pwd: admin123</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/环境搭建/maven.png" alt=""></p>
<p>默认<code>nexus</code>已经帮我们创建了五个库和两个组,我们可以直接使用,其中<code>Type</code>为<code>prosy</code>的为代理库,<code>Type</code>为<code>hosted</code>的为宿主库,<code>Type</code>为<code>group</code>的为组;</p>
<p>  一般用到的仓库种类是<code>hosted</code>、<code>proxy</code>。<code>Hosted</code>代表宿主仓库，用来发布一些第三方不允许的组件，比如<code>Oracle</code>驱动、比如商业软件<code>jar</code>包。<code>Proxy</code>代表代理远程的仓库，最典型的就是<code>Maven</code>官方中央仓库、<code>JBoss</code>仓库等等。如果构建的<code>Maven</code>项目本地仓库没有依赖包，那么就会去这个代理站点去下载，那么如果代理站点也没有此依赖包，就回去远程中央仓库下载依赖，这些中央仓库就是<code>proxy</code>。代理站点下载成功后再下载至本机。</p>
<h4 id="4-2-本地项目配置"><a href="#4-2-本地项目配置" class="headerlink" title="4.2 本地项目配置"></a>4.2 本地项目配置</h4><p>在项目的<code>pom.xml</code>或者<code>settings.xml</code>文件里加入一下配置信息（区别，<code>pom.xml</code>是针对当前项目，<code>settings.xml</code>是全局的针对所有项目）配置信息中的<code>id</code>,<code>name</code>和<code>url</code>跟上图中的仓库对应，<code>type</code>为<code>proxy</code>，说明它只是代理，只能用于下载<code>jar</code>包，不能用于发布项目。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>maven-central<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://10.140.22.205:8081/repository/maven-central/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">snapshotPolicy</span>&gt;</span>always<span class="tag">&lt;/<span class="name">snapshotPolicy</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">releases</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></div></pre></td></tr></table></figure>
<p>其他使用可以<a href="https://segmentfault.com/a/1190000005966312" target="_blank" rel="external">参考这里</a></p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6升级GCC版本]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/04/20/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2017-04-20-CentOS6%E5%8D%87%E7%BA%A7GCC%E7%89%88%E6%9C%AC/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">作者 : daodaoliang@yeah.net</div><div class="line">日期 : 2017-04-20</div><div class="line">版本 : 0.0.1</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>[TOC]</p>
<h3 id="1-背景简述"><a href="#1-背景简述" class="headerlink" title="1. 背景简述"></a>1. 背景简述</h3><p><code>CentOS 6</code>系列的服务器,默认的gcc编译器都是 <code>4.4.7</code> 版本,有事后为了开发或者编译其他开源软件，则需要对gcc编译器进行升级;</p>
<h3 id="2-安装GCC前准备"><a href="#2-安装GCC前准备" class="headerlink" title="2. 安装GCC前准备"></a>2. 安装<code>GCC</code>前准备</h3><h4 id="2-1-下载指定版本"><a href="#2-1-下载指定版本" class="headerlink" title="2.1 下载指定版本"></a>2.1 下载指定版本</h4><p>首先在官网上面下载你需要的<code>GCC</code>版本,<a href="http://ftp.gnu.org/gnu/gcc" target="_blank" rel="external">官网在这里</a>,笔者选择的是<code>GCC 4.8.4</code>版本;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">   wget http://ftp.gnu.org/gnu/gcc/gcc-4.8.4/gcc-4.8.4.tar.gz</div></pre></td></tr></table></figure>
<h4 id="2-2-解压并进行准备工作"><a href="#2-2-解压并进行准备工作" class="headerlink" title="2.2 解压并进行准备工作"></a>2.2 解压并进行准备工作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar zxvf gcc-4.8.4.tar.gz</div></pre></td></tr></table></figure>
<h4 id="2-3-下载供编译需求的依赖项"><a href="#2-3-下载供编译需求的依赖项" class="headerlink" title="2.3 下载供编译需求的依赖项"></a>2.3 下载供编译需求的依赖项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/local/src/gcc-4.8.4/contrib/download_prerequisites</div></pre></td></tr></table></figure>
<h3 id="3-开始安装"><a href="#3-开始安装" class="headerlink" title="3. 开始安装"></a>3. 开始安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src/gcc-4.8.4</div><div class="line">   mkdir gcc-build</div><div class="line">   cd gcc-build</div><div class="line">   ../configure -enable-checking=release -enable-languages=c,c++ -disable-multilib</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make -j4</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo make install</div></pre></td></tr></table></figure>
<h3 id="4-配置环境"><a href="#4-配置环境" class="headerlink" title="4. 配置环境"></a>4. 配置环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cp /usr/local/lib64/libstdc++* /usr/lib64/</div><div class="line">   ln -s /usr/lib64/libstdc++.so /usr/lib64/libstdc++.so.6.0.19</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.8下安装Maven]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/04/14/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2017-04-14-CentOS6-8%E4%B8%8B%E5%AE%89%E8%A3%85Maven/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">作者 : daodaoliang@yeah.net</div><div class="line">日期 : 2017-04-13</div><div class="line">版本 : 0.0.4</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>[TOC]</p>
<h3 id="0-安装Maven前准备"><a href="#0-安装Maven前准备" class="headerlink" title="0. 安装Maven前准备"></a>0. 安装<code>Maven</code>前准备</h3><ul>
<li>确保系统已经安装了<code>Java</code>的运行环境;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 查看java版本，确保已经安装了java</div><div class="line">java -version</div></pre></td></tr></table></figure>
<p>终端输出如下内容说明已经安装了java，并且为 openJDK 系列的 <code>1.7.0_131</code> 版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@yafan2-xb src]# java -version</div><div class="line">java version &quot;1.7.0_131&quot;</div><div class="line">OpenJDK Runtime Environment (rhel-2.6.9.0.el6_8-x86_64 u131-b00)</div><div class="line">OpenJDK 64-Bit Server VM (build 24.131-b00, mixed mode)</div></pre></td></tr></table></figure>
<ul>
<li>确保系统已经配置了<code>JAVA_HOME</code>系统环境变量;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">env | grep JAVA_HOME</div><div class="line">   或者</div><div class="line">   echo $JAVA_HOME</div></pre></td></tr></table></figure>
<p>若是终端没有输出对应的值，则说明系统是没有配置<code>JAVA_HOME</code>环境变量的;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 查找 java 路径, 笔者电脑输出 /usr/bin/java</div><div class="line">which java</div><div class="line">   </div><div class="line">   # 查找 java 的真实路径 笔者电脑输出 /usr/bin/java -&gt; /etc/alternatives/java</div><div class="line">   ls -alh /usr/bin/java</div><div class="line">   </div><div class="line">   # 继续查找 java 的真实路径 笔者电脑输出 /etc/alternatives/java -&gt; /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java</div><div class="line">   ls -alh /etc/alternatives/java</div></pre></td></tr></table></figure>
<p>经过上一步找到了 <code>java</code> 的在当前系统中的真实可执行目录，按照如下方式配置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/profile</div></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=/usr/lib/jvm/jre-1.7.0-openjdk.x86_64</div><div class="line">export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</div><div class="line">export PATH=$PATH:$JAVA_HOME/bin</div></pre></td></tr></table></figure>
<p>使新的环境变量生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">source /etc/profile</div></pre></td></tr></table></figure>
<h3 id="1-安装maven环境"><a href="#1-安装maven环境" class="headerlink" title="1.安装maven环境"></a>1.安装<code>maven</code>环境</h3><ul>
<li>下载<code>maven</code>二进制包</li>
</ul>
<p><code>maven</code>的官方下载地址<a href="Maven的下载地址是：http://maven.apache.org/download.cgi">在这里</a> 。 <strong>PS:</strong> 建议在下载时选择一个比较快的源,笔者选择的是清华大学的源,下载速度在 400K左右;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">   wget http://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.5.0/binaries/apache-maven-3.5.0-bin.tar.gz</div></pre></td></tr></table></figure>
<ul>
<li>解压并配置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tar zxf apache-maven-3.5.0-bin.tar.gz</div><div class="line">mv apache-maven-3.5.0 /usr/local/maven3</div></pre></td></tr></table></figure>
<ul>
<li>配置环境变量(/etc/profile)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#在适当的位置添加</div><div class="line">export M2_HOME=/usr/local/maven3</div><div class="line">export PATH=$PATH:$JAVA_HOME/bin:$M2_HOME/bin</div></pre></td></tr></table></figure>
<p>使环境变量生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">source /etc/profile</div></pre></td></tr></table></figure>
<ul>
<li>验证版本</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mvn -v</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS下搭建GitLab服务器]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/04/13/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2014-10-17-Ubuntu14-04%E4%B8%8B%E9%85%8D%E7%BD%AEGitLab7/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">作者 : daodaoliang@yeah.net</div><div class="line">日期 : 2017-04-13</div><div class="line">版本 : 0.0.4</div></pre></td></tr></table></figure>
<a id="more"></a>
<hr>
<ul>
<li>TOC<br>{:toc}</li>
</ul>
<hr>
<h3 id="0-Gitlab-简介"><a href="#0-Gitlab-简介" class="headerlink" title="0 Gitlab 简介"></a>0 <code>Gitlab</code> 简介</h3><p>GitLab 是一个用于仓库管理系统的开源项目。使用Git作为代码管理工具，并在此基础上搭建起来的web服务。可通过Web界面进行访问公开的或者私人项目。它拥有与Github类似的功能，能够浏览源代码，管理缺陷和注释。可以管理团队对仓库的访问，它非常易于浏览提交过的版本并提供一个文件历史库。团队成员可以利用内置的简单聊天程序(Wall)进行交流。它还提供一个代码片段收集功能可以轻松实现代码复用。</p>
<hr>
<h3 id="1-Gitlab-的安装"><a href="#1-Gitlab-的安装" class="headerlink" title="1. Gitlab 的安装"></a>1. <code>Gitlab</code> 的安装</h3><p><code>Gitlab</code> 有两种安装方式:</p>
<table>
<thead>
<tr>
<th style="text-align:center">安装方式</th>
<th style="text-align:center">简介</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">源码方式安装</td>
<td style="text-align:center">这个有些费劲,时间充足喜欢折腾按照<a href="https://docs.gitlab.com.cn/ce/install/README.html" target="_blank" rel="external">链接文档</a>安装即可</td>
</tr>
<tr>
<td style="text-align:center"><code>Omnibus</code>方式安装</td>
<td style="text-align:center">这个简单,不出任何意外大约一个半小时左右安装完毕</td>
</tr>
</tbody>
</table>
<h3 id="1-1-采用-Omnibus-方式"><a href="#1-1-采用-Omnibus-方式" class="headerlink" title="1.1 采用 Omnibus 方式"></a>1.1 采用 <code>Omnibus</code> 方式</h3><p>根据<a href="https://www.gitlab.com.cn/downloads" target="_blank" rel="external">官网地址</a>，选择 <code>CentOS 6</code> 然后执行相应命令，即可完成安装操作，如果你用虚拟机，就直接用迅雷搞定，然后再拖进去吧，毕竟<code>200+M</code>,<a href="https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/" target="_blank" rel="external">下载连接在这里</a></p>
<p>如果你不想观看官网那么跟着下面步骤走：</p>
<h4 id="1-1-1-安装配置依赖项"><a href="#1-1-1-安装配置依赖项" class="headerlink" title="1.1.1 安装配置依赖项"></a>1.1.1 安装配置依赖项</h4><p>如想使用Postfix来发送邮件,在安装期间请选择’Internet Site’. 您也可以用sendmai或者 配置SMTP服务 并 使用SMTP发送邮件.在 Centos 6 和 7 系统上, 下面的命令将在系统防火墙里面开放HTTP和SSH端口.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo yum install curl openssh-server openssh-clients postfix cronie</div><div class="line">sudo service postfix start</div><div class="line">sudo chkconfig postfix on</div><div class="line">sudo lokkit -s http -s ssh</div></pre></td></tr></table></figure>
<h4 id="1-1-2-添加GitLab仓库-并安装到服务器上"><a href="#1-1-2-添加GitLab仓库-并安装到服务器上" class="headerlink" title="1.1.2 添加GitLab仓库,并安装到服务器上"></a>1.1.2 添加GitLab仓库,并安装到服务器上</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -sS http://packages.gitlab.cc/install/gitlab-ce/script.rpm.sh | sudo bash</div><div class="line">sudo yum install gitlab-ce</div></pre></td></tr></table></figure>
<h4 id="1-1-3-启动-Gitlab"><a href="#1-1-3-启动-Gitlab" class="headerlink" title="1.1.3 启动 Gitlab"></a>1.1.3 启动 <code>Gitlab</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gitlab-ctl reconfigure</div></pre></td></tr></table></figure>
<hr>
<h3 id="2-邮箱配置"><a href="#2-邮箱配置" class="headerlink" title="2.邮箱配置"></a>2.邮箱配置</h3><p>当你按照提示安装好后，基本上就可以使用了，但是在使用的过程中，我们发现邮件通知功能不稳定，使用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /var/<span class="built_in">log</span>/mail.log</div></pre></td></tr></table></figure>
<p>查看后发现，邮件被当成了垃圾邮件，被退信了。<br>使用默认<code>Gitlab</code>的邮件服务的话，貌似被退信的几率比较高，因此我们需修改一下，毕竟邮件通知还是很重要的。我们注册一个邮箱账号，让<code>GitLab</code>通过该账号向我们发送邮件通知，这看起来就像两个人正常通信了，基本上就不会被退信了。</p>
<h4 id="2-1-注册邮箱"><a href="#2-1-注册邮箱" class="headerlink" title="2.1 注册邮箱"></a>2.1 注册邮箱</h4><p>注册QQ企业云邮箱不解释，记住用户名密码即可，你也可以随便使用其他邮箱服务器，不过不建议网易家的，他们会出现一些安全方面的拦截。</p>
<h4 id="2-2-配置邮箱"><a href="#2-2-配置邮箱" class="headerlink" title="2.2 配置邮箱"></a>2.2 配置邮箱</h4><p>修改发送邮件步骤如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/gitlab/gitlab.rb</div></pre></td></tr></table></figure>
<p>增加如下配置项，例:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">gitlab_rails['smtp_enable'] = true</div><div class="line">gitlab_rails['smtp_address'] = "smtp.exmail.qq.com"</div><div class="line">gitlab_rails['smtp_port'] = 465</div><div class="line">gitlab_rails['smtp_user_name'] = "youraccount"</div><div class="line">gitlab_rails['smtp_password'] = "yourPWD"</div><div class="line">gitlab_rails['smtp_authentication'] = "login"</div><div class="line">gitlab_rails['smtp_enable_starttls_auto'] = true</div><div class="line">gitlab_rails['smtp_tls'] = true</div><div class="line">gitlab_rails['gitlab_email_from'] = 'youraccount'</div></pre></td></tr></table></figure>
<p>修改完成后，需要执行以下命令使生效:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gitlab-ctl reconfigure.</div></pre></td></tr></table></figure>
<h4 id="2-3-测试邮箱"><a href="#2-3-测试邮箱" class="headerlink" title="2.3 测试邮箱"></a>2.3 测试邮箱</h4><ol>
<li>执行 gitlab-rails console</li>
<li>在上面步骤后执行：</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Notify.test_email(<span class="string">'destination_email@address.com'</span>, <span class="string">'Message Subject'</span>, <span class="string">'Message Body'</span>).deliver_now</div></pre></td></tr></table></figure>
<p><strong>PS:</strong> 具体其他的请参考<a href="http://docs.gitlab.com/omnibus/settings/smtp.html" target="_blank" rel="external">这篇文档</a></p>
<h3 id="4-Gitlab-运维"><a href="#4-Gitlab-运维" class="headerlink" title="4. Gitlab 运维"></a>4. <code>Gitlab</code> 运维</h3><p>具体运维请参考<a href="https://docs.gitlab.com.cn/ce/README.html" target="_blank" rel="external">这篇文档</a></p>
<h4 id="4-1-管理"><a href="#4-1-管理" class="headerlink" title="4.1 管理"></a>4.1 管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 启动所有 gitlab 组件：</div><div class="line">sudo gitlab-ctl start</div><div class="line"></div><div class="line"># 停止所有 gitlab 组件：</div><div class="line">sudo gitlab-ctl stop</div><div class="line"></div><div class="line"># 重启所有 gitlab 组件：</div><div class="line">sudo gitlab-ctl restart</div></pre></td></tr></table></figure>
<h4 id="4-2-备份"><a href="#4-2-备份" class="headerlink" title="4.2 备份"></a>4.2 备份</h4><p>备份GitLab repositories and GitLab metadata</p>
<p>在 crontab 中加入如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0 2 * * * /usr/bin/gitlab-rake gitlab:backup:create</div></pre></td></tr></table></figure>
<h4 id="4-3-恢复"><a href="#4-3-恢复" class="headerlink" title="4.3 恢复"></a>4.3 恢复</h4><p>首先进入备份 gitlab 的目录，这个目录是配置文件中的<code>gitlab_rails[&#39;backup_path&#39;]</code> ，默认为 <code>/var/opt/gitlab/backups</code> 。</p>
<p>然后停止 <code>unicorn 和 sidekiq</code> ，保证数据库没有新的连接，不会有写数据情况。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo gitlab-ctl stop unicorn</div><div class="line"># ok: down: unicorn: 0s, normally up</div><div class="line">sudo gitlab-ctl stop sidekiq</div><div class="line"># ok: down: sidekiq: 0s, normally up</div></pre></td></tr></table></figure>
<p>然后恢复数据，1406691018为备份文件的时间戳</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gitlab-rake gitlab:backup:restore BACKUP=1406691018</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[windows下服务程序相关]]></title>
      <url>/uncategorized/2017/04/12/windows%E5%AD%A6%E4%B9%A0-2017-04-12-windows%E4%B8%8B%E9%9D%A2%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2017年11月25日
</code></pre><a id="more"></a>
<hr>
<h3 id="1-Windows-Service-编程实现"><a href="#1-Windows-Service-编程实现" class="headerlink" title="1. Windows Service 编程实现"></a>1. <code>Windows Service</code> 编程实现</h3><p>在windows平台下面编写 服务程序 免不了要去查看微软的开发者文档，相关的介绍在<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms686953(v=vs.85).aspx" target="_blank" rel="external">这里</a>, 多了也就不在罗嗦了,如果你嫌弃直接用他们的<code>API</code>的话,可以使用别人已经封装好的，比如:</p>
<table>
<thead>
<tr>
<th style="text-align:center">参考代码</th>
<th style="text-align:center">连接</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://github.com/magicsih/WindowsService" target="_blank" rel="external">参考代码001</a></td>
<td style="text-align:center"><a href="https://github.com/magicsih/WindowsService" target="_blank" rel="external">https://github.com/magicsih/WindowsService</a></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/Olster/windows_service" target="_blank" rel="external">参考代码002</a></td>
<td style="text-align:center"><a href="https://github.com/Olster/windows_service" target="_blank" rel="external">https://github.com/Olster/windows_service</a></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/Kingston1/windows-service" target="_blank" rel="external">参考代码003</a></td>
<td style="text-align:center"><a href="https://github.com/Kingston1/windows-service" target="_blank" rel="external">https://github.com/Kingston1/windows-service</a></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/horigome/sylph" target="_blank" rel="external">参考代码004</a></td>
<td style="text-align:center"><a href="https://github.com/horigome/sylph" target="_blank" rel="external">https://github.com/horigome/sylph</a></td>
</tr>
</tbody>
</table>
<h3 id="2-采用第三方封装的SCP"><a href="#2-采用第三方封装的SCP" class="headerlink" title="2. 采用第三方封装的SCP"></a>2. 采用第三方封装的SCP</h3><h3 id="2-1-nssm-Non-Sucking-Service-Manager"><a href="#2-1-nssm-Non-Sucking-Service-Manager" class="headerlink" title="2.1 nssm (Non-Sucking Service Manager)"></a>2.1 <code>nssm</code> (Non-Sucking Service Manager)</h3><ul>
<li><p>编译或者下载<code>nssm</code></p>
<p>  <a href="http://nssm.cc/download" target="_blank" rel="external">下载连接在这里</a>,一定要注意系统位数的区别，32位和64位;</p>
</li>
<li><p>使用方式</p>
</li>
</ul>
<p><img src="/res/img/blog/windows/nssm.png" alt="methods"></p>
]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[windows脚本UAC获取]]></title>
      <url>/windows%E5%AD%A6%E4%B9%A0/2017/04/12/windows%E5%AD%A6%E4%B9%A0-2017-04-12-windowsUAC/</url>
      <content type="html"><![CDATA[<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">auther  =  <span class="string">'daodaoliang'</span></div><div class="line">version =  <span class="string">'V 0.0.1'</span></div><div class="line">date    =  <span class="string">'2017年04月12日'</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<hr>
<p>常用的windows下面的脚本，首先判断用户的管理员权限，而后进行<code>sc</code>的服务操作;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">echo off</div><div class="line">cls</div><div class="line">:-------------------------------------</div><div class="line">REM  --&gt; Check for permissions</div><div class="line">&gt;nul 2&gt;&amp;1 "%SYSTEMROOT%\system32\cacls.exe" "%SYSTEMROOT%\system32\config\system"</div><div class="line">REM --&gt; If error flag set, we do not have admin.</div><div class="line">if '%errorlevel%' NEQ '0' (</div><div class="line">    echo Requesting administrative privileges...</div><div class="line">    goto UACPrompt</div><div class="line">) else ( goto gotAdmin )</div><div class="line"></div><div class="line">:UACPrompt</div><div class="line">    echo Set UAC = CreateObject^("Shell.Application"^) &gt; "%temp%\getadmin.vbs"</div><div class="line">    set params = %*:"=""</div><div class="line">    echo UAC.ShellExecute "cmd.exe", "/c %~s0 %params%", "", "runas", 1 &gt;&gt; "%temp%\getadmin.vbs"</div><div class="line"></div><div class="line">    "%temp%\getadmin.vbs"</div><div class="line">    del "%temp%\getadmin.vbs"</div><div class="line">    exit /B</div><div class="line"></div><div class="line">:gotAdmin</div><div class="line">    pushd "%CD%"</div><div class="line">    CD /D "%~dp0"</div><div class="line">:--------------------------------------</div><div class="line"></div><div class="line">echo --- Logger Service Installer ---</div><div class="line">set /p servicename=Service name :</div><div class="line">echo Options:</div><div class="line">echo 1. Install</div><div class="line">echo 2. Start</div><div class="line">echo 3. Stop </div><div class="line">echo 4. Remove</div><div class="line">echo 5. Exit</div><div class="line">:CASE_init</div><div class="line">SET /P option="Option: "</div><div class="line">2&gt;NUL CALL :CASE_%option% # jump to :CASE_1, :CASE_2, CASE_3, CASE_4, CASE_5</div><div class="line">IF ERRORLEVEL 1 CALL :DEFAULT_CASE # if label doesn't exist</div><div class="line"></div><div class="line">ECHO Done.</div><div class="line">EXIT /B</div><div class="line"></div><div class="line">:CASE_1</div><div class="line"></div><div class="line">sc create %servicename% binPath= "yourpath/app.exe"</div><div class="line">GOTO CASE_init</div><div class="line">:CASE_2</div><div class="line">sc start %servicename%</div><div class="line">GOTO CASE_init</div><div class="line">:CASE_3</div><div class="line">sc stop %servicename%</div><div class="line">GOTO CASE_init</div><div class="line">:CASE_4</div><div class="line">sc delete %servicename%</div><div class="line">GOTO CASE_init</div><div class="line">:CASE_5</div><div class="line">GOTO END_CASE</div><div class="line">:DEFAULT_CASE</div><div class="line">ECHO Unknown option %option%</div><div class="line">GOTO CASE_init</div><div class="line">:END_CASE</div><div class="line">pause</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> windows学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[最为常用的HASH算法]]></title>
      <url>/c-%E5%AD%A6%E4%B9%A0/2017/03/08/c-%E5%AD%A6%E4%B9%A0-2017-03-08-HashAlgorithm/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2017年03月08日
</code></pre><p> murmurhash2算法 和 DJB Hash算法是目前最流行的hash算法</p>
<a id="more"></a>
<h3 id="1-DJB-HASH算法"><a href="#1-DJB-HASH算法" class="headerlink" title="1.DJB HASH算法"></a>1.DJB HASH算法</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* the famous DJB Hash Function for strings */</span></div><div class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">DJBHash</span><span class="params">(<span class="keyword">char</span> *str)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> hash = <span class="number">5381</span>;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (*str)&#123;</div><div class="line">       hash = ((hash &lt;&lt; <span class="number">5</span>) + hash) + (*str++); <span class="comment">/* times 33 */</span></div><div class="line">    &#125;</div><div class="line">    hash &amp;= ~(<span class="number">1</span> &lt;&lt; <span class="number">31</span>); <span class="comment">/* strip the highest bit */</span></div><div class="line">    <span class="keyword">return</span> hash;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="2-murmurhash2"><a href="#2-murmurhash2" class="headerlink" title="2.murmurhash2"></a>2.murmurhash2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">uint32_t</span></div><div class="line">murmur_hash2(<span class="keyword">char</span> *data, <span class="keyword">size_t</span> len)</div><div class="line">&#123;  </div><div class="line">    <span class="keyword">uint32_t</span>  h, k;</div><div class="line">  </div><div class="line">    h = <span class="number">0</span> ^ len;</div><div class="line">  </div><div class="line">    <span class="keyword">while</span> (len &gt;= <span class="number">4</span>) &#123;</div><div class="line">        k  = data[<span class="number">0</span>];</div><div class="line">        k |= data[<span class="number">1</span>] &lt;&lt; <span class="number">8</span>;</div><div class="line">        k |= data[<span class="number">2</span>] &lt;&lt; <span class="number">16</span>;</div><div class="line">        k |= data[<span class="number">3</span>] &lt;&lt; <span class="number">24</span>;</div><div class="line">  </div><div class="line">        k *= <span class="number">0x5bd1e995</span>;</div><div class="line">        k ^= k &gt;&gt; <span class="number">24</span>;</div><div class="line">        k *= <span class="number">0x5bd1e995</span>;</div><div class="line"></div><div class="line">        h *= <span class="number">0x5bd1e995</span>;</div><div class="line">        h ^= k;</div><div class="line"></div><div class="line">        data += <span class="number">4</span>;</div><div class="line">        len -= <span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">switch</span> (len) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">        h ^= data[<span class="number">2</span>] &lt;&lt; <span class="number">16</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">        h ^= data[<span class="number">1</span>] &lt;&lt; <span class="number">8</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">        h ^= data[<span class="number">0</span>];</div><div class="line">        h *= <span class="number">0x5bd1e995</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    h ^= h &gt;&gt; <span class="number">13</span>;</div><div class="line">    h *= <span class="number">0x5bd1e995</span>;</div><div class="line">    h ^= h &gt;&gt; <span class="number">15</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> h;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> c++学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5下升级NodeJs]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2017/02/17/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2017-02-17-CentOS%E4%B8%8B%E5%8D%87%E7%BA%A7NodeJs/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 1.0.1
邮箱：daodaoliang@yeah.net
</code></pre><a id="more"></a>
<p>  <code>NodeJs</code> 是什么就不在赘述，可一直接参考<a href="https://nodejs.org/en/" target="_blank" rel="external">英文官网</a>，或者<a href="http://nodejs.cn/" target="_blank" rel="external">中文官网</a>，在项目中进行应用时，有时候需要用到最新版本的特性，但是CentOS系统为了稳定性，默认的源都是在该版本的操作系统发布时或者更新时的最稳定版本，所以仅仅是采用<code>yum update</code> 的操作是不能进行对应升级的。<br>  所以下面采用两种方式来进行在线升级。</p>
<h3 id="0x01-用-n-模块来进行-nodejs-升级"><a href="#0x01-用-n-模块来进行-nodejs-升级" class="headerlink" title="0x01 用 n 模块来进行 nodejs 升级"></a>0x01 用 <code>n</code> 模块来进行 <code>nodejs</code> 升级</h3><p>  在 <code>NodeJs</code> 中有一个模块叫做 <code>n</code> 专门用来管理 <code>NodeJs</code> 的版本。</p>
<ul>
<li><p>首先下载安装模块 <code>n</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g n</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>升级<code>NodeJs</code>到最新版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n stable</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>升级<code>NodeJs</code>到指定版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n 0.10.23</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="0x04-用编译好的二进制文件进行安装更新"><a href="#0x04-用编译好的二进制文件进行安装更新" class="headerlink" title="0x04 用编译好的二进制文件进行安装更新"></a>0x04 用编译好的二进制文件进行安装更新</h3><p>  在官网下载相关系统平台下面编译好的二进制包。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd node-v0.10.28-linux-x64/bin</div><div class="line">ls</div><div class="line">./node -v</div></pre></td></tr></table></figure>
<p>  上面的二进制文件就是编译好的新版本的<code>node</code>文件，不过并没有添加到环境变量里面，所以可以通过下面这种方式进行设置为全局变量</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ln -s /home/kun/mysofltware/node-v0.10.28-linux-x64/bin/node /usr/local/bin/node</div><div class="line">ln -s /home/kun/mysofltware/node-v0.10.28-linux-x64/bin/npm /usr/local/bin/npm</div></pre></td></tr></table></figure>
<h3 id="0x03-用源码的方式进行编译安装"><a href="#0x03-用源码的方式进行编译安装" class="headerlink" title="0x03 用源码的方式进行编译安装"></a>0x03 用源码的方式进行编译安装</h3><p>一般用方式一就可以完成升级安装，但是有时候会出现一些莫名其妙的错误，比如说是<code>segment fault</code>之类的错误，这个时候我只能用源码的方式进行编译安装。</p>
<p>首先<code>NodeJs</code>使用<code>C++</code>语言编写的，所以在编译源码时需要用到gcc-g++编译器，目前最新的<code>NodeJs</code>代码用到了<code>c11</code>的一些特性，所以对编译器的版本要求在4.8+所以首先要对编译器进行安装和升级。</p>
<ul>
<li><p>安装并升级编译器到4.8+</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yum install gcc-c++ openssl-devel</div><div class="line">wget http://people.centos.org/tru/devtools-2/devtools-2.repo</div><div class="line">mv devtools-2.repo /etc/yum.repos.d</div><div class="line">yum install devtoolset-2-gcc devtoolset-2-binutils devtoolset-2-gcc-c++</div></pre></td></tr></table></figure>
</li>
</ul>
<p> 三个安装包被安装在<code>/opt/rh/devtoolset-2/root/</code>中</p>
<p> 更新软连接:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mv /usr/bin/gcc /usr/bin/gcc-4.4.7 </div><div class="line">mv /usr/bin/g++ /usr/bin/g++-4.4.7 </div><div class="line">mv /usr/bin/c++ /usr/bin/c++-4.4.7 </div><div class="line">ln -s /opt/rh/devtoolset-2/root/usr/bin/gcc /usr/bin/gcc </div><div class="line">ln -s /opt/rh/devtoolset-2/root/usr/bin/c++ /usr/bin/c++ </div><div class="line">ln -s /opt/rh/devtoolset-2/root/usr/bin/g++ /usr/bin/g++ </div><div class="line">gcc --version</div></pre></td></tr></table></figure>
<ul>
<li><p>检查核对<code>python</code>版本</p>
<p><code>nodejs</code>需要python版本在2.6版本以上，我们需要检查版本是否对应符合，如果不符合那就进行一下升级；</p>
</li>
<li><p>编译安装最新版本的<code>nodejs</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">wget http://nodejs.org/dist/node-latest.tar.gz</div><div class="line">tar -zxvf node-latest.tar.gz</div><div class="line">cd node-v0.12.7</div><div class="line">./configure</div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
</li>
</ul>
<p> 不管是用哪种方式进行升级都需要很长的时间，休息一会等着就好了，升级完成后查看一下版本信息；</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node -v</div></pre></td></tr></table></figure>
<p> <strong>PS:</strong> 在升级的过程中把<code>node</code> 运行的相关程序要关闭，不然会在编译时由于文件占用的关系产生错误.</p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux内核漫画(转载)]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2017/02/06/linux%E5%AD%A6%E4%B9%A0-2017-02-06-linux%E5%86%85%E6%A0%B8%E6%BC%AB%E7%94%BB/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2017年02月06日
</code></pre><p>网络上看到的觉得很形象就转载过来啦，伟大的Linux内核漫画化。</p>
<a id="more"></a>
<p><img src="/res/img/blog/linux学习/linux.jpeg" alt="linux 内核漫画"></p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下C++的编译过程]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2017/02/01/c-%E5%AD%A6%E4%B9%A0-2017-02-14-linux%E4%B8%8BC-%E7%9A%84%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2017年02月01日
</code></pre><a id="more"></a>
<p>在linux下面c++程序从源码变成用户触手可用的可执行程序通常分为配置、编译和安装，具体的过程和描述如下.</p>
<h3 id="0x01-配置阶段-Configure"><a href="#0x01-配置阶段-Configure" class="headerlink" title="0x01 配置阶段(Configure)"></a>0x01 配置阶段(Configure)</h3><p>  一个生产环境的系统一般都是需要调用一些系统提供的功能库和一些其他功能库，由于系统环境的不同编译器需要知道系统库存在哪里，软件编译完成后安装在哪里，需要安装那些第三方组件等等，同时工程项目的文件也存在相互的引用和依赖关系，所有这些都需要在<code>configure</code>阶段解决。配置阶段完成以后会产生<code>makefile</code>文件。</p>
<h3 id="0x02-编译阶段-Make"><a href="#0x02-编译阶段-Make" class="headerlink" title="0x02 编译阶段(Make)"></a>0x02 编译阶段(Make)</h3><p>  编译阶段的就是把程序工程文件从人类可读经过处理后变成机器可执行的二进制指令码的过程，对于linux 下面 gcc 编译器来说一般是预处理、编译、汇编和链接。</p>
<h4 id="0x021-预处理-Preprocessing"><a href="#0x021-预处理-Preprocessing" class="headerlink" title="0x021 预处理(Preprocessing)"></a>0x021 预处理(Preprocessing)</h4><p>  预处理后的文件一般为<code>.i</code>结尾，这个过程一般包含以下几个子过程:</p>
<ul>
<li>展开宏定义，删除所有<code>#define</code>；</li>
<li>处理所有的条件预编译指令，<code>#if #ifdef #elif #else #endif</code> 等；</li>
<li>处理<code>#include</code>预编译指令，将被包含的文件插入到该预编译指令的位置；</li>
<li>删除所有的注释；</li>
<li>添加行号和文件标识，以便在编译时产生调试用的行号，以及编译错误的警告行号；</li>
<li><p>保留所有的<code>#pragma</code> 编译器指令，在编译阶段编译器需要使用；</p>
<p>通常如果只进行预处理的话一般用如下命令:</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gcc -E hello.c -o hello.i</div></pre></td></tr></table></figure>
<h4 id="0x022-编译-Compilation"><a href="#0x022-编译-Compilation" class="headerlink" title="0x022 编译(Compilation)"></a>0x022 编译(Compilation)</h4><p>  编译的过程就是把工程文件进行一系列的词法分析、语法分析、语义分析、以及优化后生成相关的汇编代码；</p>
<p>  通常如果只进行编译处理的一般用如下命令:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gcc -S hello.i -o hello.s</div></pre></td></tr></table></figure>
<h4 id="0x023-汇编-Assembly"><a href="#0x023-汇编-Assembly" class="headerlink" title="0x023 汇编(Assembly)"></a>0x023 汇编(Assembly)</h4><p>汇编器是将汇编代码转换成机器码</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gcc -c hello.c -o hello.o</div></pre></td></tr></table></figure>
<p>  或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">as hello.s -o hello.o</div></pre></td></tr></table></figure>
<h4 id="0x024-连接-Linking"><a href="#0x024-连接-Linking" class="headerlink" title="0x024 连接(Linking)"></a>0x024 连接(Linking)</h4><p>链接的主要作用就是把各个二进制中间文件链接起来生成一个可执行的二进制文件，链接分为动态链接和静态连接:</p>
<ul>
<li>动态链接：链接阶段仅仅加入一些描述信息，而程序执行时再从系统中把相应的动态库加载到内存中。</li>
</ul>
<p><img src="/res/img/blog/c++/linking.jpg" alt="linux-C++编译过程"></p>
<h3 id="0x03-安装阶段-make-install"><a href="#0x03-安装阶段-make-install" class="headerlink" title="0x03 安装阶段(make install)"></a>0x03 安装阶段(make install)</h3><p>编译的整个过程都是在内存中进行，编译出来的二进制可执行文件也是存在编译时指定的位置，下一步就是将可执行文件安装到用户指定目录并做好善后工作，这其中包含，创建对应的目录，保存文件，设置权限等步骤；同时程序安装完成后也需要还需要进行操作系统的关联，创建快捷方式和做文件关联等等个性化需求。</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ssh超时时间设置]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/12/29/linux%E5%AD%A6%E4%B9%A0-2016-12-29-ssh%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%E8%AE%BE%E7%BD%AE/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2016年12月29日
</code></pre><a id="more"></a>
<hr>
<h4 id="0x00-OpenSSH-简介"><a href="#0x00-OpenSSH-简介" class="headerlink" title="0x00 OpenSSH 简介"></a>0x00 OpenSSH 简介</h4><p><a href="http://www.openssh.com/" target="_blank" rel="external">OpenSSH</a>是采用SSH协议实现的重要的远程连接工具，它对所有的数据进行加密以防止被中途窃听，<a href="http://www.openssh.com/" target="_blank" rel="external">OpenSSH</a>提供了大量的安全通道的组件，比如：</p>
<ol>
<li>远程操作用<a href="http://man.openbsd.org/?query=ssh&amp;sektion=1" target="_blank" rel="external">ssh</a>、<a href="http://man.openbsd.org/?query=scp&amp;sektion=1" target="_blank" rel="external">scp</a>、<a href="http://man.openbsd.org/?query=sftp&amp;sektion=1" target="_blank" rel="external">sftp</a>;</li>
<li>秘钥管理用<a href="http://man.openbsd.org/?query=ssh-add&amp;sektion=1" target="_blank" rel="external">ssh-add</a>、<a href="http://man.openbsd.org/?query=ssh-keysign&amp;sektion=8" target="_blank" rel="external">ssh-keysign</a>、<a href="http://man.openbsd.org/?query=ssh-keyscan&amp;sektion=1" target="_blank" rel="external">ssh-keyscan</a>、<a href="http://man.openbsd.org/?query=ssh-keygen&amp;sektion=1" target="_blank" rel="external">ssh-keygen</a>;</li>
<li>服务端包含<a href="http://man.openbsd.org/?query=sshd&amp;sektion=8" target="_blank" rel="external">sshd</a>、<a href="http://man.openbsd.org/?query=sftp-server&amp;sektion=8" target="_blank" rel="external">sftp-server</a>、<a href="http://man.openbsd.org/?query=ssh-agent&amp;sektion=1" target="_blank" rel="external">ssh-agent</a>;</li>
</ol>
<h4 id="0x01-方案一"><a href="#0x01-方案一" class="headerlink" title="0x01 方案一"></a>0x01 方案一</h4><p>上面的所有信息可以自行去对应官网链接进行进一步的学习，在下面只讨论对于sshd的超时连接的问题。</p>
<ol>
<li>修改server端的配置文件<code>/etc/ssh/sshd_config</code></li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># server每隔60秒给客户端发送一次保活信息包给客户端</span></div><div class="line">ClientAliveInterval 60</div><div class="line"></div><div class="line"><span class="comment"># server端发出的请求客户端没有回应的次数达到86400次的时候就断开连接，正常情况下客户端都会相应</span></div><div class="line">ClientAliveCountMax 86400</div></pre></td></tr></table></figure>
<ol>
<li>修改client端的配置文件<code>/etc/ssh/ssh_config</code></li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># client 每隔60秒给客户端发送一次保活信息包给客户端</span></div><div class="line">ServerAliveInterval 60</div><div class="line"></div><div class="line"><span class="comment"># client 端发出的请求服务端没有回应的次数达到86400次的时候就断开连接，正常情况下服务端都会相应</span></div><div class="line">ServerAliveCountMax 86400</div></pre></td></tr></table></figure>
<h4 id="0x02-方案二"><a href="#0x02-方案二" class="headerlink" title="0x02 方案二"></a>0x02 方案二</h4><p>在命令参数里</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">ssh -o ServerAliveInterval=60</div></pre></td></tr></table></figure>
<p>这样子只会在需要的连接中保持持久连接，具体的参数请<a href="http://man.openbsd.org/sshd_config.5" target="_blank" rel="external">参考这里</a>。</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[windows下获取系统信息VBS脚本]]></title>
      <url>/windows%E5%AD%A6%E4%B9%A0/2016/11/25/windows%E5%AD%A6%E4%B9%A0-2016-11-25-windows%E4%B8%8B%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AFVBS%E8%84%9A%E6%9C%AC/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2016年11月25日
</code></pre><a id="more"></a>
<hr>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div></pre></td><td class="code"><pre><div class="line">'********************************************************************</div><div class="line">'*                                                                  *</div><div class="line">'*                           Begin of File                          *</div><div class="line">'*                                                                  *</div><div class="line">'*******************************************************************</div><div class="line"></div><div class="line"></div><div class="line">On Error Resume Next</div><div class="line"></div><div class="line">Const forwriting=2</div><div class="line">Const forreading=1</div><div class="line">Dim oFSO,oF,eventlog</div><div class="line"></div><div class="line"></div><div class="line">Text = "此脚本运行不会对您的系统造成任何损害或恶意行为" &amp;VbCrLf&amp;vbCrlf&amp; "通过连接WMI提供的公共接口枚举系统相关信息"&amp;VbCrLf&amp;VbCrLf&amp; "按确定键运行30秒左右会生成html格式报告"</div><div class="line">Title_Text = "bkReport  Version 2.2"</div><div class="line">MsgBox Text,vbExclamation+vbSystemModal,Title_Text</div><div class="line"></div><div class="line">dtmStart = Now()</div><div class="line"></div><div class="line">strComputer = "."</div><div class="line">Set oShell = WScript.CreateObject("WScript.Shell")</div><div class="line">hostname=oShell.ExpandEnvironmentStrings("%computername%")</div><div class="line">MainReport=hostname&amp;"_Report.html"</div><div class="line">EventReport=hostname&amp;"_EventLog.html"</div><div class="line">datec=Now()</div><div class="line">Set oFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line">Set oF = oFSO.CreateTextFile(MainReport)</div><div class="line">Set eventlog=oFSO.CreateTextFile(EventReport)</div><div class="line"></div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line"></div><div class="line">Set colComputers = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_ComputerSystem")</div><div class="line"></div><div class="line">For Each objComputer in colComputers</div><div class="line">   Select  Case objComputer.DomainRole</div><div class="line">    Case "0" machine= "独立工作站"</div><div class="line">    Case "1" machine= "成员工作站"</div><div class="line">    Case "2" machine= "独立服务器"</div><div class="line">    Case "3" machine= "成员服务器"</div><div class="line">    Case "4" machine= "备份服务器"</div><div class="line">    Case "5" machine= "主域控制器"</div><div class="line">   End Select</div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;html&gt;"</div><div class="line">oF.WriteLine "&lt;head&gt;&lt;title&gt;MainReport Build by bkReport.vbs&lt;/title&gt;&lt;/head&gt;"</div><div class="line">oF.Writeline "&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;"</div><div class="line">oF.WriteLine "&lt;h2&gt;&lt;font color=MidnightBlue&gt;&lt;center&gt;"&amp;hostname&amp;"@"&amp;machine&amp;"   快照信息 &lt;/center&gt;&lt;/font&gt;&lt;/h2&gt;"</div><div class="line">oF.WriteLine "&lt;p align=right&gt;&lt;font size=2&gt;date: " &amp; Now()&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">oF.Writeline "&lt;hr width=80% color=#ff8000&gt;"</div><div class="line">oF.Writeline "&lt;p&gt;&amp;nbsp;&lt;/p&gt;"</div><div class="line">oF.WriteLine "&lt;OL&gt;&lt;LI&gt;&lt;a href=#here1&gt;系统摘要&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here2&gt;BIOS信息&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here3&gt;环境变量&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here4&gt;系统文件内容&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here5&gt;网络状态&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here6&gt;磁盘和共享&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here7&gt;进程&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here8&gt;进程ID对应的启动服务&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here9&gt;服务&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here10&gt;补丁&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here11&gt;软件&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here12&gt;帐号&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here13&gt;AT创建的计划任务&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here14&gt;重要文件属性&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here15&gt;自启动项&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here16&gt;注册表&lt;/a&gt;"</div><div class="line">oF.WriteLine "&lt;LI&gt;&lt;a href=#here17&gt;系统日志&lt;/a&gt;&lt;/LI&gt;&lt;/OL&gt;"</div><div class="line">oF.Writeline "&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;"</div><div class="line">'---------------------------------</div><div class="line">'系统摘要</div><div class="line">' --------------------------------</div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer)</div><div class="line">Set colOperatingSystems = objWMIService.InstancesOf("Win32_OperatingSystem")</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here1&gt;"&amp;"[  1. 系统摘要  ]"&amp;"&lt;/a&gt;&lt;/font&gt;&lt;/h3&gt;"</div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt cellspacing=1 align=CENTER&gt;"</div><div class="line">For Each objOperatingSystem In colOperatingSystems</div><div class="line">ostype=objOperatingSystem.Name</div><div class="line">LastbootUpTime=objOperatingSystem.LastBootUpTime</div><div class="line">'     oF.WriteLine "&lt;tr&gt;&lt;td&gt;&lt;b&gt;" &amp;"Name:            "&amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;"&amp; objOperatingSystem.Name &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"> '    oF.WriteLine  "&lt;tr&gt;&lt;td&gt;&lt;b&gt;" &amp; "Caption:         " &amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;" &amp;objOperatingSystem.Caption &amp;"&lt;/td&gt;&lt;/tr&gt;"    </div><div class="line">  '   oF.WriteLine  "&lt;tr&gt;&lt;td&gt;&lt;b&gt;" &amp; "LastBootUpTime:  "&amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;"&amp;objOperatingSystem.LastBootUpTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">   '  oF.WriteLine  "&lt;tr&gt;&lt;td&gt;&lt;b&gt;" &amp; "LocalDateTime:   " &amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;"&amp;objOperatingSystem.LocalDateTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    ' oF.WriteLine  "&lt;tr&gt;&lt;td&gt;&lt;b&gt;"&amp; "Version:         " &amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;"&amp;objOperatingSystem.Version    &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">     'oF.WriteLine  "&lt;tr&gt;&lt;td&gt;&lt;b&gt;"&amp; "Windows Directory: "&amp;"&lt;/b&gt;&lt;/td&gt;&lt;td&gt;"&amp;objOperatingSystem.WindowsDirectory&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colItems = objWMIService.ExecQuery("Select * from Win32_MemoryArray")</div><div class="line"></div><div class="line">For Each objItem in colItems</div><div class="line">memsize =CLng(objItem.EndingAddress /1024)</div><div class="line">'    oF.WriteLine "memory size: " &amp; objItem.EndingAddress  /1024 &amp;" MB"</div><div class="line">Next</div><div class="line"></div><div class="line">Set objWMI = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set col = objWMI.ExecQuery("Select * from Win32_Processor")</div><div class="line"></div><div class="line">For Each obj in col</div><div class="line"></div><div class="line"></div><div class="line">    cpuinfo=obj.Name</div><div class="line">     Next</div><div class="line"></div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt&gt; &lt;tr&gt;&lt;th CLASS=pt bgColor=#808080&gt;OS&lt;/th&gt;&lt;th bgColor=#808080&gt;HostName&lt;/th&gt;&lt;th bgColor=#808080&gt;Memory&lt;/th&gt;&lt;th bgColor=#808080&gt;CPU&lt;/th&gt;&lt;th bgColor=#808080&gt;LastBootUpTime&lt;/th&gt;&lt;/tr&gt; "</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;ostype&amp;"&lt;/td&gt;&lt;td&gt;"&amp;hostname&amp;"&lt;/td&gt;&lt;td&gt;"&amp;memsize&amp;"MB&lt;/td&gt;&lt;td&gt;"&amp;cpuinfo&amp;"&lt;/td&gt;&lt;td&gt;"&amp; LastBootUpTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line"></div><div class="line"> strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:\\"&amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colAdapters = objWMIService.ExecQuery _</div><div class="line">  ("SELECT * FROM Win32_NetworkAdapterConfiguration WHERE IPEnabled = True")</div><div class="line"></div><div class="line"> oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Adapter&lt;/th&gt;&lt;th bgColor=#808080&gt;MACaddr&lt;/th&gt;&lt;th bgColor=#808080&gt;IPaddr&lt;/th&gt;&lt;th bgColor=#808080&gt;Subnet&lt;/th&gt;&lt;th bgColor=#808080&gt;gateway&lt;/th&gt;&lt;/tr&gt; "</div><div class="line"></div><div class="line">For Each objAdapter in colAdapters</div><div class="line">  Adapter= objAdapter.Description</div><div class="line">  MACaddr= objAdapter.MACAddress</div><div class="line"></div><div class="line">   If Not IsNull(objAdapter.IPAddress) Then</div><div class="line">      For i = 0 To UBound(objAdapter.IPAddress)</div><div class="line">        IPaddr=objAdapter.IPAddress(i)</div><div class="line"></div><div class="line">      Next</div><div class="line">   End If</div><div class="line">   If Not IsNull(objAdapter.IPSubnet) Then</div><div class="line">      For i = 0 To UBound(objAdapter.IPSubnet)</div><div class="line">        Subnet=objAdapter.IPSubnet(i)</div><div class="line">      Next</div><div class="line">   End If</div><div class="line">   If Not IsNull(objAdapter.DefaultIPGateway) Then</div><div class="line">      For i = 0 To UBound(objAdapter.DefaultIPGateway)</div><div class="line">         gateway = objAdapter.DefaultIPGateway(i)</div><div class="line">      Next</div><div class="line">   End If</div><div class="line"></div><div class="line"></div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;Adapter&amp;"&lt;/td&gt;&lt;td&gt;"&amp;MACaddr&amp;"&lt;/td&gt;&lt;td&gt;"&amp;IPaddr&amp;"&lt;/td&gt;&lt;td&gt;"&amp;Subnet&amp;"&lt;/td&gt;&lt;td&gt;"&amp;gateway&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line"> Next</div><div class="line"> oF.WriteLine "&lt;/table&gt;"  </div><div class="line"></div><div class="line"></div><div class="line"> '--------------------------------------------------------------------</div><div class="line"> 'BIOS信息</div><div class="line"> '--------------------------------------------------------------------</div><div class="line"> oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here2&gt;"&amp;"[  2. BIOS信息  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line"> Set objWMIService = GetObject("winmgmts:" _</div><div class="line">    &amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colBIOS = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_BIOS")</div><div class="line">     oF.WriteLine "&lt;TABLE BORDER=1 WIDTH=800 style=font-size:9pt cellspacing=1&gt;&lt;TR&gt;&lt;TD&gt;"</div><div class="line">For Each objBIOS in colBIOS</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp;"Build Number: " &amp;objBIOS.BuildNumber&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp;"Current Language: " &amp;objBIOS.CurrentLanguage&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp;"Installable Languages: " &amp;objBIOS.InstallableLanguages&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Manufacturer: " &amp;objBIOS.Manufacturer&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Name: "&amp;objBIOS.Name&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Primary BIOS: "&amp; objBIOS.PrimaryBIOS&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Release Date: " &amp;objBIOS.ReleaseDate&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Serial Number: " &amp; objBIOS.SerialNumber&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "SMBIOS Version: " &amp;objBIOS.SMBIOSBIOSVersion&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line"></div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp;"SMBIOS Minor Version: " &amp;objBIOS.SMBIOSMinorVersion&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">   oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "SMBIOS Present: " &amp;objBIOS.SMBIOSPresent&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Status: " &amp;objBIOS.Status&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "Version: " &amp;objBIOS.Version&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    oF.WriteLine  "&lt;p&gt;&lt;font size=2&gt;"&amp; "BIOS Characteristics: "&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line"></div><div class="line">Next</div><div class="line"> oF.WriteLine  "&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"> '-----------------------------------------------------------------</div><div class="line"> '环境变量</div><div class="line"> '-----------------------------------------------------------------</div><div class="line"> oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here3&gt;"&amp;"[  3. 环境变量  ]"&amp;"&lt;/a&gt;&lt;/font &lt;/h3&gt;"</div><div class="line"> Set wshshell = CreateObject("WScript.Shell")</div><div class="line">oF.WriteLine "&lt;TABLE BORDER=1 WIDTH=800 style=font-size:9pt cellspacing=1&gt;&lt;TR&gt;&lt;TD&gt;"</div><div class="line">oF.writeline "&lt;b&gt;&lt;font size=3&gt;SYSTEM variables&lt;/font&gt;&lt;/b&gt;"</div><div class="line">For Each EnvirSYSTEM In wshshell.Environment("SYSTEM")</div><div class="line"> oF.writeline "&lt;p&gt;&lt;font size=2&gt;" &amp;EnvirSYSTEM &amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line"></div><div class="line">Next</div><div class="line">  oF.writeline "&lt;b&gt;&lt;font size=3&gt;PROCESS variables&lt;/font&gt;&lt;/b&gt;"</div><div class="line">For Each EnvirPROCESS In wshshell.Environment("PROCESS")</div><div class="line"> oF.writeline "&lt;p&gt;&lt;font size=2&gt;"&amp;EnvirPROCESS &amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Next</div><div class="line">  oF.writeline "&lt;b&gt;&lt;font size=3&gt;USER variables&lt;/font&gt;&lt;/b&gt;"</div><div class="line">For Each EnvirUSER In wshshell.Environment("USER")</div><div class="line"> oF.writeline "&lt;p&gt;&lt;font size=2&gt;"&amp;EnvirUSER &amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Next</div><div class="line"> oF.writeline "&lt;b&gt;&lt;font size=3&gt;VOLATILE variables&lt;/font&gt;&lt;/b&gt;"</div><div class="line">For Each EnvirVOLATILE In wshshell.Environment("VOLATILE")</div><div class="line"> oF.writeline "&lt;p&gt;&lt;font size=2&gt;"&amp;EnvirVOLATILE &amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Next</div><div class="line"></div><div class="line">set wshshell=Nothing</div><div class="line"> oF.WriteLine  "&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"</div><div class="line"> '----------------------------------</div><div class="line"> '系统文件</div><div class="line"> '----------------------------------</div><div class="line"> oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here4&gt;"&amp;"[  4. 系统文件内容  ]"&amp;"&lt;/a&gt;&lt;/font&gt;&lt;/h3&gt;"</div><div class="line"></div><div class="line"> Set wshshell=wscript.CreateObject("WScript.shell")</div><div class="line">autoexecBAT=wshshell.expandEnvironmentStrings("%systemdrive%")&amp;"\autoexec.bat"</div><div class="line">configSYS=wshshell.expandEnvironmentStrings("%systemdrive%")&amp;"\config.sys"</div><div class="line">bootINI=wshshell.expandEnvironmentStrings("%systemdrive%")&amp;"\boot.ini"</div><div class="line">winINI=wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\win.ini"</div><div class="line">systemINI=wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system.ini"</div><div class="line">autoexecNT=wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\autoexec.nt"</div><div class="line">configNT=wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\config.nt"</div><div class="line">HOSTS=wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\drivers\etc\hosts"</div><div class="line">Function readtxt (txtfile)</div><div class="line">Set objFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line">Set objFile = objFSO.OpenTextFile(txtfile, 1)</div><div class="line"> oF.WriteLine "&lt;TABLE BORDER=1 WIDTH=800 cellspacing=1&gt;&lt;TR&gt;&lt;TD&gt;&lt;b&gt;&lt;font size=3&gt;" &amp;txtfile &amp;"&lt;/font&gt;&lt;/b&gt;"</div><div class="line">Do Until objFile.AtEndOfStream</div><div class="line">    strCharacters = objFile.Readline</div><div class="line">     oF.WriteLine "&lt;p&gt;&lt;font size=2&gt;" &amp;strCharacters &amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Loop</div><div class="line">oF.WriteLine  "&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"</div><div class="line">End Function</div><div class="line">readtxt (autoexecBAT)</div><div class="line">readtxt (configSYS)</div><div class="line">readtxt (bootINI)</div><div class="line">readtxt (winINI)</div><div class="line">readtxt (systemINI)</div><div class="line">readtxt (autoexecNT)</div><div class="line">readtxt (configNT)</div><div class="line">readtxt (HOSTS)</div><div class="line"></div><div class="line"></div><div class="line"> '---------------------------------</div><div class="line">'网络状态</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;"&amp;"&lt;font color=MidnightBlue&gt;&lt;a name=here5&gt;"&amp;"[  5. 网络状态  ]"&amp;"&lt;/a&gt;&lt;/font &gt;"&amp;"&lt;/h3&gt;"</div><div class="line"></div><div class="line">Dim f1</div><div class="line">Set ws=WScript.CreateObject ("wscript.shell")</div><div class="line">ws.run "%comspec% /c echo ######################### ipconfig /all #########################  &gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c ipconfig /all  &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### netstat -r ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c netstat -r &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### arp -a ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c arp -a &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### netstat -an ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c netstat -an &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### nbtstat -r ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c nbtstat -r &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### nbtstat -n  ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c nbtstat -n &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### nbtstat -S ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c nbtstat -S &gt;&gt;ttmp",0,True</div><div class="line">ws.run "%comspec% /c echo ######################### netstat -es ######################### &gt;&gt; ttmp",0,True</div><div class="line">ws.run "%comspec% /c netstat -es &gt;&gt;ttmp",0,True</div><div class="line"></div><div class="line">Set f1=oFSO.OpenTextFile ("ttmp",forreading,True)</div><div class="line">oF.WriteLine "&lt;TABLE BORDER=1 WIDTH=800 cellspacing=1&gt;&lt;TR&gt;&lt;TD&gt;"</div><div class="line">Do Until  f1.AtEndOfStream</div><div class="line">a=f1.ReadLine</div><div class="line">oF.WriteLine "&lt;p&gt;&lt;font size=2&gt;" &amp;a&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Loop</div><div class="line">oF.WriteLine  "&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;"</div><div class="line">f1.Close</div><div class="line">ofso.DeleteFile "ttmp",True</div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检查磁盘和共享</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here6&gt;"&amp;"[ 6. 磁盘和共享  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line">Sub Enudisk</div><div class="line">oF.writeline "&lt;table BORDER=1 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">On Error Resume Next</div><div class="line">'Enumerate Disk Drive Properties 用了除法转成MB单位，并用clng函数取整</div><div class="line">Set objFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line">Set colDrives = objFSO.Drives</div><div class="line">of.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Drive letter: &lt;/th&gt;&lt;th bgColor=#808080&gt;Volume name: &lt;/th&gt;&lt;th bgColor=#808080&gt;File system: &lt;/th&gt;&lt;th bgColor=#808080&gt;Total size: &lt;/th&gt;&lt;th bgColor=#808080&gt;Free space: &lt;/th&gt;&lt;/tr&gt;"</div><div class="line">For Each objDrive in colDrives</div><div class="line">    of.writeline "&lt;tr&gt;&lt;td&gt;" &amp; objDrive.DriveLetter &amp;"&lt;/td&gt;"&amp;_</div><div class="line">    "&lt;td&gt;" &amp; objDrive.VolumeName&amp;"&lt;/td&gt;"&amp;_</div><div class="line">   "&lt;td&gt;" &amp; objDrive.FileSystem&amp;"&lt;/td&gt;"&amp;_</div><div class="line">    "&lt;td&gt;" &amp;  clng(objDrive.TotalSize /1024 /1024 ) &amp;"MB"&amp;"&lt;/td&gt;"&amp;_</div><div class="line">   "&lt;td&gt;" &amp;  CLng(objDrive.FreeSpace /1024 /1024 ) &amp;"MB"&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">Next</div><div class="line">If Err &lt;&gt;0 Then</div><div class="line"></div><div class="line">Err.Clear</div><div class="line">End If</div><div class="line"></div><div class="line">End Sub</div><div class="line"></div><div class="line">Enudisk</div><div class="line"></div><div class="line"></div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colItems = objWMIService.ExecQuery("Select * from Win32_Share",,48)</div><div class="line"></div><div class="line">    of.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Path: &lt;/th&gt;&lt;th bgColor=#808080&gt;Name: &lt;/th&gt;&lt;th bgColor=#808080&gt;Caption:&lt;/th&gt;&lt;th bgColor=#808080&gt;Status:&lt;/th&gt;&lt;th bgColor=#808080&gt;MaximumAllowed:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">For Each objItem in colItems</div><div class="line">    of.writeline "&lt;tr&gt;&lt;td&gt;"&amp; objItem.Path&amp;"&lt;/td&gt;"&amp;  _</div><div class="line">     "&lt;td&gt;" &amp; objItem.Name&amp;"&lt;/td&gt;"&amp; _</div><div class="line">    "&lt;td&gt;"  &amp; objItem.Caption&amp;"&lt;/td&gt;"&amp; _</div><div class="line">    "&lt;td&gt;" &amp; objItem.Status&amp;"&lt;/td&gt;"&amp;_</div><div class="line">     "&lt;td&gt;" &amp;objItem.MaximumAllowed &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">Next</div><div class="line"></div><div class="line">oF.WriteLine "&lt;/table&gt;"     </div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检测进程  </div><div class="line">' --------------------------------</div><div class="line"></div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here7&gt;"&amp;"[  7. 进程  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line">Set objWMI = _</div><div class="line">   GetObject("winmgmts:&#123;impersonationLevel=impersonate&#125;//./root/cimv2")</div><div class="line">Set colProcessList = objWMI.ExecQuery("SELECT * FROM Win32_Process")</div><div class="line">Set objFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line"></div><div class="line">oF.WriteLine "&lt;table BORDER=1  WIDTH=%100 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;UserDomain&lt;/th&gt;&lt;th bgColor=#808080&gt;Ownership&lt;/th&gt;&lt;th bgColor=#808080&gt;CreationDate&lt;/th&gt;&lt;th bgColor=#808080&gt;Process ID:&lt;/th&gt;&lt;th bgColor=#808080&gt;Process Name:&lt;/th&gt;"&amp;"&lt;th bgColor=#808080&gt;Executable Path:&lt;/th&gt;&lt;th bgColor=#808080&gt;Size:&lt;/th&gt;&lt;th bgColor=#808080&gt;File created:&lt;/th&gt;&lt;th bgColor=#808080&gt;File last modified:&lt;/th&gt;&lt;th bgColor=#808080&gt;File last accessed:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">For Each colprocess In colProcessList</div><div class="line"></div><div class="line">colProperties=colProcess.GetOwner(strNameOfUser,strUserDomain)</div><div class="line">Set objFile = objFSO.GetFile (colProcess.ExecutablePath)</div><div class="line">   oF.WriteLine "&lt;tr&gt;&lt;td&gt;" &amp; strUserDomain  &amp; "&lt;/td&gt;&lt;td&gt;"&amp;strNameOfUser&amp;"&lt;/td&gt;&lt;td&gt;"&amp; colProcess.CreationDate&amp;"&lt;/td&gt;&lt;td&gt;"&amp;colProcess.Processid &amp;"&lt;/td&gt;&lt;td&gt;" &amp;colprocess.name&amp;"&lt;/td&gt;&lt;td&gt;"&amp;colProcess.ExecutablePath &amp; "&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.Size &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;" &amp;  objFile.DateCreated &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.DateLastModified &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.DateLastAccessed &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line"></div><div class="line">oF.WriteLine "&lt;/table&gt;"</div><div class="line">'---------------------------------</div><div class="line">'检测进程id对应的服务  </div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here8&gt;"&amp;"[  8. 进程ID对应的启动服务  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line">  set objIdDictionary = CreateObject("Scripting.Dictionary")</div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:" _</div><div class="line">    &amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colServices = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_Service Where State &lt;&gt; 'Stopped'")</div><div class="line">For Each objService in colServices</div><div class="line">    If objIdDictionary.Exists(objService.ProcessID) Then</div><div class="line">    Else</div><div class="line">        objIdDictionary.Add objService.ProcessID, objService.ProcessID</div><div class="line">    End If</div><div class="line">Next</div><div class="line">colProcessIDs = objIdDictionary.Items</div><div class="line">oF.WriteLine "&lt;TABLE BORDER=1 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">For i = 0 to objIdDictionary.Count - 1</div><div class="line">    Set colServices = objWMIService.ExecQuery _</div><div class="line">        ("Select * from Win32_Service Where ProcessID = '" &amp; _</div><div class="line">            colProcessIDs(i) &amp; "'")</div><div class="line">   oF.WriteLine "&lt;TR&gt;&lt;TH bgColor=#808080&gt;Process ID: &lt;/TH&gt;&lt;td&gt;" &amp;colProcessIDs(i)&amp;"&lt;td/&gt;"</div><div class="line">    For Each objService in colServices</div><div class="line">          oF.WriteLine "&lt;tr&gt;&lt;td COLSPAN=2&gt;" &amp; objService.DisplayName &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    Next</div><div class="line">Next</div><div class="line"> oF.WriteLine  "&lt;/TABLE&gt;"</div><div class="line">'---------------------------------</div><div class="line">'检测服务  </div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;"&amp;"&lt;font color=MidnightBlue&gt;&lt;a name=here9&gt;"&amp;"[   9. 服务  ]"&amp;"&lt;/a&gt;&lt;/font &gt;"&amp;"&lt;/h3&gt;"</div><div class="line">strComputer = "."  </div><div class="line"></div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:" &amp; _</div><div class="line">    "&#123;impersonationLevel=Impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colStartServices = objWMIService.ExecQuery _</div><div class="line">  ("SELECT DisplayName,State FROM Win32_Service WHERE State = 'Running'")</div><div class="line"></div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Running server list:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">of.writeline "&lt;tr&gt;&lt;td&gt;"</div><div class="line">For Each objService in colStartServices</div><div class="line">    of.writeline  "&lt;p&gt;" &amp; objService.DisplayName &amp; "&lt;/p&gt;"  </div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;"                  </div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer)</div><div class="line">Set colServices = objWMIService.InstancesOf("Win32_Service")</div><div class="line"></div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line"></div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Name:&lt;/th&gt;&lt;th bgColor=#808080&gt;Display Name:&lt;/th&gt;&lt;th bgColor=#808080&gt;Path Name:&lt;/th&gt;&lt;th bgColor=#808080&gt;Start Mode:&lt;/th&gt;&lt;th bgColor=#808080&gt;State:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">For Each objService In colServices</div><div class="line">    oF.WriteLine "&lt;tr&gt;"&amp;"&lt;td&gt;" &amp;objService.Name    &amp;"&lt;/td&gt;"&amp;_    </div><div class="line">                "&lt;td&gt;" &amp; objService.DisplayName&amp;"&lt;/td&gt;"&amp; _</div><div class="line">                "&lt;td&gt;" &amp; objService.PathName     &amp;"&lt;/td&gt;"&amp; _</div><div class="line">                "&lt;td&gt;" &amp; objService.StartMode    &amp;"&lt;/td&gt;"&amp; _</div><div class="line">                 "&lt;td&gt;" &amp;objService.State        &amp;"&lt;/td&gt;"</div><div class="line"></div><div class="line">Next                                           </div><div class="line">oF.WriteLine "&lt;/tr&gt;&lt;/table&gt;"                                </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检测补丁</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;"&amp;"&lt;font color=MidnightBlue&gt;&lt;a name=here10&gt;"&amp;"[  10. 补丁  ]"&amp;"&lt;/a&gt;&lt;/font &gt;"&amp;"&lt;/h3&gt;"</div><div class="line"></div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:" _</div><div class="line">    &amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colOperatingSystems = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_OperatingSystem")</div><div class="line">For Each objOperatingSystem in colOperatingSystems</div><div class="line">    PACKVER = objOperatingSystem.ServicePackMajorVersion  _</div><div class="line">        &amp; "." &amp; objOperatingSystem.ServicePackMinorVersion</div><div class="line">        Next</div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:" _</div><div class="line">&amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colQuickFixes = objWMIService.ExecQuery _</div><div class="line">("Select * from Win32_QuickFixEngineering")</div><div class="line"></div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;PackVersion: &lt;/th&gt;&lt;td&gt;"&amp;PACKVER&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">'   oF.WriteLine "&lt;td&gt;Computer: &lt;/td&gt;"</div><div class="line">   oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Description:&lt;/th&gt;"</div><div class="line">   oF.WriteLine "&lt;th bgColor=#808080&gt;Hotfix ID:&lt;/th&gt;"</div><div class="line"> '   oF.WriteLine "&lt;td&gt;Installation Date:&lt;/td&gt;"</div><div class="line"> '  oF.WriteLine "&lt;td&gt;Installed By:&lt;/td&gt;"</div><div class="line">   oF.WriteLine "&lt;/tr&gt;"</div><div class="line">For Each objQuickFix in colQuickFixes</div><div class="line">   oF.WriteLine "&lt;tr&gt;"</div><div class="line">'    oF.WriteLine "&lt;td&gt;" &amp; objQuickFix.CSName &amp; "&lt;/td&gt;"</div><div class="line">   oF.WriteLine "&lt;td&gt;" &amp; objQuickFix.Description &amp; "&lt;/td&gt;"</div><div class="line">   oF.WriteLine "&lt;td&gt;" &amp; objQuickFix.HotFixID &amp; "&lt;/td&gt;"</div><div class="line">'   oF.WriteLine "&lt;td&gt;" &amp; objQuickFix.InstallDate &amp; "&lt;/td&gt;"</div><div class="line">'    oF.WriteLine "&lt;td&gt;" &amp; objQuickFix.InstalledBy &amp; "&lt;/td&gt;"</div><div class="line">   oF.WriteLine "&lt;/tr&gt;"</div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;/table&gt;"</div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检测软件</div><div class="line">' --------------------------------</div><div class="line">'get installed software</div><div class="line">oF.WriteLine "&lt;h3&gt;"&amp;"&lt;font color=MidnightBlue&gt;&lt;a name=here11&gt;"&amp;"[  11. 软件  ]"&amp;"&lt;/a&gt;&lt;/font &gt;"&amp;"&lt;/h3&gt;"</div><div class="line">oF.WriteLine "&lt;table BORDER=1 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Caption:&lt;/th&gt;&lt;th bgColor=#808080&gt;version:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">Set colApps = objWMIService.ExecQuery("Select * from Win32_Product")</div><div class="line">For Each objApp in colApps</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;objApp.Caption &amp;"&lt;/td&gt;&lt;td&gt;"&amp; objApp.Version &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line"></div><div class="line">Dim oRegistry, sBaseKey, iRC, sKey, arSubKeys, sValue</div><div class="line">Const HKLM = &amp;H80000002 'HKEY_LOCAL_MACHINE</div><div class="line">Set oRegistry = GetObject("winmgmts:\\" &amp; strComputer  &amp; _</div><div class="line">"/root/default:StdRegProv")</div><div class="line"></div><div class="line">sBaseKey = "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\"</div><div class="line"></div><div class="line">iRC = oRegistry.EnumKey(HKLM, sBaseKey, arSubKeys)</div><div class="line">For Each sKey In arSubKeys</div><div class="line">  iRC = oRegistry.GetStringValue(HKLM, sBaseKey &amp; sKey, _</div><div class="line">  "DisplayName", sValue)</div><div class="line"></div><div class="line">  version= oRegistry.GetStringValue(HKLM, sBaseKey &amp; sKey, _</div><div class="line">  "DisplayVersion", sVer)</div><div class="line"></div><div class="line"></div><div class="line">  If iRC &lt;&gt; 0 Then</div><div class="line">    oRegistry.GetStringValue HKLM, sBaseKey &amp; sKey, _</div><div class="line">    "QuietDisplayName", sValue</div><div class="line">  End If</div><div class="line"></div><div class="line"></div><div class="line">  If sValue &lt;&gt; "" Then</div><div class="line">    	of.writeline"&lt;tr&gt;&lt;td&gt;" &amp; sValue &amp; "&lt;/td&gt;&lt;td&gt;" &amp; sver &amp; "&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">  ElseIf Err &lt;&gt; 0 Then</div><div class="line">	of.writeline"&lt;tr&gt;&lt;td&gt;"&amp; "Installed App Name Not Available" &amp; "&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">  	err.clear</div><div class="line">	err.Number=0</div><div class="line">  End If</div><div class="line">Next</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">Const ADMINISTRATIVE_TOOLS = &amp;H2f&amp;</div><div class="line">Set objShell = CreateObject("Shell.Application")</div><div class="line">Set objFolder = objShell.Namespace(ADMINISTRATIVE_TOOLS)</div><div class="line">Set objTools = objFolder.Items</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Admin tools:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">For i = 0 to objTools.Count - 1</div><div class="line">   oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp; objTools.Item(i)&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;/table&gt;"</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检测帐号</div><div class="line">' --------------------------------</div><div class="line"></div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here12&gt;"&amp;"[  12. 帐号  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line"></div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colItems = objWMIService.ExecQuery("Select * from Win32_UserAccount",,48)</div><div class="line">oF.WriteLine "&lt;table width=100% BORDER=1 style=font-size:9pt  cellspacing=1&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;" &amp;"Name: "&amp; "&lt;/th&gt;"_</div><div class="line">    &amp;"&lt;th bgColor=#808080&gt;"&amp;"Description: "&amp; "&lt;/th&gt;"_</div><div class="line">    &amp;"&lt;th bgColor=#808080&gt;"&amp;"Lockout: "&amp; "&lt;/th&gt;"_</div><div class="line">     &amp;"&lt;th bgColor=#808080&gt;"&amp;"PasswordChangeable: "&amp; "&lt;/th&gt;"_</div><div class="line">     &amp;"&lt;th bgColor=#808080&gt;"&amp;"PasswordExpires: "&amp; "&lt;/t&gt;"_</div><div class="line">     &amp;"&lt;th bgColor=#808080&gt;"&amp;"SID: " &amp; "&lt;/th&gt;"_</div><div class="line">     &amp;"&lt;th bgColor=#808080&gt;"&amp; "Status: "&amp; "&lt;/th&gt;"_</div><div class="line">     &amp;"&lt;th bgColor=#808080&gt;"&amp; "administrators: "&amp; "&lt;/th&gt;"</div><div class="line">For Each objItem in colItems</div><div class="line"> strUser = objItem.Name</div><div class="line"></div><div class="line">Set objGroup = GetObject("WinNT://" &amp; strComputer &amp; "/Administrators")</div><div class="line"></div><div class="line">   oF.writeline  "&lt;tr&gt;&lt;td&gt;" &amp; objItem.Name &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.Description &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.Lockout &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.PasswordChangeable &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.PasswordExpires &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.SID &amp;"&lt;/td&gt;&lt;td&gt;" &amp; _</div><div class="line">    objItem.Status&amp;"&lt;/td&gt;"</div><div class="line"></div><div class="line">    For Each objUser in objGroup.Members</div><div class="line">    If objUser.Name = strUser Then</div><div class="line">        oF.writeline "&lt;td&gt;True&lt;/td&gt;"</div><div class="line"></div><div class="line">    End If</div><div class="line">   Next</div><div class="line">Next</div><div class="line"></div><div class="line">On Error Resume Next</div><div class="line">Set objNetwork = CreateObject("Wscript.Network")</div><div class="line">strComputer = objNetwork.ComputerName</div><div class="line"></div><div class="line">strPassword = ""</div><div class="line"></div><div class="line">Set colAccounts = GetObject("WinNT://" &amp; strComputer)</div><div class="line">colAccounts.Filter = Array("user")</div><div class="line"></div><div class="line">For Each objUser In colAccounts</div><div class="line">    objUser.ChangePassword strPassword, strPassword</div><div class="line">    If Err = 0 or Err = -2147023569 Then</div><div class="line">        oF.writeline  "&lt;p&gt;&lt;font size=2&gt;" &amp;objUser.Name &amp;  " password is null !.&lt;/font&gt;&lt;/p&gt;"</div><div class="line">    End If</div><div class="line">    Err.Clear</div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;/tr&gt;"</div><div class="line">oF.WriteLine "&lt;/table&gt;"</div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'检查计划任务</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here13&gt;"&amp;"[  13. AT创建的计划任务  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line">oF.writeline "&lt;table width=100% BORDER=1 style=font-size:9pt cellspacing=1&gt;"</div><div class="line">'oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Caption:&lt;/th&gt;&lt;th bgColor=#808080&gt;Command:&lt;/th&gt;&lt;th bgColor=#808080&gt;Days Of Month:&lt;/th&gt;&lt;th bgColor=#808080&gt;Days Of Week:&lt;/th&gt;&lt;th bgColor=#808080&gt;Description: &lt;/th&gt;&lt;th bgColor=#808080&gt;Elapsed Time:&lt;/th&gt;&lt;&gt;&lt;&gt;&lt;/th&gt;&lt;&gt;&lt;&gt;&lt;&gt;</div><div class="line">strComputer = "."</div><div class="line">Set objWMIService = GetObject("winmgmts:" _</div><div class="line">    &amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colScheduledJobs = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_ScheduledJob")</div><div class="line"></div><div class="line"></div><div class="line">For Each objJob In colScheduledJobs</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Caption:&lt;/th&gt;&lt;td&gt; " &amp; objJob.Caption &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Command:&lt;/th&gt;&lt;td&gt; " &amp; objJob.Command &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Days Of Month: &lt;/th&gt;&lt;td&gt;" &amp; objJob.DaysOfMonth &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Days Of Week: &lt;/th&gt;&lt;td&gt;" &amp; objJob.DaysOfWeek &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Description: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Description &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Elapsed Time: &lt;/th&gt;&lt;td&gt;" &amp; objJob.ElapsedTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Install Date: &lt;/th&gt;&lt;td&gt;" &amp; objJob.InstallDate &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Interact with Desktop: &lt;/th&gt;&lt;td&gt;" &amp; objJob.InteractWithDesktop &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Job ID: &lt;/th&gt;&lt;td&gt;" &amp; objJob.JobID &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Job Status: &lt;/th&gt;&lt;td&gt;" &amp; objJob.JobStatus &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Name: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Name &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Notify: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Notify &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Owner: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Owner &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Priority: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Priority &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Run Repeatedly: &lt;/th&gt;&lt;td&gt;" &amp; objJob.RunRepeatedly &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Start Time: &lt;/th&gt;&lt;td&gt;" &amp; objJob.StartTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Status: &lt;/th&gt;&lt;td&gt;" &amp; objJob.Status &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Time Submitted: &lt;/th&gt;&lt;td&gt;" &amp; objJob.TimeSubmitted &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Until Time: &lt;/th&gt;&lt;td&gt;" &amp; objJob.UntilTime &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line">oF.writeline "&lt;/table&gt;"</div><div class="line"></div><div class="line"></div><div class="line">'----------------------------------</div><div class="line">'获取文件信息函数</div><div class="line">'----------------------------------</div><div class="line"></div><div class="line">Function getfileinfo (targetfiles)</div><div class="line">Set objFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line">Set objFile = objFSO.GetFile (targetfiles)</div><div class="line"></div><div class="line"></div><div class="line">oF.WriteLine  "&lt;tr&gt;&lt;td&gt;" &amp; objFile.Path &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.Size &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.Type &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;" &amp; objFile.DateCreated &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.DateLastModified &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine  "&lt;td&gt;" &amp; objFile.DateLastAccessed &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">End Function</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here14&gt;"&amp;"[  14. 重要文件属性  ]"&amp;"&lt;/a&gt;&lt;/font &gt;&lt;/h3&gt;"</div><div class="line">oF.writeline "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;th bgColor=#808080&gt;Path:&lt;/th&gt;&lt;th bgColor=#808080&gt;Size:&lt;/th&gt;&lt;th bgColor=#808080&gt;Type:&lt;/th&gt;&lt;th bgColor=#808080&gt;Date created:&lt;/th&gt;&lt;th bgColor=#808080&gt;Date last modified:&lt;/th&gt;&lt;th bgColor=#808080&gt;Date last accessed:&lt;/th&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\cmd.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\services.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\xcopy.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\arp.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\posix.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\cacls.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\debug.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\telnet.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\ftp.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\tftp.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\tracert.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\edlin.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\rsh.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\ipconfig.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\regedt32.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\finger.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\at.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\netstat.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\wscript.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\cscript.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\ping.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\atsvc.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\rcp.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\regedit.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\nslookup.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\runonce.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\net.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\route.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\copy.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\user.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\csrss.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\rexec.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\nbtstat.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\notepad.exe"</div><div class="line">getfileinfo wshshell.expandEnvironmentStrings("%systemroot%")&amp;"\system32\edit.com"</div><div class="line"></div><div class="line">oF.writeline "&lt;/table&gt;"</div><div class="line"></div><div class="line"></div><div class="line">'get autorun</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here15&gt;"&amp;"[  15. 自启动项  ]"&amp;"&lt;/a&gt;&lt;/font&gt;&lt;/h3&gt;"</div><div class="line">oF.writeline "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line">Set objWMIService = GetObject("winmgmts:" _</div><div class="line">    &amp; "&#123;impersonationLevel=impersonate&#125;!\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line">Set colStartupCommands = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_StartupCommand")</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;User:&lt;/th&gt;&lt;th bgColor=#808080&gt;Location:&lt;/th&gt;&lt;th bgColor=#808080&gt;Name:&lt;/th&gt;&lt;th bgColor=#808080&gt;Command:&lt;/th&gt;"</div><div class="line">For Each objStartupCommand in colStartupCommands</div><div class="line">    oF.writeline "&lt;tr&gt;&lt;td&gt;"&amp;objStartupCommand.User&amp;"&lt;/td&gt;&lt;td&gt;"&amp;objStartupCommand.location&amp;"&lt;/td&gt;&lt;td&gt;"&amp;objStartupCommand.name &amp;"&lt;/td&gt;&lt;td&gt;"&amp; objStartupCommand.command&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line">oF.WriteLine "&lt;/table&gt;"</div><div class="line">'---------------------------------</div><div class="line">'检查注册表自启动项目</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here16&gt;"&amp;"[  16. 注册表  ]"&amp;"&lt;/a&gt;&lt;/font&gt;&lt;/h3&gt;"</div><div class="line"></div><div class="line">Const HKEY_CLASSES_ROOT = &amp;H80000000</div><div class="line">Const HKEY_CURRENT_USER = &amp;H80000001</div><div class="line">Const HKEY_LOCAL_MACHINE = &amp;H80000002</div><div class="line">Const HKEY_USERS=&amp;H80000003</div><div class="line">Const HKEY_CURRENT_CONFIG=&amp;H80000005</div><div class="line">Const REG_SZ = 1</div><div class="line">Const REG_EXPAND_SZ = 2</div><div class="line">Const REG_BINARY = 3</div><div class="line">Const REG_DWORD = 4</div><div class="line">Const REG_MULTI_SZ = 7</div><div class="line"></div><div class="line">strComputer = "."</div><div class="line"></div><div class="line">Set oReg=GetObject("winmgmts:&#123;impersonationLevel=impersonate&#125;!\\" &amp;_</div><div class="line">strComputer &amp; "\root\default:StdRegProv")</div><div class="line">On Error Resume Next</div><div class="line">oF.writeline "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line">oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;读取此项内容&lt;/th&gt;&lt;th bgColor=#808080&gt;内容&lt;/th&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">'enum subkeys\all entryNames</div><div class="line">oReg.GetdwordValue HKEY_LOCAL_MACHINE,"SYSTEM\CurrentControlSet\Services\lanmanserver\parameters","Autoshareserver",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line"></div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\lanmanserver\parameters\Autoshareserver" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"  </div><div class="line">End If</div><div class="line"></div><div class="line">oReg.GetstringValue HKEY_LOCAL_MACHINE,"Software\Microsoft\Windows NT\CurrentVersion\Winlogon","Shell",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line"></div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\shell" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.GetstringValue HKEY_LOCAL_MACHINE,"Software\Microsoft\Windows NT\CurrentVersion\Winlogon","Userinit",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\Userinit" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.GetstringValue HKEY_LOCAL_MACHINE,"Software\Microsoft\Windows NT\CurrentVersion\Windows","run",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\run" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.GetstringValue HKEY_CURRENT_USER,"Software\Microsoft\Windows NT\CurrentVersion\Windows","run",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_CURRENT_USER\Software\Microsoft\Windows NT\CurrentVersion\Windows\run" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.GetstringValue HKEY_CURRENT_USER,"Software\Microsoft\Windows NT\CurrentVersion\Windows","load",strValue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_CURRENT_USER\Software\Microsoft\Windows NT\CurrentVersion\Windows\load" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;strValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.getdwordvalue HKEY_LOCAL_MACHINE,"SYSTEM\CurrentControlSet\Services\EventLog\Application","Maxsize",dwordvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\EventLog\Application\Maxsize" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;dwordValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.getdwordvalue HKEY_LOCAL_MACHINE,"SYSTEM\CurrentControlSet\Services\EventLog\security","Maxsize",dwordvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\EventLog\security\Maxsize" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;dwordValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.getdwordvalue HKEY_LOCAL_MACHINE,"SYSTEM\CurrentControlSet\Services\EventLog\system","Maxsize",dwordvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\EventLog\system\Maxsize" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;dwordValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.getdwordvalue HKEY_LOCAL_MACHINE,"SYSTEM\CurrentControlSet\Control\Lsa","restrictanonymous",dwordvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa\RestrictAnonymous" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;dwordValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oreg.getdwordvalue HKEY_LOCAL_MACHINE,"System\CurrentControlSet\Services\NetBT\Parameters","SMBDeviceEnabled",dwordvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NetBT\Parameters\SMBDeviceEnabled" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;dwordValue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.GetStringValue HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows NT\CurrentVersion\Windows","Appinit_Dlls",stringvalue</div><div class="line">If IsNull(strValue) Then</div><div class="line">Else</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Windows\Appinit_Dlls" &amp;"&lt;/td&gt;"</div><div class="line">oF.WriteLine "&lt;td&gt;"&amp;stringvalue &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">End If</div><div class="line"></div><div class="line">oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;枚举此键内容&lt;/th&gt;&lt;th bgColor=#808080&gt;项目名&lt;/th&gt;&lt;th bgColor=#808080&gt;数据类型&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">'get entryNames values</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows\CurrentVersion\Run"</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnceEx"</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnce"</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows\CurrentVersion\RunServices"</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"SOFTWARE\Microsoft\Windows\CurrentVersion\ShellServiceObjectDelayLoad"</div><div class="line">RegEnum HKEY_CURRENT_USER,"SOFTWARE\Microsoft\Windows\CurrentVersion\Run"</div><div class="line">RegEnum HKEY_CURRENT_USER,"SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnce"</div><div class="line">RegEnum HKEY_CURRENT_USER,"SOFTWARE\Micrsoft\Windows\CurrentVersion\RunOnceEx"</div><div class="line">RegEnum HKEY_CURRENT_USER,"SOFTWARE\Micrsoft\Windows\CurrentVersion\RunServices"</div><div class="line"></div><div class="line">'the dll files Location: C:\WINDOWS\system32</div><div class="line">RegEnum HKEY_LOCAL_MACHINE,"System\CurrentControlSet\Control\Session Manager\KnownDLLs"</div><div class="line"></div><div class="line"></div><div class="line">Function RegEnum (Subtrees,strKeyPath)</div><div class="line">On Error Resume Next</div><div class="line">oReg.EnumValues Subtrees, strKeyPath,_</div><div class="line"> arrValueNames, arrValueTypes</div><div class="line"> If Not IsNull(arrvaluenames) Then</div><div class="line"></div><div class="line">    If Subtrees= &amp;H80000002 Then</div><div class="line">       oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\"&amp;strKeyPath &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">	Elseif Subtrees=&amp;H80000001 Then</div><div class="line">       oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp; "HKEY_CURRENT_USER\"&amp;strKeyPath &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">    End If</div><div class="line">End If</div><div class="line"></div><div class="line">For i=0 To UBound(arrValueNames)</div><div class="line">   oF.WriteLine "&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;"&amp; arrValueNames(i) &amp;"&lt;/td&gt;"</div><div class="line"></div><div class="line">       Select Case arrValueTypes(i)</div><div class="line">        Case REG_SZ</div><div class="line">            oF.WriteLine "&lt;td&gt;"&amp; "String" &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">        Case REG_EXPAND_SZ</div><div class="line">            oF.WriteLine "&lt;td&gt;"&amp; "Expanded String"  &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">        Case REG_BINARY</div><div class="line">            oF.WriteLine "&lt;td&gt;"&amp; "Binary" &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">        Case REG_DWORD</div><div class="line">            oF.WriteLine "&lt;td&gt;"&amp; "DWORD"  &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">        Case REG_MULTI_SZ</div><div class="line">            oF.WriteLine "&lt;td&gt;"&amp; "Multi String"  &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">    End Select      </div><div class="line">Next</div><div class="line"></div><div class="line">End Function</div><div class="line"></div><div class="line"></div><div class="line">strKeyPath = "SYSTEM\CurrentControlSet\Control\SecurePipeServers\Winreg"</div><div class="line"></div><div class="line">oReg.CheckAccess HKEY_LOCAL_MACHINE, strKeyPath, KEY_QUERY_VALUE, bHasAccessRight</div><div class="line">If bHasAccessRight = True Then</div><div class="line">    a=" Query"</div><div class="line">Else</div><div class="line">    a= " Not Query"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.CheckAccess HKEY_LOCAL_MACHINE, strKeyPath, KEY_SET_VALUE, bHasAccessRight</div><div class="line">If bHasAccessRight = True Then</div><div class="line">    b= " Set"</div><div class="line">Else</div><div class="line">    b=" Not Set "</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.CheckAccess HKEY_LOCAL_MACHINE, strKeyPath, KEY_CREATE_SUB_KEY, bHasAccessRight</div><div class="line">If bHasAccessRight = True Then</div><div class="line">    c= " Create"</div><div class="line">Else</div><div class="line">    c=" Not Create"</div><div class="line">End If</div><div class="line"></div><div class="line">oReg.CheckAccess HKEY_LOCAL_MACHINE, strKeyPath, DELETE, bHasAccessRight</div><div class="line">If bHasAccessRight = True Then</div><div class="line">   d=" DELETE"</div><div class="line">Else</div><div class="line">    d=" NotDelete"</div><div class="line">End If</div><div class="line">oF.writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;检查项目&lt;/th&gt;&lt;th bgColor=#808080&gt;支持的权限"</div><div class="line">oF.WriteLine "&lt;tr&gt;&lt;td&gt;"&amp;"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurePipeServers\Winreg"&amp;"&lt;/td&gt;&lt;td&gt;"&amp;a&amp;b&amp;c&amp;d&amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">oF.writeline "&lt;/table&gt;"</div><div class="line">'------------------------------------------------------------</div><div class="line"></div><div class="line">'Set fs=CreateObject("scripting.filesystemobject")</div><div class="line">'Set f0=fs.getspecialfolder(0)</div><div class="line">'Set f1=fs.getspecialfolder(1)</div><div class="line">'Set f2=fs.getspecialfolder(2)</div><div class="line"></div><div class="line">'system32=f1</div><div class="line">'oF.writeline "&lt;table BORDER=1 style=font-size:9pt&gt;"</div><div class="line">'oF.WriteLine "&lt;tr&gt;&lt;th&gt;"</div><div class="line">'WScript.Echo f0&amp;f1&amp;f2</div><div class="line">'Set objShell = CreateObject ("Shell.Application")</div><div class="line">'Set objFolder = objShell.Namespace (system32)</div><div class="line">'Set objFSO = CreateObject("Scripting.FileSystemObject")</div><div class="line">'Dim arrHeaders(13)</div><div class="line">'For i = 0 to 13</div><div class="line"> '   arrHeaders(i) = objFolder.GetDetailsOf (objFolder.Items, i)</div><div class="line">'Next</div><div class="line">'For Each strFileName in objFolder.Items</div><div class="line"></div><div class="line"> '   For i = 0 to 13</div><div class="line">  '      If i &lt;&gt; 9 Then</div><div class="line">   '     oF.writeline "&lt;tr&gt;&lt;th&gt;"&amp; arrHeaders(0)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(1)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(2)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(3)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(4)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(5)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(6)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(7)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(8)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(9)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(10)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(11)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(12)&amp;"&lt;/th&gt;&lt;th&gt;"&amp; arrHeaders(13)&amp;"&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">    ' oF.writeline "&lt;tr&gt;&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 0) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 1) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 2) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 3) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 4) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 5) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 6) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 7) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName,8) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 9) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 10) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 11) &amp;"&lt;/td&gt;"&amp;"&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 12) &amp;"&lt;/td&gt;&lt;td&gt;" &amp;objFolder.GetDetailsOf (strFileName, 13) &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">     '   End If</div><div class="line">    'Next</div><div class="line">    'WScript.Echo</div><div class="line">'Next</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">'sys file read</div><div class="line"></div><div class="line">'Set fs=CreateObject("scripting.filesystemobject")</div><div class="line">'Set f0=fs.getspecialfolder(0)</div><div class="line">'Set f1=fs.getspecialfolder(1)</div><div class="line">'Set f2=fs.getspecialfolder(2)</div><div class="line"></div><div class="line">'winfile=f0&amp;"\"&amp;"win.ini"</div><div class="line">'sysfile="C:\WINDOWS\SYSTEM.INI"</div><div class="line">'set file2=oFSO.OpenTextFile (sysfile,forreading,True)</div><div class="line"></div><div class="line">'While file2.AtEndOfStream&lt;&gt;True</div><div class="line">'ccc=ReadLine</div><div class="line">'oF.WriteLine "&lt;p&gt;&lt;font size=2&gt;" &amp;ccc&amp;"&lt;/font&gt;&lt;/p&gt;"</div><div class="line">'Wend</div><div class="line"></div><div class="line">'---------------------------------</div><div class="line">'导出系统日志为html</div><div class="line">' --------------------------------</div><div class="line">oF.WriteLine "&lt;h3&gt;&lt;font color=MidnightBlue&gt;&lt;a name=here17&gt;"&amp;"[  17. 系统日志  ]"&amp;"&lt;/a&gt;&lt;/font&gt;&lt;/h3&gt;"</div><div class="line">msg="是否导出系统日志为单独的html报告？"&amp; VbCrLf</div><div class="line">msg=msg&amp;"日志筛选内容包括："&amp; VbCrLf</div><div class="line">msg=msg&amp;"  1.登录失败"&amp; VbCrLf</div><div class="line">msg=msg&amp;"  2.错误、警告、安全审核失败 "&amp; VbCrLf</div><div class="line">Set objShell = WScript.CreateObject("Wscript.Shell")</div><div class="line"></div><div class="line">EventDoIt = MsgBox(msg,vbQuestion+vbYesNo+vbSystemModal,"运行提示")</div><div class="line">If EventDoIt = vbNo Then</div><div class="line">oF.writeline "&lt;p&gt;&lt;font size=2&gt;程序运行没有选择导出日志&lt;/font&gt;&lt;/p&gt;"</div><div class="line">Run_complete</div><div class="line">WScript.Quit</div><div class="line">End If</div><div class="line">oF.writeline "&lt;p&gt;&lt;font size=2&gt;&lt;a href="&amp;EventReport&amp;"&gt;点击打开 "&amp;EventReport&amp;" 查看日志&lt;/a&gt;&lt;/font&gt;&lt;/p&gt;"</div><div class="line"></div><div class="line">Set objWMIService = GetObject("winmgmts:&#123;(Security)&#125;\\" &amp; strComputer &amp; "\root\cimv2")</div><div class="line"></div><div class="line">Set colEvents = objWMIService.ExecQuery("Select * from Win32_NTLogEvent Where Logfile = 'Security' and EventCode = '529'")</div><div class="line">eventlog.WriteLine "&lt;head&gt;&lt;title&gt;eventLog build by bkReport.vbs&lt;/title&gt;&lt;/head&gt;"</div><div class="line">eventlog.writeline "&lt;table BORDER=1 style=font-size:9pt width=100% cellspacing=1&gt;"</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;th bgColor=#808080 COLSPAN=6&gt;登录失败日志信息&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Category: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Event Code: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Record Number: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Event Type: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Time Written: &lt;/th&gt;"  </div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Message: &lt;/th&gt;&lt;/tr&gt;"</div><div class="line"></div><div class="line">For Each objEvent in colEvents</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;td&gt;"  &amp; objEvent.Category &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.EventCode &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.RecordNumber &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.Type &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.TimeWritten &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.Message &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line"></div><div class="line">Set colLoggedEvents = objWMIService.ExecQuery _</div><div class="line">    ("Select * from Win32_NTLogEvent Where Type &lt;&gt; 'information' AND Type &lt;&gt; 'audit success'")</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;th bgColor=#808080 COLSPAN=6&gt;错误、警告、安全审核失败日志信息&lt;/th&gt;&lt;/tr&gt;"</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;th bgColor=#808080&gt;Category: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Event Code: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Record Number: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Event Type: &lt;/th&gt;"</div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Time Written: &lt;/th&gt;"  </div><div class="line">eventlog.Writeline "&lt;th bgColor=#808080&gt;Message: &lt;/th&gt;&lt;/tr&gt;"</div><div class="line">For Each objEvent in colLoggedEvents</div><div class="line">eventlog.Writeline "&lt;tr&gt;&lt;td&gt;"  &amp; objEvent.Category &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.EventCode &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.RecordNumber &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.Type &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.TimeWritten &amp;"&lt;/td&gt;"</div><div class="line">eventlog.Writeline "&lt;td&gt;" &amp; objEvent.Message &amp;"&lt;/td&gt;&lt;/tr&gt;"</div><div class="line">Next</div><div class="line">oF.writeline "&lt;/table&gt;"</div><div class="line">oF.WriteLine "&lt;/html&gt;"</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">Run_complete</div><div class="line"></div><div class="line">oF.closee</div><div class="line"></div><div class="line">Sub Run_complete</div><div class="line">dtmEnd = Now()</div><div class="line">oF.Writeline "&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;"</div><div class="line">oF.Writeline "&lt;hr width=90% color=#ff8000&gt;"</div><div class="line">oF.Writeline  "&lt;p align=center&gt;&lt;font size=2&gt;脚本运行时间 "&amp; DateDiff("s", dtmStart, dtmEnd)&amp;" 秒  问题反馈eMail: qinbo@nsfocus.com&lt;/font&gt;&lt;/p&gt;"</div><div class="line">objShell.run  MainReport</div><div class="line">End Sub</div><div class="line">'********************************************************************</div><div class="line">'*                                                                  *</div><div class="line">'*                           End of File                            *</div><div class="line">'*                                                                  *</div><div class="line">'********************************************************************</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> windows学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[清理linux登录和操作记录]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/11/11/linux%E5%AD%A6%E4%B9%A0-2016-11-11-%E6%B8%85%E7%90%86%E7%99%BB%E5%BD%95%E5%92%8C%E6%93%8D%E4%BD%9C%E8%AE%B0%E5%BD%95/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2016年11月11日
</code></pre><a id="more"></a>
<hr>
<p>创建 <code>clear.sh</code> 脚本文件,内容如下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/syslog</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/messages</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/xferlog</div><div class="line"><span class="comment">#echo &gt; /var/log/httpd/access_log</span></div><div class="line"><span class="comment">#echo &gt; /var/log/httpd/error_log</span></div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/mysqld.log</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/secure</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/auth.log</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/user.log</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/wtmp</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/lastlog</div><div class="line"><span class="built_in">echo</span> &gt; /var/<span class="built_in">log</span>/btmp</div><div class="line"><span class="built_in">echo</span> &gt; /var/run/utmp</div><div class="line"><span class="built_in">echo</span> &gt; .bash_history</div><div class="line"><span class="built_in">echo</span> &gt; .mysql_history</div><div class="line"><span class="built_in">history</span> -c</div></pre></td></tr></table></figure>
<p>给脚本执行权限并执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod +x ./clear.sh</div><div class="line">./clear.sh</div></pre></td></tr></table></figure>
<p><strong>登录的账号必须有相应目录的rw权限</strong></p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Qt开源项目说明]]></title>
      <url>/%E7%A7%81%E4%BA%BA%E5%B7%A5%E5%85%B7%E9%A1%B9%E7%9B%AE/2016/11/04/QDaoDaoLiang-2016-11-04-Qt%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.3
邮箱: daodaoliang@yeah.net
</code></pre><p>  在使用过程中有任何疑问可直接联系我，以后还会有其他组件开源，现有组件也会升级维护哒，QQ:88341189，没事也可以技术交流呀！</p>
<a id="more"></a>
<h3 id="0x00-基础UI组件集合-NBaseUiKit"><a href="#0x00-基础UI组件集合-NBaseUiKit" class="headerlink" title="0x00 基础UI组件集合(NBaseUiKit)"></a>0x00 基础UI组件集合(NBaseUiKit)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的基础UI组件集合，方便平时的组件定制等问题；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NBaseUiKit/">http://daodaoliang.com/NBaseUiKit/</a></li>
</ul>
<h3 id="0x01-常用功能公共组件集合-NCommon"><a href="#0x01-常用功能公共组件集合-NCommon" class="headerlink" title="0x01 常用功能公共组件集合(NCommon)"></a>0x01 常用功能公共组件集合(NCommon)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的常用功能组件集合，截屏、自动部署发布、数据转码等功能组件；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NCommon/">http://daodaoliang.com/NCommon/</a>；</li>
</ul>
<h3 id="0x02-认证组件-NAuth"><a href="#0x02-认证组件-NAuth" class="headerlink" title="0x02 认证组件(NAuth)"></a>0x02 认证组件(NAuth)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的权限验证组件,适用于注册码机制；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NAuth/">http://daodaoliang.com/NAuth/</a>；</li>
</ul>
<h3 id="0x03-加密的配置组件-NConfig"><a href="#0x03-加密的配置组件-NConfig" class="headerlink" title="0x03 加密的配置组件(NConfig)"></a>0x03 加密的配置组件(NConfig)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的基于加密的sqlite数据库存取的配置文件；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NConfig/">http://daodaoliang.com/NConfig/</a>；</li>
</ul>
<h3 id="0x04-加解密算法组件-NEncryptionKit"><a href="#0x04-加解密算法组件-NEncryptionKit" class="headerlink" title="0x04 加解密算法组件(NEncryptionKit)"></a>0x04 加解密算法组件(NEncryptionKit)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的常用的加解密算法的封装组件，比如AES、DES、RSA、凯撒加密等自定义加解密方式；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NEncryptionKit/">http://daodaoliang.com/NEncryptionKit/</a>；</li>
</ul>
<h3 id="0x05-数据库连接池组件-NDBPool"><a href="#0x05-数据库连接池组件-NDBPool" class="headerlink" title="0x05 数据库连接池组件(NDBPool)"></a>0x05 数据库连接池组件(NDBPool)</h3><ul>
<li><strong>项目说明:</strong> Qt编写的数据库连接池 ，支持长短链等；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NDBPool/">http://daodaoliang.com/NDBPool/</a>；</li>
</ul>
<h3 id="0x06-跨线程安全的日志组件-NLoger"><a href="#0x06-跨线程安全的日志组件-NLoger" class="headerlink" title="0x06 跨线程安全的日志组件(NLoger)"></a>0x06 跨线程安全的日志组件(NLoger)</h3><ul>
<li><strong>项目说明:</strong> Qt编写跨线程安全的日志记录(原项目为cuteloger)；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NLoger/">http://daodaoliang.com/NLoger/</a>；</li>
</ul>
<h3 id="0x07-系统软硬件信息组件-NComputerInfo"><a href="#0x07-系统软硬件信息组件-NComputerInfo" class="headerlink" title="0x07 系统软硬件信息组件(NComputerInfo)"></a>0x07 系统软硬件信息组件(NComputerInfo)</h3><ul>
<li><strong>项目说明:</strong> Qt编写获取程序运行期间的PC硬件等相关信息；</li>
<li><strong>开源状态:</strong> 完全开源；</li>
<li><strong>开源主页:</strong> <a href="http://daodaoliang.com/NComputerInfo/">http://daodaoliang.com/NComputerInfo/</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 私人工具项目 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[supervisor 安装与配置]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/11/02/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-11-02-Supervisor%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V1.0.1
邮箱： daodaoliang@yeah.net
</code></pre><p><a href="http://supervisord.org/installing.html" target="_blank" rel="external">这里是官方链接</a></p>
<a id="more"></a>
<h2 id="0x00-supervisor-简介"><a href="#0x00-supervisor-简介" class="headerlink" title="0x00 supervisor 简介"></a>0x00 supervisor 简介</h2><p>Supervisor 是一个用 python 语言开发的用来在 linux 系统下进行进程管理的工具。可以很方面的监控、启动、停止、重启一个或者多个进程。当进程意外终止时可以在第一时间进行重启，做到自动恢复。</p>
<h2 id="0x01-supervisor-安装"><a href="#0x01-supervisor-安装" class="headerlink" title="0x01 supervisor 安装"></a>0x01 supervisor 安装</h2><p><strong>1.确保 python 环境完备</strong></p>
<p><strong>Note:</strong> Supervisor is known to work with Python 2.4 or later but will not work under any version of Python 3.</p>
<p>安装 <a href="https://pypi.python.org/pypi/setuptools" target="_blank" rel="external">easy_install</a> 或者 <a href="https://pip.pypa.io/en/stable/installing/" target="_blank" rel="external">pip</a>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget --no-check-certificate https://bootstrap.pypa.io/ez_setup.py -O - | sudo python</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># get-pip.py请从官网获取</div><div class="line">python get-pip.py</div></pre></td></tr></table></figure>
<p><strong>2.安装 supervisor</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install supervisor</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">easy_install supervisor</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 需要源支持</div><div class="line">yum install supervisor</div></pre></td></tr></table></figure>
<p>supervisor安装完成后会生成三个执行程序：supervisortd、supervisorctl、echo_supervisord_conf，分别是supervisor的守护进程服务（用于接收进程管理命令）、客户端（用于和守护进程通信，发送管理进程的指令）、生成初始配置文件程序。</p>
<h2 id="0x02-supervisor-配置"><a href="#0x02-supervisor-配置" class="headerlink" title="0x02 supervisor 配置"></a>0x02 supervisor 配置</h2><p><strong>1. 配置文件生成</strong></p>
<p>运行supervisord服务的时候，需要用 c 参数指定supervisor配置文件，如果没有显示指定，默认以此在以下目录查找：</p>
<ul>
<li><code>$CWD/supervisord.conf</code></li>
<li><code>$CWD/etc/supervisord.conf</code></li>
<li><code>/etc/supervisord.conf</code></li>
<li><code>/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</code></li>
<li><code>../etc/supervisord.conf (Relative to the executable)</code></li>
<li><code>../supervisord.conf (Relative to the executable)</code></li>
</ul>
<p><strong>Note：</strong> <code>$CWD</code> 表示运行 <code>supervisord</code> 程序的目录。</p>
<p>可以通过运行 <code>echo_supervisord_conf</code> 程序生成 <code>supervisor</code> 的初始化配置文件,如下所示:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir /etc/supervisor</div><div class="line">   echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf</div></pre></td></tr></table></figure>
<p><strong>2. 配置项说明</strong></p>
<p>supervisor的配置参数较多，下面介绍一下常用的参数配置，详细的配置及说明，请参考<a href="http://supervisord.org/configuration.html" target="_blank" rel="external">官方文档</a>介绍。分号（;）开头的配置表示注释</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[unix_http_server]</div><div class="line"></div><div class="line">;socket文件的路径，supervisorctl用XML_RPC和supervisord通信就是通过它进行的,不设置的话，默认为none。非必须设置。</div><div class="line">file=/tmp/supervisor.sock</div><div class="line"></div><div class="line">;修改file的权限必须为0700,非必须设置。</div><div class="line">chmod=0700</div><div class="line"></div><div class="line">;修改file的权限的所属组为nobody:nogroup,非必需设置。</div><div class="line">chown=nobody:nogroup</div><div class="line"></div><div class="line">;使用supervisorctl链接的时候,认证的用户,不设置的话默认不需要用户,非必需设置。</div><div class="line">username=user</div><div class="line"></div><div class="line">;和上面的用户名对应的密码，可以直接使用明码，也可以使用SHA加密如&#123;SHA&#125;82ab876d1387bfafe46cc1c8a2ef074eae50cb1d。</div><div class="line">password=123</div><div class="line"></div><div class="line">;侦听在TCP上的socket,Web Server和远程的supervisorctl都要用到他不设置的话，默认为不开启。非必须设置。</div><div class="line">[inet_http_server]</div><div class="line"></div><div class="line">;侦听的IP和端口，侦听所有IP用 :9001或*:9001或者0.0.0.0:9001.这个必须设置，只要上面的[inet_http_server]开启了，就必须设置它。</div><div class="line">port=127.0.0.1:9001</div><div class="line"></div><div class="line">;登录时的用户名。</div><div class="line">username=user</div><div class="line"></div><div class="line">;登录时的密码。</div><div class="line">password=123</div><div class="line"></div><div class="line">;定义supervisord这个服务端进程的一些参数的。</div><div class="line">[supervisord]</div><div class="line"></div><div class="line">;supervisord这个主进程的日志路径,默认路径$CWD/supervisord.log,$CWD是当前目录,非必需设置。</div><div class="line">logfile=/tmp/supervisord.log</div><div class="line"></div><div class="line">;这个是上面那个日志文件的最大的大小,当超过50M(默认值是50M)的时候,会生成一个新的日志文件。当设置为0时,表示不限制文件大小,非必须设置。</div><div class="line">logfile_maxbytes=50MB</div><div class="line"></div><div class="line">;日志文件保持的数量,supervisor在启动程序时,会自动创建10个buckup文件(默认10),用于log rotate当设置为0时,表示不限制文件的数量。</div><div class="line">logfile_backups=10</div><div class="line"></div><div class="line">;日志级别，有critical, error, warn, info, debug, trace, or blather等默认为info,非必须设置项。</div><div class="line">loglevel=info</div><div class="line"></div><div class="line">;supervisord的pid文件路径,默认为$CWD/supervisord.pid。</div><div class="line">pidfile=/tmp/supervisord.pid</div><div class="line"></div><div class="line">;如果是true,supervisord进程将在前台运行默认为false,也就是后台以守护进程运行。</div><div class="line">nodaemon=false</div><div class="line"></div><div class="line">;这个是最少系统空闲的文件描述符，低于这个值(默认值1024)supervisor将不会启动。系统的文件描述符在这里设置cat /proc/sys/fs/file-max。</div><div class="line">minfds=1024</div><div class="line"></div><div class="line">;最小可用的进程描述符,低于这个值(默认200)supervisor也将不会正常启动。ulimit  -u这个命令，可以查看linux下面用户的最大进程数。</div><div class="line">minprocs=200</div><div class="line"></div><div class="line">;进程创建文件的掩码,默认为022</div><div class="line">umask=022</div><div class="line"></div><div class="line">;这个参数可以设置一个非root用户，当我们以root用户启动supervisord之后。我这里面设置的这个用户，也可以对supervisord进行管理,默认不设置。</div><div class="line">user=daodaoliang</div><div class="line"></div><div class="line">;supervisord的标识符，主要是给XML_RPC用的。当你有多个supervisor的时候，而且想调用XML_RPC统一管理，就需要为每个supervisor设置不同的标识符了,默认sipervisor。</div><div class="line">identifier=supervisor</div><div class="line"></div><div class="line">;当supervisord作为守护进程运行的时候,设置这个参数的话,启动supervisord进程之前,会先切换到这个目录默认不设置。</div><div class="line">directory=/tmp</div><div class="line"></div><div class="line">;在supervisord进程启动的时候，把以前子进程产生的日志文件(路径为AUTO的情况下)清除掉,默认false,有调试需求的同学可以设置为true。</div><div class="line">nocleanup=true</div><div class="line"></div><div class="line">;当子进程日志路径为AUTO的时候，子进程日志文件的存放路径。默认路径是这个东西，执行下面的这个命令看看就OK了，处理的东西就默认路径</div><div class="line">;python -c "import tempfile;print tempfile.gettempdir()"</div><div class="line">childlogdir=/tmp</div><div class="line"></div><div class="line">;设置环境变量的，supervisord在linux中启动默认继承了linux的环境变量，在这里可以设置supervisord进程特有的其他环境变量。</div><div class="line">;supervisord启动子进程时，子进程会拷贝父进程的内存空间内容。 所以设置的这些环境变量也会被子进程继承。</div><div class="line">;小例子：environment=name="daodaoliang",age="26"</div><div class="line">environment=KEY="value"</div><div class="line"></div><div class="line">;如果设置为true，会清除子进程日志中的所有 ANSI 序列（\n,\t等）。</div><div class="line">strip_ansi=false</div><div class="line"></div><div class="line">[rpcinterface:supervisor]</div><div class="line"></div><div class="line">supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface</div><div class="line"></div><div class="line">;针对supervisorctl的一些配置</div><div class="line">[supervisorctl]</div><div class="line"></div><div class="line">;supervisorctl本地连接supervisord的时候，本地UNIX socket路径，注意这个是和前面的[unix_http_server]对应的默认值就是unix:///tmp/supervisor.sock</div><div class="line">serverurl=unix:///tmp/supervisor.sock</div><div class="line"></div><div class="line">;supervisorctl远程连接supervisord的时候，用到的TCP socket路径,注意这个和前面的[inet_http_server]对应默认就是http://127.0.0.1:9001</div><div class="line">serverurl=http://127.0.0.1:9001</div><div class="line"></div><div class="line">;用户名</div><div class="line">username=daodaoliang</div><div class="line"></div><div class="line">;密码</div><div class="line">password=123</div><div class="line"></div><div class="line">;输入用户名密码时候的提示符</div><div class="line">prompt=iamnami</div><div class="line"></div><div class="line">;这个参数和shell中的history类似，我们可以用上下键来查找前面执行过的命令默认是no file,所以我们想要有这种功能，必须指定一个文件</div><div class="line">history_file=~/.sc_history</div><div class="line"></div><div class="line">;要管理的子进程了,":"后面的是名字，最好别乱写和实际进程有点关联最好。这样的program我们可以设置一个或多个，一个program就是要被管理的一个进程</div><div class="line">[program:theprogramname]</div><div class="line"></div><div class="line">;要启动进程的命令路径了，可以带参数/home/test.py -a 'hehe'</div><div class="line">;需要注意的是，我们的command只能是那种在终端运行的进程，不能是守护进程。这个是个必须设置的项。</div><div class="line">command=/bin/cat</div><div class="line"></div><div class="line">;当numprocs为1时,process_name=%(program_name)s</div><div class="line">;当numprocs&gt;=2时,%(program_name)s_%(process_num)02d</div><div class="line">process_name=%(program_name)s</div><div class="line"></div><div class="line">;进程数量,当不为1时，就是进程池的概念</div><div class="line">numprocs=1</div><div class="line"></div><div class="line">;进程开始的数字</div><div class="line">numprocs_start=1</div><div class="line"></div><div class="line">;进程运行前，会前切换到这个目录</div><div class="line">directory=/tmp</div><div class="line"></div><div class="line">;进程掩码:--- -w- -w-, 转换后rwx r-x r-x</div><div class="line">umask=022</div><div class="line"></div><div class="line">;优先级,值越高,最后启动,最先被关闭,默认值999</div><div class="line">priority=999</div><div class="line"></div><div class="line">;如果为true则程序在supervisord启动后将会启动</div><div class="line">autostart=true</div><div class="line"></div><div class="line">;自动重启的情况</div><div class="line">;有三个选项，false,unexpected和true。</div><div class="line">;如果为false的时候，无论什么情况下，都不会被重新启动。</div><div class="line">;如果为unexpected，只有当进程的退出码不在下面的exitcodes里面定义的退出码的时候，才会被自动重启。</div><div class="line">;当为true的时候，只要子进程挂掉，将会被无条件的重启。</div><div class="line">autorestart=true</div><div class="line"></div><div class="line">;子进程气动阀多少秒后才把状态置为running</div><div class="line">startsecs=1</div><div class="line"></div><div class="line">;当进程启动失败后，最大尝试启动的次数。。当超过3次后，supervisor将把此进程的状态置为FAIL。</div><div class="line">startretries=3</div><div class="line"></div><div class="line">;和上面的的autorestart=unexpected对应。exitcodes里面的定义的退出码是expected的。</div><div class="line">exitcodes=0,2</div><div class="line"></div><div class="line">;进程停止信号，可以为TERM, HUP, INT, QUIT, KILL, USR1, or USR2等信号。当用设定的信号去干掉进程，退出码会被认为是expected。</div><div class="line">;中断:INT(类似于Ctrl+C)(kill -INT pid),退出后会将写文件或日志(推荐)</div><div class="line">;终止:TERM(kill -TERM pid)</div><div class="line">;挂起:HUP(kill -HUP pid),注意与Ctrl+Z/kill -stop pid不同</div><div class="line">;从容停止:QUIT(kill -QUIT pid) ;KILL, USR1, USR2其他见命令(kill -l),说明1</div><div class="line">;默认为TERM。</div><div class="line">stopsignal=TERM</div><div class="line"></div><div class="line">;当我们向子进程发送stopsignal信号后，到系统返回信息给supervisord，所等待的最大时间。 超过这个时间，supervisord会向该子进程发送一个强制kill的信号。</div><div class="line">;默认为10秒,非必须设置。</div><div class="line">stopwaitsecs=10</div><div class="line"></div><div class="line">;用于supervisord管理的子进程，这个子进程本身还有子进程。那么我们如果仅仅干掉supervisord的子进程的话，子进程的子进程有可能会变成孤儿进程.</div><div class="line">;所以可以设置可个选项，把整个该子进程的整个进程组都干掉。 设置为true的话，一般killasgroup也会被设置为true。</div><div class="line">;需要注意的是，该选项发送的是stop信号默认为false。</div><div class="line">;非必须设置。</div><div class="line">stopasgroup=false</div><div class="line"></div><div class="line">;这个和上面的stopasgroup类似，不过发送的是kill信号。</div><div class="line">;非必须设置</div><div class="line">killasgroup=false</div><div class="line"></div><div class="line">;如果supervisord是root启动，我们在这里设置这个非root用户，可以用来管理该program。</div><div class="line">;非必须设置项。</div><div class="line">user=daodaoliang</div><div class="line"></div><div class="line">;如果为true，则stderr的日志会被写入stdout日志文件中</div><div class="line">redirect_stderr=true</div><div class="line"></div><div class="line">;子进程的stdout的日志路径，可以指定路径，AUTO，none等三个选项</div><div class="line">;设置为none的话，将没有日志产生。</div><div class="line">;设置为AUTO的话，将随机找一个地方生成日志文件,而且当supervisord重新启动的时候,以前的日志文件会被清空。</div><div class="line">;当 redirect_stderr=true的时候，sterr也会写进这个日志文件。</div><div class="line">stdout_logfile=/a/path</div><div class="line"></div><div class="line">;日志文件最大大小，和[supervisord]中定义的一样。默认为50</div><div class="line">stdout_logfile_maxbytes=1MB</div><div class="line"></div><div class="line">;和[supervisord]定义的一样。默认10</div><div class="line">stdout_logfile_backups=10</div><div class="line"></div><div class="line">;这个东西是设定capture管道的大小，当值不为0的时候，子进程可以从stdout发送信息，而supervisor可以根据信息，发送相应的event。</div><div class="line">;默认为0，为0的时候表达关闭管道。</div><div class="line">;非必须项</div><div class="line">stdout_capture_maxbytes=1MB</div><div class="line"></div><div class="line">;当设置为ture的时候,当子进程由stdout向文件描述符中写日志的时候,将触发supervisord发送PROCESS_LOG_STDOUT类型的event.</div><div class="line">;默认为false</div><div class="line">;非必须设置</div><div class="line">stdout_events_enabled=false</div><div class="line"></div><div class="line">;这个东西是设置stderr写的日志路径，当redirect_stderr=true。这个就不用设置了，设置了也是白搭。因为它会被写入stdout_logfile的同一个文件中默认为AUTO。</div><div class="line">;也就是随便找个地存,supervisord重启被清空。</div><div class="line">;非必须设置</div><div class="line">stderr_logfile=/a/path</div><div class="line"></div><div class="line">;这个是该子进程的环境变量，和别的子进程是不共享的</div><div class="line">environment=A="1",B="2"</div><div class="line"></div><div class="line">serverurl=AUTO</div><div class="line"></div><div class="line">;当我们要管理的进程很多的时候，写在一个文件里面就有点大了。我们可以把配置信息写到多个文件中，然后include过来。</div><div class="line">[include]</div><div class="line"></div><div class="line">;例如/an/absolute/filename.conf /an/absolute/*.conf foo.conf config??.conf</div><div class="line">files = relative/directory/*.ini</div></pre></td></tr></table></figure>
<p><strong>3.例子</strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="section">[program:usercenter]</span></div><div class="line"><span class="comment">; 程序的启动目录</span></div><div class="line"><span class="attr">directory</span> = /home/leon/projects/usercenter</div><div class="line"><span class="comment">; 启动命令，可以看出与手动在命令行启动的命令是一样的</span></div><div class="line"><span class="attr">command</span> = gunicorn -c gunicorn.py --port=%(process_num)s wsgi:app</div><div class="line"><span class="comment">; 程序名字</span></div><div class="line"><span class="attr">process_name</span>=%(program_name)s_%(process_num)<span class="number">02</span>d</div><div class="line"><span class="comment">; 开始数字</span></div><div class="line"><span class="attr">numprocs_start</span>=<span class="number">8110</span></div><div class="line"><span class="comment">; 数量</span></div><div class="line"><span class="attr">numprocs</span>=<span class="number">4</span></div><div class="line"><span class="comment">; 在 supervisord 启动的时候也自动启动</span></div><div class="line"><span class="attr">autostart</span> = <span class="literal">true</span></div><div class="line"><span class="comment">; 启动 5 秒后没有异常退出，就当作已经正常启动了</span></div><div class="line"><span class="attr">startsecs</span> = <span class="number">5</span></div><div class="line"><span class="comment">; 程序异常退出后自动重启</span></div><div class="line"><span class="attr">autorestart</span> = <span class="literal">true</span></div><div class="line"><span class="comment">; 启动失败自动重试次数，默认是 3</span></div><div class="line"><span class="attr">startretries</span> = <span class="number">3</span></div><div class="line"><span class="comment">; 用哪个用户启动</span></div><div class="line"><span class="attr">user</span> = leon</div><div class="line"><span class="comment">; 把 stderr 重定向到 stdout，默认 false</span></div><div class="line"><span class="attr">redirect_stderr</span> = <span class="literal">true</span></div><div class="line"><span class="comment">; stdout 日志文件大小，默认 50MB</span></div><div class="line"><span class="attr">stdout_logfile_maxbytes</span> = <span class="number">20</span>MB</div><div class="line"><span class="comment">; stdout 日志文件备份数</span></div><div class="line"><span class="attr">stdout_logfile_backups</span> = <span class="number">20</span></div><div class="line"><span class="comment">; stdout 日志文件，需要注意当指定目录不存在时无法正常启动，所以需要手动创建目录（supervisord 会自动创建日志文件）</span></div><div class="line"><span class="attr">stdout_logfile</span> = /data/logs/usercenter_stdout.log</div></pre></td></tr></table></figure>
<h2 id="0x03-supervisord-启动和维护"><a href="#0x03-supervisord-启动和维护" class="headerlink" title="0x03 supervisord 启动和维护"></a>0x03 supervisord 启动和维护</h2><p><strong>1.启动服务</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/supervisord -c /etc/supervisor.conf</div></pre></td></tr></table></figure>
<p><strong>2.启动管理端</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">supervisorctl -c /etc/supervisor.conf</div></pre></td></tr></table></figure>
<p>若是连接远程的则:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">supervisorctl -c /etc/supervisor.conf -s &quot;http://114.114.114.114:9001&quot;</div></pre></td></tr></table></figure>
<p><strong>3.管理服务</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"># 查看服务状态</div><div class="line">status</div><div class="line"></div><div class="line">   # 关闭 usercenter 程序</div><div class="line">   stop usercenter</div><div class="line"></div><div class="line">   # 停止所有程序</div><div class="line">   stop all</div><div class="line"></div><div class="line"># 启动 usercenter 程序</div><div class="line">start usercenter</div><div class="line"></div><div class="line"># 启动所有程序</div><div class="line">   start all</div><div class="line"></div><div class="line">   # 重启 usercenter 程序</div><div class="line">   restart usercenter</div><div class="line"></div><div class="line"># 重启所有程序</div><div class="line">   restart all</div><div class="line"></div><div class="line"># 读取有更新的的配置文件，不会启动新程序</div><div class="line">   reread</div><div class="line"></div><div class="line">   # 重启启动远程supervisord</div><div class="line">   reload</div><div class="line"></div><div class="line">   # 更新配置文件，若有新的则启动，若删除了则停止</div><div class="line">   update</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[nginx 配置https并自签名证书]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/10/28/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-10-28-nginx%E9%85%8D%E7%BD%AEhttps%E5%B9%B6%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V1.0.1
邮箱： daodaoliang@yeah.net
</code></pre><p>参考链接： <a href="http://blog.creke.net/762.html" target="_blank" rel="external">这里</a> 和 <a href="http://blog.csdn.net/eclothy/article/details/45932733" target="_blank" rel="external">这里</a> 和 <a href="http://nginx.org/en/docs/http/configuring_https_servers.html" target="_blank" rel="external">官方文档</a></p>
<a id="more"></a>
<h3 id="1-制作服务器证书"><a href="#1-制作服务器证书" class="headerlink" title="1. 制作服务器证书"></a>1. 制作服务器证书</h3><p>服务器CA私钥：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl genrsa -des3 -out ca.key 2048</div></pre></td></tr></table></figure>
<p>制作解密后的CA私钥（一般无此必要）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl rsa -in ca.key -out ca_decrypted.key</div></pre></td></tr></table></figure>
<p>ca.crt CA根证书（公钥）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl req -new -x509 -days 7305 -key ca.key -out ca.crt</div></pre></td></tr></table></figure>
<h3 id="2-制作生成网站的证书并用CA签名认证"><a href="#2-制作生成网站的证书并用CA签名认证" class="headerlink" title="2. 制作生成网站的证书并用CA签名认证"></a>2. 制作生成网站的证书并用CA签名认证</h3><p>在这里，假设网站域名为 www.example.com</p>
<p>生成 www.example.com 证书私钥：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl genrsa -des3 -out www.example.com.pem 1024</div></pre></td></tr></table></figure>
<p>制作解密后的 www.example.com 证书私钥：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl rsa -in www.example.com.pem -out www.example.com.key</div></pre></td></tr></table></figure>
<p>生成签名请求：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl req -new -key www.example.com.pem -out www.example.com.csr</div></pre></td></tr></table></figure>
<p>在common name中填入网站域名，如 www.example.com 即可生成改站点的证书，同时也可以使用泛域名如 *.example.com 来生成所有二级域名可用的网站证书。</p>
<p>用CA进行签名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl ca -policy policy_anything -days 1460 -cert ca.crt -keyfile ca.key -in www.example.com.csr -out www.example.com.crt</div></pre></td></tr></table></figure>
<p>其中，policy参数允许签名的CA和网站证书可以有不同的国家、地名等信息，days参数则是签名时限。</p>
<p>如果在执行签名命令时，出现“I am unable to access the ../../CA/newcerts directory”</p>
<p>修改/etc/pki/tls/openssl.cnf中“dir = ./CA”</p>
<p>然后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mkdir -p CA/newcerts</div><div class="line"></div><div class="line">touch CA/index.txt</div><div class="line"></div><div class="line">touch CA/serial</div><div class="line"></div><div class="line">echo &quot;01&quot; &gt; CA/serial</div></pre></td></tr></table></figure>
<p>再重新执行签名命令。</p>
<p>最后，把ca.crt的内容粘贴到 www.example.com.crt 后面。这个比较重要！因为不这样做，可能会有某些浏览器不支持。</p>
<p>好了，现在https需要到的网站私钥 www.example.com.key 和网站证书 www.example.com.crt 都准备完毕。接下来开始配置服务端。</p>
<h3 id="3-配置nginx"><a href="#3-配置nginx" class="headerlink" title="3. 配置nginx"></a>3. 配置nginx</h3><p>新开一个虚拟主机，并在server{}段中设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">listen 443;</div><div class="line"></div><div class="line">ssl on;</div><div class="line"></div><div class="line">ssl_certificate /path/to/www.example.com.crt;</div><div class="line"></div><div class="line">ssl_certificate_key /path/to/www.example.com.key;</div></pre></td></tr></table></figure>
<p>其中的路径是刚刚生成的网站证书的路径。</p>
<p>然后使用一下命令检测配置和重新加载nginx：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">检测配置：</div><div class="line">nginx -t</div><div class="line">重新加载：</div><div class="line">nginx -s reload</div></pre></td></tr></table></figure>
<h3 id="4-优化nginx配置"><a href="#4-优化nginx配置" class="headerlink" title="4. 优化nginx配置"></a>4. 优化nginx配置</h3><p><strong>https和http共存:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">        listen 80;</div><div class="line">        listen 443 ssl;</div><div class="line">        server_name zou.lu;</div><div class="line">        root /var/www/html;</div><div class="line"></div><div class="line">        #ssl on;   //这行必须要注释掉</div><div class="line">        ssl_certificate /usr/local/nginx/conf/zou_lu.crt;</div><div class="line">        ssl_certificate_key /usr/local/nginx/conf/zoulukey.pem;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><strong>优化性能:</strong></p>
<p>在http{}中加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssl_session_cache shared:SSL:10m;</div><div class="line"></div><div class="line">ssl_session_timeout 10m;</div></pre></td></tr></table></figure>
<p>据官方文档所述，cache中的1m可以存放4000个session。</p>
<p>在配置https的虚拟主机server{}中加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">keepalive_timeout 70;</div></pre></td></tr></table></figure>
<p><strong>PS:常见错误:</strong></p>
<p>有时候，会发现，在phpMyAdmin等程序登入后会错误地跳转http的问题。解决方法是定位至“location ~ .*.(php|php5)?${}”在include fcgi.conf;或者在fastcgi_param配置后面加上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fastcgi_param HTTPS on;</div><div class="line"></div><div class="line">fastcgi_param HTTP_SCHEME https;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[常用的正则表达式]]></title>
      <url>/%E8%BD%AC%E8%BD%BD/2016/09/28/%E8%BD%AC%E8%BD%BD-2016-09-28-%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>原文出处: (http://www.jianshu.com/p/e7bb97218946)
日期: 2016年9月28日
版本: V1.0.1.0
</code></pre><a id="more"></a>
<p>正则表达式，一个十分古老而又强大的文本处理工具，仅仅用一段非常简短的表达式语句，便能够快速实现一个非常复杂的业务逻辑。熟练地掌握正则表达式的话，能够使你的开发效率得到极大的提升。</p>
<p>正则表达式经常被用于字段或任意字符串的校验，如下面这段校验基本日期格式的JavaScript代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\\d&#123;1,4&#125;)(-|\\/</span>)(\\d&#123;<span class="number">1</span>,<span class="number">2</span>&#125;)\\<span class="number">2</span>(\\d&#123;<span class="number">1</span>,<span class="number">2</span>&#125;)$/; </div><div class="line"><span class="keyword">var</span> r = fieldValue.match(reg); </div><div class="line"><span class="keyword">if</span>(r==<span class="literal">null</span>)alert(<span class="string">'Date format error!'</span>);</div></pre></td></tr></table></figure>
<h2 id="1-校验密码强度"><a href="#1-校验密码强度" class="headerlink" title="1.校验密码强度"></a>1.校验密码强度</h2><p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</div></pre></td></tr></table></figure>
<h2 id="2-校验中文"><a href="#2-校验中文" class="headerlink" title="2.校验中文"></a>2.校验中文</h2><p>字符串仅能是中文.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[\\u4e00-\\u9fa5]&#123;0,&#125;$</div></pre></td></tr></table></figure>
<h2 id="3-由数字、26个英文字母或下划线组成的字符串"><a href="#3-由数字、26个英文字母或下划线组成的字符串" class="headerlink" title="3.由数字、26个英文字母或下划线组成的字符串"></a>3.由数字、26个英文字母或下划线组成的字符串</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\w+$</div></pre></td></tr></table></figure>
<h2 id="4-校验E-Mail-地址"><a href="#4-校验E-Mail-地址" class="headerlink" title="4.校验E-Mail 地址"></a>4.校验E-Mail 地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</div></pre></td></tr></table></figure>
<h2 id="5-校验身份证号码"><a href="#5-校验身份证号码" class="headerlink" title="5.校验身份证号码"></a>5.校验身份证号码</h2><p>下面是身份证号码的正则校验。15 或 18位。</p>
<p><strong>15位</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;7&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;$</div></pre></td></tr></table></figure>
<p><strong>18位</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;([0-9]|X)$</div></pre></td></tr></table></figure>
<h2 id="6-校验日期"><a href="#6-校验日期" class="headerlink" title="6.校验日期"></a>6.校验日期</h2><p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$</div></pre></td></tr></table></figure>
<h2 id="7-校验金额"><a href="#7-校验金额" class="headerlink" title="7.校验金额"></a>7.校验金额</h2><p>金额校验，精确到2位小数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[0-9]+(.[0-9]&#123;2&#125;)?$</div></pre></td></tr></table></figure>
<h2 id="8-校验手机号"><a href="#8-校验手机号" class="headerlink" title="8.校验手机号"></a>8.校验手机号</h2><p>下面是国内 13、15、18开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d&#123;8&#125;$</div></pre></td></tr></table></figure>
<h2 id="9-判断IE的版本"><a href="#9-判断IE的版本" class="headerlink" title="9.判断IE的版本"></a>9.判断IE的版本</h2><p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$</div></pre></td></tr></table></figure>
<h2 id="10-校验IP-v4地址"><a href="#10-校验IP-v4地址" class="headerlink" title="10.校验IP-v4地址"></a>10.校验IP-v4地址</h2><p>IP4 正则语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b</div></pre></td></tr></table></figure>
<h2 id="11-校验IP-v6地址"><a href="#11-校验IP-v6地址" class="headerlink" title="11.校验IP-v6地址"></a>11.校验IP-v6地址</h2><p>IP6 正则语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))</div></pre></td></tr></table></figure>
<h2 id="12-检查URL的前缀"><a href="#12-检查URL的前缀" class="headerlink" title="12.检查URL的前缀"></a>12.检查URL的前缀</h2><p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if (!s.match(/^[a-zA-Z]+:\\/\\//)) &#123; s = &apos;http://&apos; + s; &#125;</div></pre></td></tr></table></figure>
<h2 id="13-提取URL链接"><a href="#13-提取URL链接" class="headerlink" title="13.提取URL链接"></a>13.提取URL链接</h2><p>下面的这个表达式可以筛选出一段文本中的URL.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(f|ht)&#123;1&#125;(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?</div></pre></td></tr></table></figure>
<h2 id="14-文件路径及扩展名校验"><a href="#14-文件路径及扩展名校验" class="headerlink" title="14.文件路径及扩展名校验"></a>14.文件路径及扩展名校验</h2><p>验证windows下文件路径和扩展名（下面的例子中为.txt文件）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$</div></pre></td></tr></table></figure>
<h2 id="15-提取Color-Hex-Codes"><a href="#15-提取Color-Hex-Codes" class="headerlink" title="15.提取Color Hex Codes"></a>15.提取Color Hex Codes</h2><p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^#([A-Fa-f0-9]&#123;6&#125;|[A-Fa-f0-9]&#123;3&#125;)$</div></pre></td></tr></table></figure>
<h2 id="16-提取网页图片"><a href="#16-提取网页图片" class="headerlink" title="16.提取网页图片"></a>16.提取网页图片</h2><p>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\&quot;\\&apos;]&#123;0,1&#125;([^\\&quot;\\&apos;\\ &gt;]*)</div></pre></td></tr></table></figure>
<h2 id="17-提取页面超链接"><a href="#17-提取页面超链接" class="headerlink" title="17.提取页面超链接"></a>17.提取页面超链接</h2><p>提取html中的超链接。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?:\\/\\/)((?!(?:(?:www\\.)?&apos;.implode(&apos;|(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;</div></pre></td></tr></table></figure>
<h2 id="18-查找CSS属性"><a href="#18-查找CSS属性" class="headerlink" title="18.查找CSS属性"></a>18.查找CSS属性</h2><p>通过下面的表达式，可以搜索到相匹配的CSS属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\s*[a-zA-Z\\-]+\\s*[:]&#123;1&#125;\\s[a-zA-Z0-9\\s.#]+[;]&#123;1&#125;</div></pre></td></tr></table></figure>
<h2 id="19-抽取注释"><a href="#19-抽取注释" class="headerlink" title="19.抽取注释"></a>19.抽取注释</h2><p>如果你需要移除HMTL中的注释，可以使用如下的表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;!--(.*?)--&gt;</div></pre></td></tr></table></figure>
<h2 id="20-匹配HTML标签"><a href="#20-匹配HTML标签" class="headerlink" title="20.匹配HTML标签"></a>20.匹配HTML标签</h2><p>通过下面的表达式可以匹配出HTML中的标签属性.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;.*?&quot;|&apos;.*?&apos;|[\\^&apos;&quot;&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;</div></pre></td></tr></table></figure>
<h2 id="学习正则表达式"><a href="#学习正则表达式" class="headerlink" title="学习正则表达式"></a>学习正则表达式</h2><p><img src="/res/img/blog/转载/正则.jpg" alt="正则"></p>
<p><a href="https://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx" target="_blank" rel="external">1.快速学习指南</a></p>
<p><a href="https://regex101.com/#javascript" target="_blank" rel="external">2.在线测试工具</a></p>
]]></content>
      
        <categories>
            
            <category> 转载 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[nginx 常用的配置]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/09/20/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-03-14-nginx%E7%9A%84%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<hr>
<p>安装请移步这里<a href="http://daodaoliang.github.io/blog/2015/05/12/CentOS6.5%E9%80%9A%E8%BF%87%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85nginx.html" target="_blank" rel="external">点击我</a></p>
<a id="more"></a>
<h2 id="1-nginx目录嵌套"><a href="#1-nginx目录嵌套" class="headerlink" title="1. nginx目录嵌套"></a><strong>1. nginx目录嵌套</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line"></div><div class="line">    .......</div><div class="line">    include /etc/nginx/conf.d/*.conf;</div><div class="line">    include sites/*.conf;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-gzip-on"><a href="#2-gzip-on" class="headerlink" title="2. gzip on"></a><strong>2. gzip on</strong></h2><p>加到http模块中, 开启gzip, 注意gzip_types配置得是压缩的资源类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line"></div><div class="line"></div><div class="line">    .....</div><div class="line"></div><div class="line"></div><div class="line">    gzip on;</div><div class="line">    gzip_min_length 1k;</div><div class="line">    gzip_comp_level 5;</div><div class="line">    gzip_proxied expired no-cache no-store private auth;</div><div class="line">    gzip_types text/plain text/css application/javascript text/javascript application/x-javascript text/xml application/xml application/xml+rss application/json image/x-icon image/png image/jpg image/jpeg application/font-woff;</div><div class="line">    gzip_vary on;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-多处理器"><a href="#3-多处理器" class="headerlink" title="3. 多处理器"></a><strong>3. 多处理器</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">worker_processes  4;</div><div class="line">events &#123;</div><div class="line">    worker_connections  2048;</div><div class="line">    use epoll;</div><div class="line">    multi_accept on;</div><div class="line">&#125;</div><div class="line"></div><div class="line">worker_rlimit_nofile 100000;</div></pre></td></tr></table></figure>
<h2 id="4-静态文件缓存"><a href="#4-静态文件缓存" class="headerlink" title="4. 静态文件缓存"></a><strong>4. 静态文件缓存</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">location ~* \.(?:css|js)$ &#123;</div><div class="line">  expires 12h;</div><div class="line">  access_log off;</div><div class="line">  add_header Cache-Control &quot;public&quot;;</div><div class="line">  proxy_pass http://127.0.0.1:5000;</div><div class="line">  proxy_redirect off;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="5-代理"><a href="#5-代理" class="headerlink" title="5. 代理"></a><strong>5. 代理</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">location /</div><div class="line">&#123;</div><div class="line">    proxy_pass http://127.0.0.1:8000;</div><div class="line">    proxy_pass_header Server;</div><div class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class="line">    proxy_set_header X-Real-IP $remote_addr;</div><div class="line">    proxy_set_header X-Scheme $scheme;</div><div class="line">    proxy_set_header Host $http_host;</div><div class="line">    proxy_redirect off;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以设置超时时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proxy_connect_timeout 500s;</div><div class="line">proxy_read_timeout 500s;</div><div class="line">proxy_send_timeout 500s;</div></pre></td></tr></table></figure>
<h2 id="6-静态目录-or-文件"><a href="#6-静态目录-or-文件" class="headerlink" title="6. 静态目录 or 文件"></a><strong>6. 静态目录 or 文件</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">location /movies/ &#123;</div><div class="line">    alias /Volumes/Media/Movies/;</div><div class="line">    allow all;</div><div class="line">&#125;</div><div class="line"></div><div class="line">location = /abc.txt &#123;</div><div class="line">    alias /data/www/static/abc.txt;</div><div class="line">    expires  30d;</div><div class="line">    access_log off;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="7-静态站"><a href="#7-静态站" class="headerlink" title="7. 静态站"></a><strong>7. 静态站</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">server &#123;</div><div class="line">    listen       192.168.1.1:80;</div><div class="line">    server_name  www.abc.com;</div><div class="line"></div><div class="line">    client_max_body_size 1M;</div><div class="line">    access_log logs/blog_access.log;</div><div class="line">    error_log logs/blog_error.log;</div><div class="line"></div><div class="line">    root /data/static_site_dir;</div><div class="line">    index index.html;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="8-服务转发"><a href="#8-服务转发" class="headerlink" title="8. 服务转发"></a><strong>8. 服务转发</strong></h2><p>将收到的服务url/参数等, 原封不动转给另一个服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen 80;</div><div class="line">    server_name  www.xxxx.com;</div><div class="line">    location ~ ^/(.*)$ &#123;</div><div class="line">        proxy_pass http://192.168.1.1:80/another/service/$1$is_args$args;</div><div class="line">        proxy_read_timeout 90;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="9-return"><a href="#9-return" class="headerlink" title="9. return"></a><strong>9. return</strong></h2><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">return http_code;</div><div class="line">return http_code &quot;content&quot;;</div></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">location /api/test/ &#123;</div><div class="line">    return 403;</div><div class="line">&#125;</div><div class="line"></div><div class="line">location /stat/ &#123;</div><div class="line">    return 204;</div><div class="line">&#125;</div><div class="line"></div><div class="line">location /ping/ &#123;</div><div class="line">    return 200;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="10-重定向到-www"><a href="#10-重定向到-www" class="headerlink" title="10. 重定向到 www"></a><strong>10. 重定向到 www</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    server_name  abc.com;</div><div class="line">    rewrite ^(.*) http://www.abc.com$1 permanent;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="11-允许或者拒绝"><a href="#11-允许或者拒绝" class="headerlink" title="11. 允许或者拒绝"></a><strong>11. 允许或者拒绝</strong></h2><p>访问ip控制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">location /test/ &#123;</div><div class="line">    allow 192.168.1.1;</div><div class="line">    deny all;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="12-负载均衡"><a href="#12-负载均衡" class="headerlink" title="12. 负载均衡"></a><strong>12. 负载均衡</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line"></div><div class="line">    upstream test &#123;</div><div class="line">        server 192.168.1.1:5000;</div><div class="line">        server 192.168.1.2:5000;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">server &#123;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">        proxy_pass test;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="13-配置文件检查"><a href="#13-配置文件检查" class="headerlink" title="13. 配置文件检查"></a><strong>13. 配置文件检查</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">检查配置文件正确性</div><div class="line">service nginx configtest</div><div class="line"></div><div class="line"></div><div class="line">重新加载配置</div><div class="line">service nginx reload</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[10个值得前端收藏的CSS3动效库]]></title>
      <url>/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/2016/09/18/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0-2016-09-28-10%E4%B8%AA%E5%80%BC%E5%BE%97%E5%89%8D%E7%AB%AF%E6%94%B6%E8%97%8F%E7%9A%84CSS3%E5%8A%A8%E6%95%88%E5%BA%93/</url>
      <content type="html"><![CDATA[<pre><code>原文: http://www.jianshu.com/p/31118d83cb5f#
版本: V1.0.1.0
日期: 2016年9月28日
</code></pre><a id="more"></a>
<p>现在的网站和App的设计中越来越重视用户体验，而优秀的动效则能使你的应用更具交互性，从而吸引更多用户的使用。如果你对CSS3中定义动效还不熟练，或希望采用更加简单直接的方式在你的应用中引入动效的话，你可以参考并使用下面的这10个优秀动效库（工具）。</p>
<h2 id="1-Animate-css"><a href="#1-Animate-css" class="headerlink" title="1.Animate.css"></a>1.<a href="https://daneden.github.io/animate.css/" target="_blank" rel="external">Animate.css</a></h2><p>Animate.css是我比较喜欢的一个CSS3动效库，非常适合那些对CSS3动画效果不熟悉，但又希望给自己所做的网站或基于H5的APP引入动效的朋友。因为，你只需要给需要实现动效的元素添加上Animate.css中预定义的那些动效名称就可以了。比如常见的：bounce，flash，fadeIn，fadeOut等等，加起来有75种不同的动效，完全能够满足你的基本需要了。</p>
<p><img src="/res/img/blog/前端学习/Animate.png" alt="Animate"></p>
<p>当然对于这个库也有一些使用注意事项，比如你最好在给元素添加动效样式完成动效后，马上将这个动效样式去掉。另外，对于动效的时长，振动幅度等，你也需要做一些调整。因为，我感觉它默认设置中的动效过于快速和强烈了。Animate.css已经提供了详细的文档告诉你应该如何做这些调整。</p>
<hr>


<h2 id="2-Bounce-js"><a href="#2-Bounce-js" class="headerlink" title="2.Bounce.js"></a>2.<a href="http://bouncejs.com/" target="_blank" rel="external">Bounce.js</a></h2><p>Bounce.js是一个能够生成CSS3动效的小工具，它是用JavaScript编写的，提供了一个Web界面，你可以添加一个组件然后就可以选择包括Scale，Translate，Rotate，Skew这些动效类型，然后分别设置它们的参数，当达到你想要的效果后，你可以将这个动效以CSS的方式导出，这样你就可以将它应用到你的应用中了。</p>
<p><img src="/res/img/blog/前端学习/Bounce.png" alt="Bounce"></p>
<hr>

<h2 id="3-CSS3-Animation"><a href="#3-CSS3-Animation" class="headerlink" title="3.CSS3 Animation"></a>3.<a href="http://css3gen.com/css3-animation/" target="_blank" rel="external">CSS3 Animation</a></h2><p>CSS3 Animation是一个非常简单易用的动效工具，你可以在它提供的简单图形界面里，通过拖拽一些进度条来控制你的动效，生成的CSS代码会自动显示在下面的一个文本框里，你可以拷贝粘贴到你的应用中直接使用。</p>
<p><img src="/res/img/blog/前端学习/Animation.png" alt="Animation"></p>
<hr>

<h2 id="4-CSS-Animate"><a href="#4-CSS-Animate" class="headerlink" title="4.CSS Animate"></a>4.<a href="http://cssanimate.com/" target="_blank" rel="external">CSS Animate</a></h2><p>如果你觉得上面的工具还无法做出你想要的动效，那么可以看看CSS Animate这个工具。它能让你设置更多的动效参数，比如你可以同时设置动效起始和终止状态的坐标，大小，以及透明度，这样你就能够做出更加复杂的动效来。</p>
<p><img src="/res/img/blog/前端学习/Animate1.png" alt="Animate1"></p>
<hr>

<h2 id="5-Magic-Animations"><a href="#5-Magic-Animations" class="headerlink" title="5.Magic Animations"></a>5.<a href="https://www.minimamente.com/example/magic_animations/" target="_blank" rel="external">Magic Animations</a></h2><p>Magic Animations与Animate.css十分类似，也是一个预定义了一系列动效的CSS库。但与Animate.css的最大区别可能是，它定义的那些动效更炫也更酷一些，如果你的网站也很新潮，那可以考虑使用这个CSS动效库。</p>
<p><img src="/res/img/blog/前端学习/Magic.png" alt="Magic"></p>
<hr>

<h2 id="6-AniJS"><a href="#6-AniJS" class="headerlink" title="6.AniJS"></a>6.<a href="http://anijs.github.io/" target="_blank" rel="external">AniJS</a></h2><p>AniJS是一个通过JavaScript控制的动效库。它允许你通过它的链式语法来定义动效。比如下面这个例子：当用户点击时这个元素会沿Y轴翻转。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div data-anijs=&quot;if: click, do: flipInY, to: .container-box&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/前端学习/AniJS.png" alt="AniJS"></p>
<h2 id="7-Single-Element-CSS-Spinners"><a href="#7-Single-Element-CSS-Spinners" class="headerlink" title="7.Single Element CSS Spinners"></a>7.<a href="http://projects.lukehaas.me/css-loaders/" target="_blank" rel="external">Single Element CSS Spinners</a></h2><p>我们经常会需要一些动效来表达系统处于加载或处理数据的过程中。Single Element CSS Spinners这个在GitHub上的项目，提供了一组非常漂亮的可用于加载的CSS3动效。</p>
<p><img src="/res/img/blog/前端学习/Spinners.png" alt="Spinners"></p>
<h2 id="8-Snabbt-js"><a href="#8-Snabbt-js" class="headerlink" title="8.Snabbt.js"></a>8.<a href="http://daniel-lundin.github.io/snabbt.js/" target="_blank" rel="external">Snabbt.js</a></h2><p>Sanbbt.js是我很喜欢的一个动效库，它非常小巧只有5K，所以可以被用在移动应用中。而且它也支持链式语法，你可以很方便地写出复杂的动效组合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">snabbt(element, &#123;</div><div class="line">  position: [200, 0, 0],</div><div class="line">  easing: function(value) &#123;</div><div class="line">    return value + 0.3 * Math.sin(2*Math.PI * value);</div><div class="line">  &#125;</div><div class="line">&#125;).snabbt(&#123;</div><div class="line">  position: [0, 0, 0],</div><div class="line">  easing: &apos;easeOut&apos;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/前端学习/Snabbt.png" alt="Snabbt"></p>
<h2 id="9-Odometer"><a href="#9-Odometer" class="headerlink" title="9.Odometer"></a>9.<a href="http://github.hubspot.com/odometer/docs/welcome/" target="_blank" rel="external">Odometer</a></h2><p>Odometer 是用来给数字作动效的，比如通过它你可以很好地呈现网站人数的增加，倒计时等与数字相关的动画效果。</p>
<p><img src="/res/img/blog/前端学习/Odometer.png" alt="Odometer"></p>
<h2 id="10-Hover-css"><a href="#10-Hover-css" class="headerlink" title="10.Hover.css"></a>10.<a href="http://ianlunn.github.io/Hover/" target="_blank" rel="external">Hover.css</a></h2><p>Hover.css提供了大量的Hover效果，包括2D变换，图标变换，背景变换等等。而且几乎可以应用于所有元素，包括链接，按钮，logo，SVG甚至图片等等。</p>
<p><img src="/res/img/blog/前端学习/Hover.png" alt="Hover"></p>
]]></content>
      
        <categories>
            
            <category> 前端学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[github上前端涉及的知识体系]]></title>
      <url>/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/2016/09/18/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0-2016-09-18-github%E4%B8%8A%E5%89%8D%E7%AB%AF%E6%B6%89%E5%8F%8A%E7%9A%84%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
版本: V1.0.1.0
日期: 2016年9月18日
</code></pre><p>原文出处在<a href="https://github.com/nicejade/Front-end-tutorial" target="_blank" rel="external">这里</a></p>
<a id="more"></a>
<h2 id="综合类"><a href="#综合类" class="headerlink" title="综合类"></a><strong>综合类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">综合类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">前端知识体系</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/sb19871023/p/3894452.html" target="_blank" rel="external">http://www.cnblogs.com/sb19871023/p/3894452.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端知识结构</td>
<td style="text-align:center"><a href="https://github.com/JacksonTian/fks" target="_blank" rel="external">https://github.com/JacksonTian/fks</a></td>
</tr>
<tr>
<td style="text-align:center">Web前端开发大系概览</td>
<td style="text-align:center"><a href="https://github.com/unruledboy/WebFrontEndStack" target="_blank" rel="external">https://github.com/unruledboy/WebFrontEndStack</a></td>
</tr>
<tr>
<td style="text-align:center">Web前端开发大系概览-中文版</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/unruledboy/p/WebFrontEndStack.html" target="_blank" rel="external">http://www.cnblogs.com/unruledboy/p/WebFrontEndStack.html</a></td>
</tr>
<tr>
<td style="text-align:center">Web Front-end Stack v2.2</td>
<td style="text-align:center"><a href="https://raw.githubusercontent.com/unruledboy/WebFrontEndStack/master/Web%20Front%20End%20Stack.png" target="_blank" rel="external">Web Front-end Stack v2.2</a></td>
</tr>
<tr>
<td style="text-align:center">免费的编程中文书籍索引</td>
<td style="text-align:center"><a href="https://github.com/justjavac/free-programming-books-zh_CN" target="_blank" rel="external">https://github.com/justjavac/free-programming-books-zh_CN</a></td>
</tr>
<tr>
<td style="text-align:center">前端书籍</td>
<td style="text-align:center"><a href="https://github.com/dypsilon/frontend-dev-bookmarks" target="_blank" rel="external">https://github.com/dypsilon/frontend-dev-bookmarks</a></td>
</tr>
<tr>
<td style="text-align:center">前端免费书籍大全</td>
<td style="text-align:center"><a href="https://github.com/vhf/free-programming-books" target="_blank" rel="external">https://github.com/vhf/free-programming-books</a></td>
</tr>
<tr>
<td style="text-align:center">前端知识体系</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/sb19871023/p/3894452.html" target="_blank" rel="external">http://www.cnblogs.com/sb19871023/p/3894452.html</a></td>
</tr>
<tr>
<td style="text-align:center">免费的编程中文书籍索引</td>
<td style="text-align:center"><a href="https://github.com/justjavac/free-programming-books-zh_CN" target="_blank" rel="external">https://github.com/justjavac/free-programming-books-zh_CN</a></td>
</tr>
<tr>
<td style="text-align:center">智能社 - 精通JavaScript开发</td>
<td style="text-align:center"><a href="http://study.163.com/course/introduction/224014.htm" target="_blank" rel="external">http://study.163.com/course/introduction/224014.htm</a></td>
</tr>
<tr>
<td style="text-align:center">重新介绍 JavaScript（JS 教程）</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/A_re-introduction_to_JavaScript" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/A_re-introduction_to_JavaScript</a></td>
</tr>
<tr>
<td style="text-align:center">麻省理工学院公开课：计算机科学及编程导论</td>
<td style="text-align:center"><a href="http://v.163.com/special/opencourse/bianchengdaolun.html" target="_blank" rel="external">http://v.163.com/special/opencourse/bianchengdaolun.html</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript中的this陷阱的最全收集–没有之一</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000002640298" target="_blank" rel="external">http://segmentfault.com/a/1190000002640298</a></td>
</tr>
<tr>
<td style="text-align:center">JS函数式编程指南</td>
<td style="text-align:center"><a href="https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch1.html" target="_blank" rel="external">https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch1.html</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript Promise迷你书（中文版）</td>
<td style="text-align:center"><a href="http://liubin.github.io/promises-book" target="_blank" rel="external">http://liubin.github.io/promises-book</a></td>
</tr>
<tr>
<td style="text-align:center">腾讯移动Web前端知识库</td>
<td style="text-align:center"><a href="https://github.com/AlloyTeam/Mars" target="_blank" rel="external">https://github.com/AlloyTeam/Mars</a></td>
</tr>
<tr>
<td style="text-align:center">Front-End-Develop-Guide 前端开发指南</td>
<td style="text-align:center"><a href="https://github.com/Front-End-Developers-Hunan/Front-End-Develop-Guide" target="_blank" rel="external">https://github.com/Front-End-Developers-Hunan/Front-End-Develop-Guide</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发笔记本</td>
<td style="text-align:center"><a href="https://li-xinyang.gitbooks.io/frontend-notebook/content" target="_blank" rel="external">https://li-xinyang.gitbooks.io/frontend-notebook/content</a></td>
</tr>
<tr>
<td style="text-align:center">大前端工具集 - 聂微东</td>
<td style="text-align:center"><a href="https://github.com/nieweidong/fetool" target="_blank" rel="external">https://github.com/nieweidong/fetool</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发者手册</td>
<td style="text-align:center"><a href="https://dwqs.gitbooks.io/frontenddevhandbook/content" target="_blank" rel="external">https://dwqs.gitbooks.io/frontenddevhandbook/content</a></td>
</tr>
</tbody>
</table>
<h2 id="入门类"><a href="#入门类" class="headerlink" title="入门类"></a><strong>入门类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">入门类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">前端入门教程</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/jikey/p/3613082.html" target="_blank" rel="external">http://www.cnblogs.com/jikey/p/3613082.html</a></td>
</tr>
<tr>
<td style="text-align:center">瘳雪峰的Javascript教程</td>
<td style="text-align:center"><a href="http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000" target="_blank" rel="external">http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000</a></td>
</tr>
<tr>
<td style="text-align:center">jQuery基础教程</td>
<td style="text-align:center"><a href="http://www.imooc.com/view/11" target="_blank" rel="external">http://www.imooc.com/view/11</a></td>
</tr>
<tr>
<td style="text-align:center">前端工程师必备的PS技能——切图篇</td>
<td style="text-align:center"><a href="http://www.imooc.com/view/506" target="_blank" rel="external">http://www.imooc.com/view/506</a></td>
</tr>
<tr>
<td style="text-align:center">结合个人经历总结的前端入门方法</td>
<td style="text-align:center"><a href="https://github.com/qiu-deqing/FE-learning" target="_blank" rel="external">https://github.com/qiu-deqing/FE-learning</a></td>
</tr>
</tbody>
</table>
<h2 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a><strong>工具类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">工具类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>前端人的俱乐部</strong></td>
<td style="text-align:center"><a href="http://f2er.club/" target="_blank" rel="external">http://f2er.club/</a> 真可以解放你的收藏夹</td>
</tr>
<tr>
<td style="text-align:center">如何优雅地使用Sublime Text</td>
<td style="text-align:center"><a href="http://www.jeffjade.com/2015/12/15/2015-04-17-toss-sublime-text/#" target="_blank" rel="external">http://www.jeffjade.com/2015/12/15/2015-04-17-toss-sublime-text/#</a></td>
</tr>
<tr>
<td style="text-align:center">新编码神器Atom使用纪要</td>
<td style="text-align:center"><a href="http://www.jeffjade.com/2016/03/03/2016-03-02-how-to-use-atom/" target="_blank" rel="external">http://www.jeffjade.com/2016/03/03/2016-03-02-how-to-use-atom/</a></td>
</tr>
<tr>
<td style="text-align:center">css sprite 雪碧图制作</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/93" target="_blank" rel="external">http://www.imooc.com/learn/93</a></td>
</tr>
<tr>
<td style="text-align:center">版本控制入门 – 搬进 Github</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/390" target="_blank" rel="external">http://www.imooc.com/learn/390</a></td>
</tr>
<tr>
<td style="text-align:center">Grunt-beginner前端自动化工具</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/30" target="_blank" rel="external">http://www.imooc.com/learn/30</a></td>
</tr>
<tr>
<td style="text-align:center">IntelliJ IDEA 简体中文专题教程</td>
<td style="text-align:center"><a href="https://github.com/judasn/IntelliJ-IDEA-Tutorial" target="_blank" rel="external">https://github.com/judasn/IntelliJ-IDEA-Tutorial</a></td>
</tr>
<tr>
<td style="text-align:center">Webstorm,InterllIdea,Phpstorm</td>
<td style="text-align:center"><a href="http://t.cn/8kZZ1Uy" target="_blank" rel="external">http://t.cn/8kZZ1Uy</a></td>
</tr>
<tr>
<td style="text-align:center">SublimeText</td>
<td style="text-align:center"><a href="https://github.com/jikeytang/sublime-text" target="_blank" rel="external">https://github.com/jikeytang/sublime-text</a></td>
</tr>
<tr>
<td style="text-align:center">Atom</td>
<td style="text-align:center"><a href="https://atom.io" target="_blank" rel="external">https://atom.io</a></td>
</tr>
<tr>
<td style="text-align:center">visual studio code</td>
<td style="text-align:center"><a href="https://code.visualstudio.com" target="_blank" rel="external">https://code.visualstudio.com</a></td>
</tr>
</tbody>
</table>
<h2 id="综合效果搜索平台"><a href="#综合效果搜索平台" class="headerlink" title="综合效果搜索平台"></a><strong>综合效果搜索平台</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">综合效果搜索平台</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>JavaScript 资源大全中文版</strong></td>
<td style="text-align:center"><a href="https://github.com/jobbole/awesome-javascript-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-javascript-cn</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>100+ 超全的web开发工具和资源</strong></td>
<td style="text-align:center"><a href="https://xituqu.com/170.html" target="_blank" rel="external">https://xituqu.com/170.html</a></td>
</tr>
<tr>
<td style="text-align:center">zoommyapp.com</td>
<td style="text-align:center"><a href="http://zoommyapp.com/" target="_blank" rel="external">http://zoommyapp.com/</a> 高质量图库</td>
</tr>
<tr>
<td style="text-align:center">unsplash.com</td>
<td style="text-align:center"><a href="https://unsplash.com/" target="_blank" rel="external">https://unsplash.com/</a> 高质量图库</td>
</tr>
<tr>
<td style="text-align:center">www.pinterest.com</td>
<td style="text-align:center"><a href="https://www.pinterest.com/" target="_blank" rel="external">https://www.pinterest.com/</a> 图库</td>
</tr>
<tr>
<td style="text-align:center">New Old Stock</td>
<td style="text-align:center"><a href="http://nos.twnsnd.co" target="_blank" rel="external">http://nos.twnsnd.co</a> 复古风图库</td>
</tr>
<tr>
<td style="text-align:center">效果网</td>
<td style="text-align:center"><a href="http://www.jq22.com" target="_blank" rel="external">http://www.jq22.com</a></td>
</tr>
<tr>
<td style="text-align:center">花瓣网</td>
<td style="text-align:center"><a href="http://huaban.com/" target="_blank" rel="external">http://huaban.com/</a></td>
</tr>
<tr>
<td style="text-align:center">优美图</td>
<td style="text-align:center"><a href="http://www.topit.me/" target="_blank" rel="external">http://www.topit.me/</a></td>
</tr>
<tr>
<td style="text-align:center">codepen</td>
<td style="text-align:center"><a href="http://codepen.io/" target="_blank" rel="external">http://codepen.io/</a></td>
</tr>
<tr>
<td style="text-align:center">摄图网</td>
<td style="text-align:center"><a href="http://699pic.com/" target="_blank" rel="external">http://699pic.com/</a></td>
</tr>
<tr>
<td style="text-align:center">常用的JavaScript代码片段</td>
<td style="text-align:center"><a href="http://microjs.com" target="_blank" rel="external">http://microjs.com</a></td>
</tr>
</tbody>
</table>
<h2 id="团队Blog-周报类"><a href="#团队Blog-周报类" class="headerlink" title="团队Blog|周报类"></a><strong>团队Blog|周报类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">周报类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>奇舞周刊</strong></td>
<td style="text-align:center"><a href="http://old.75team.com/weekly/" target="_blank" rel="external">http://old.75team.com/weekly/</a></td>
</tr>
<tr>
<td style="text-align:center">码农周刊</td>
<td style="text-align:center"><a href="http://weekly.manong.io" target="_blank" rel="external">http://weekly.manong.io</a></td>
</tr>
<tr>
<td style="text-align:center">WEB前端开发</td>
<td style="text-align:center"><a href="http://www.css88.com" target="_blank" rel="external">http://www.css88.com</a></td>
</tr>
<tr>
<td style="text-align:center">A JS tip per day!</td>
<td style="text-align:center"><a href="http://www.jstips.co" target="_blank" rel="external">http://www.jstips.co</a></td>
</tr>
<tr>
<td style="text-align:center">腾讯全端 AlloyTeam</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/webdevelop/" target="_blank" rel="external">http://www.alloyteam.com/webdevelop/</a></td>
</tr>
<tr>
<td style="text-align:center">平安科技移动开发二队技术周报</td>
<td style="text-align:center"><a href="https://github.com/PaicHyperionDev/MobileDevWeekly" target="_blank" rel="external">https://github.com/PaicHyperionDev/MobileDevWeekly</a></td>
</tr>
</tbody>
</table>
<h2 id="开发中心"><a href="#开发中心" class="headerlink" title="开发中心"></a><strong>开发中心</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">开发中心</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">mozilla js参考</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</a></td>
</tr>
<tr>
<td style="text-align:center">chrome开发中心（chrome的内核已转向blink）</td>
<td style="text-align:center"><a href="https://developer.chrome.com/extensions/api_index.html" target="_blank" rel="external">https://developer.chrome.com/extensions/api_index.html</a></td>
</tr>
<tr>
<td style="text-align:center">safari开发中心</td>
<td style="text-align:center"><a href="https://developer.apple.com/library/safari/navigation" target="_blank" rel="external">https://developer.apple.com/library/safari/navigation</a></td>
</tr>
<tr>
<td style="text-align:center">microsoft js参考</td>
<td style="text-align:center"><a href="https://msdn.microsoft.com/zh-cn/library/d1et7k7c(v=vs.94.aspx" target="_blank" rel="external">https://msdn.microsoft.com/zh-cn/library/d1et7k7c(v=vs.94.aspx</a></td>
</tr>
<tr>
<td style="text-align:center">js秘密花园</td>
<td style="text-align:center"><a href="http://sanshi.me/articles/JavaScript-Garden-CN/html/index.html" target="_blank" rel="external">http://sanshi.me/articles/JavaScript-Garden-CN/html/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">js秘密花园</td>
<td style="text-align:center"><a href="http://bonsaiden.github.io/JavaScript-Garden/zh" target="_blank" rel="external">http://bonsaiden.github.io/JavaScript-Garden/zh</a></td>
</tr>
<tr>
<td style="text-align:center">w3help</td>
<td style="text-align:center"><a href="http://www.w3help.org" target="_blank" rel="external">http://www.w3help.org</a> 综合Bug集合网站</td>
</tr>
</tbody>
</table>
<h2 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a><strong>Nodejs</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Nodejs</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">nodejs 篇幅比较巨大</td>
<td style="text-align:center"><a href="http://liuqing.pw" target="_blank" rel="external">http://liuqing.pw</a></td>
</tr>
<tr>
<td style="text-align:center">Node.js 包教不包会</td>
<td style="text-align:center"><a href="https://github.com/alsotang/node-lessons" target="_blank" rel="external">https://github.com/alsotang/node-lessons</a></td>
</tr>
<tr>
<td style="text-align:center">篇幅比较少</td>
<td style="text-align:center"><a href="http://www.rainweb.cn/article/category/Nodejs" target="_blank" rel="external">http://www.rainweb.cn/article/category/Nodejs</a></td>
</tr>
<tr>
<td style="text-align:center">node express 入门教程</td>
<td style="text-align:center"><a href="http://www.w3cfuns.com/article-5598538-1-1.html" target="_blank" rel="external">http://www.w3cfuns.com/article-5598538-1-1.html</a></td>
</tr>
<tr>
<td style="text-align:center">nodejs定时任务</td>
<td style="text-align:center"><a href="http://my.oschina.net/u/568264/blog/193773" target="_blank" rel="external">http://my.oschina.net/u/568264/blog/193773</a></td>
</tr>
<tr>
<td style="text-align:center">一个nodejs博客</td>
<td style="text-align:center"><a href="http://60sky.com" target="_blank" rel="external">http://60sky.com</a></td>
</tr>
<tr>
<td style="text-align:center">【NodeJS 学习笔记04】新闻发布系统</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/yexiaochai/p/3536547.html" target="_blank" rel="external">http://www.cnblogs.com/yexiaochai/p/3536547.html</a></td>
</tr>
<tr>
<td style="text-align:center">过年7天乐，学nodejs 也快乐</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/qqloving/p/3541099.html" target="_blank" rel="external">http://www.cnblogs.com/qqloving/p/3541099.html</a></td>
</tr>
<tr>
<td style="text-align:center">七天学会NodeJS</td>
<td style="text-align:center"><a href="https://github.com/nqdeng/7-days-nodejs" target="_blank" rel="external">https://github.com/nqdeng/7-days-nodejs</a></td>
</tr>
<tr>
<td style="text-align:center">Nodejs学习笔记（二）— 事件模块</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/zhongweiv/p/nodejs_events.html" target="_blank" rel="external">http://www.cnblogs.com/zhongweiv/p/nodejs_events.html</a></td>
</tr>
<tr>
<td style="text-align:center">nodejs入门</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/liusuqi/p/3735491.html" target="_blank" rel="external">http://www.cnblogs.com/liusuqi/p/3735491.html</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs nodejs</td>
<td style="text-align:center"><a href="https://github.com/zensh/jsgen" target="_blank" rel="external">https://github.com/zensh/jsgen</a></td>
</tr>
<tr>
<td style="text-align:center">从零开始nodejs系列文章</td>
<td style="text-align:center"><a href="http://blog.fens.me/series-nodejs" target="_blank" rel="external">http://blog.fens.me/series-nodejs</a></td>
</tr>
<tr>
<td style="text-align:center">理解nodejs</td>
<td style="text-align:center"><a href="http://debuggable.com/posts/understanding-node-js:4bd98440-45e4-4a9a-8ef7-0f7ecbdd56cb" target="_blank" rel="external">http://debuggable.com/posts/understanding-node-js:4bd98440-45e4-4a9a-8ef7-0f7ecbdd56cb</a></td>
</tr>
<tr>
<td style="text-align:center">nodejs事件轮询</td>
<td style="text-align:center"><a href="http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop" target="_blank" rel="external">http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop</a></td>
</tr>
<tr>
<td style="text-align:center">node入门</td>
<td style="text-align:center"><a href="http://www.nodebeginner.org/index-zh-cn.html" target="_blank" rel="external">http://www.nodebeginner.org/index-zh-cn.html</a></td>
</tr>
<tr>
<td style="text-align:center">nodejs cms</td>
<td style="text-align:center"><a href="http://ourjs.com/detail/53e1f281c5910a9806000001" target="_blank" rel="external">http://ourjs.com/detail/53e1f281c5910a9806000001</a></td>
</tr>
<tr>
<td style="text-align:center">Node初学者入门，一本全面的NodeJS教程</td>
<td style="text-align:center"><a href="http://ourjs.com/detail/529ca5950cb6498814000005" target="_blank" rel="external">http://ourjs.com/detail/529ca5950cb6498814000005</a></td>
</tr>
<tr>
<td style="text-align:center">NodeJS的代码调试和性能调优</td>
<td style="text-align:center"><a href="http://www.barretlee.com/blog/2015/10/07/debug-nodejs-in-command-line" target="_blank" rel="external">http://www.barretlee.com/blog/2015/10/07/debug-nodejs-in-command-line</a></td>
</tr>
</tbody>
</table>
<h2 id="综合API"><a href="#综合API" class="headerlink" title="综合API"></a><strong>综合API</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">综合API</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">javascripting</td>
<td style="text-align:center"><a href="http://www.javascripting.com" target="_blank" rel="external">http://www.javascripting.com</a></td>
</tr>
<tr>
<td style="text-align:center">各种流行库搜索</td>
<td style="text-align:center"><a href="http://microjs.com" target="_blank" rel="external">http://microjs.com</a>    </td>
</tr>
<tr>
<td style="text-align:center">runoob.com-包含各种API集合</td>
<td style="text-align:center"><a href="http://www.runoob.com" target="_blank" rel="external">http://www.runoob.com</a></td>
</tr>
<tr>
<td style="text-align:center">开源中国在线API文档合集</td>
<td style="text-align:center"><a href="http://tool.oschina.net/apidocs" target="_blank" rel="external">http://tool.oschina.net/apidocs</a></td>
</tr>
<tr>
<td style="text-align:center">devdocs</td>
<td style="text-align:center"><a href="http://devdocs.io" target="_blank" rel="external">http://devdocs.io</a> 英文综合API网站</td>
</tr>
</tbody>
</table>
<h2 id="Ecmascript"><a href="#Ecmascript" class="headerlink" title="Ecmascript"></a><strong>Ecmascript</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Ecmascript</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Understanding ECMAScript 6 - Nicholas C. Zakas</td>
<td style="text-align:center"><a href="https://leanpub.com/understandinges6/read" target="_blank" rel="external">https://leanpub.com/understandinges6/read</a></td>
</tr>
<tr>
<td style="text-align:center">exploring-es6</td>
<td style="text-align:center"><a href="https://leanpub.com/exploring-es6/read" target="_blank" rel="external">https://leanpub.com/exploring-es6/read</a></td>
</tr>
<tr>
<td style="text-align:center">exploring-es6翻译</td>
<td style="text-align:center"><a href="https://github.com/es6-org/exploring-es6" target="_blank" rel="external">https://github.com/es6-org/exploring-es6</a></td>
</tr>
<tr>
<td style="text-align:center">exploring-es6翻译后预览</td>
<td style="text-align:center"><a href="http://es6-org.github.io/exploring-es6" target="_blank" rel="external">http://es6-org.github.io/exploring-es6</a></td>
</tr>
<tr>
<td style="text-align:center">阮一峰 es6</td>
<td style="text-align:center"><a href="http://es6.ruanyifeng.com" target="_blank" rel="external">http://es6.ruanyifeng.com</a></td>
</tr>
<tr>
<td style="text-align:center">阮一峰 Javascript</td>
<td style="text-align:center"><a href="http://javascript.ruanyifeng.com" target="_blank" rel="external">http://javascript.ruanyifeng.com</a></td>
</tr>
<tr>
<td style="text-align:center">ECMA-262，第 5 版</td>
<td style="text-align:center"><a href="http://yanhaijing.com/es5" target="_blank" rel="external">http://yanhaijing.com/es5</a></td>
</tr>
<tr>
<td style="text-align:center">es5</td>
<td style="text-align:center"><a href="http://es5.github.io" target="_blank" rel="external">http://es5.github.io</a></td>
</tr>
</tbody>
</table>
<h2 id="Js-template"><a href="#Js-template" class="headerlink" title="Js template"></a><strong>Js template</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Js template</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">template-chooser</td>
<td style="text-align:center"><a href="http://garann.github.io/template-chooser" target="_blank" rel="external">http://garann.github.io/template-chooser</a></td>
</tr>
<tr>
<td style="text-align:center">artTemplate</td>
<td style="text-align:center"><a href="https://github.com/aui/artTemplate" target="_blank" rel="external">https://github.com/aui/artTemplate</a></td>
</tr>
<tr>
<td style="text-align:center">tomdjs</td>
<td style="text-align:center"><a href="https://github.com/aui/tmodjs/blob/master/README.md" target="_blank" rel="external">https://github.com/aui/tmodjs/blob/master/README.md</a></td>
</tr>
<tr>
<td style="text-align:center">淘宝模板juicer模板</td>
<td style="text-align:center"><a href="http://juicer.name/docs/docs_zh_cn.html" target="_blank" rel="external">http://juicer.name/docs/docs_zh_cn.html</a></td>
</tr>
<tr>
<td style="text-align:center">Fxtpl v1.0 繁星前端模板引擎</td>
<td style="text-align:center"><a href="http://koen301.github.io/fxtpl" target="_blank" rel="external">http://koen301.github.io/fxtpl</a></td>
</tr>
<tr>
<td style="text-align:center">laytpl</td>
<td style="text-align:center"><a href="http://laytpl.layui.com" target="_blank" rel="external">http://laytpl.layui.com</a></td>
</tr>
<tr>
<td style="text-align:center">mozilla - nunjucks</td>
<td style="text-align:center"><a href="https://github.com/mozilla/nunjucks" target="_blank" rel="external">https://github.com/mozilla/nunjucks</a></td>
</tr>
<tr>
<td style="text-align:center">Juicer</td>
<td style="text-align:center"><a href="https://github.com/PaulGuo/Juicer" target="_blank" rel="external">https://github.com/PaulGuo/Juicer</a></td>
</tr>
<tr>
<td style="text-align:center">dustjs</td>
<td style="text-align:center"><a href="http://akdubya.github.io/dustjs" target="_blank" rel="external">http://akdubya.github.io/dustjs</a></td>
</tr>
<tr>
<td style="text-align:center">etpl</td>
<td style="text-align:center"><a href="http://ecomfe.github.io/etpl" target="_blank" rel="external">http://ecomfe.github.io/etpl</a></td>
</tr>
</tbody>
</table>
<h2 id="HTML5-HTML"><a href="#HTML5-HTML" class="headerlink" title="HTML5(HTML)"></a><strong>HTML5(HTML)</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">HTML(HTML5)</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">深入理解HTML5标签</td>
<td style="text-align:center"><a href="https://segmentfault.com/a/1190000002695791" target="_blank" rel="external">https://segmentfault.com/a/1190000002695791</a></td>
</tr>
<tr>
<td style="text-align:center">如何写出高效率的HTML</td>
<td style="text-align:center"><a href="https://segmentfault.com/a/1190000002680822" target="_blank" rel="external">https://segmentfault.com/a/1190000002680822</a></td>
</tr>
<tr>
<td style="text-align:center">HTML meta标签总结与属性使用介绍</td>
<td style="text-align:center"><a href="https://segmentfault.com/a/1190000004279791" target="_blank" rel="external">https://segmentfault.com/a/1190000004279791</a></td>
</tr>
<tr>
<td style="text-align:center">戏说HTML5</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/dojo-lzz/p/5059316.html" target="_blank" rel="external">http://www.cnblogs.com/dojo-lzz/p/5059316.html</a></td>
</tr>
</tbody>
</table>
<h2 id="CSS3-CSS"><a href="#CSS3-CSS" class="headerlink" title="CSS3(CSS)"></a><strong>CSS3(CSS)</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">CSS</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CSS 语法参考</td>
<td style="text-align:center"><a href="http://tympanus.net/codrops/css_reference" target="_blank" rel="external">http://tympanus.net/codrops/css_reference</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>如何编写可维护的CSS</strong></td>
<td style="text-align:center"><a href="https://github.com/chadluo/CSS-Guidelines/blob/master/README.md" target="_blank" rel="external">https://github.com/chadluo/CSS-Guidelines/blob/master/README.md</a></td>
</tr>
<tr>
<td style="text-align:center">CSS3动画手册</td>
<td style="text-align:center"><a href="http://isux.tencent.com/css3/index.html" target="_blank" rel="external">http://isux.tencent.com/css3/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">腾讯css3动画制作工具</td>
<td style="text-align:center"><a href="http://isux.tencent.com/css3/tools.html" target="_blank" rel="external">http://isux.tencent.com/css3/tools.html</a></td>
</tr>
<tr>
<td style="text-align:center">志爷css小工具集合</td>
<td style="text-align:center"><a href="http://linxz.github.io/tianyizone" target="_blank" rel="external">http://linxz.github.io/tianyizone</a></td>
</tr>
<tr>
<td style="text-align:center">css3 js 移动大杂烩</td>
<td style="text-align:center"><a href="http://www.note12.com/category/blog/2014-6-5/538fe0a9f786f1b7019a4dfb" target="_blank" rel="external">http://www.note12.com/category/blog/2014-6-5/538fe0a9f786f1b7019a4dfb</a></td>
</tr>
<tr>
<td style="text-align:center">bouncejs 触摸库</td>
<td style="text-align:center"><a href="http://bouncejs.com" target="_blank" rel="external">http://bouncejs.com</a></td>
</tr>
<tr>
<td style="text-align:center">css3 按钮动画</td>
<td style="text-align:center"><a href="http://fian.my.id/Waves" target="_blank" rel="external">http://fian.my.id/Waves</a></td>
</tr>
<tr>
<td style="text-align:center">animate.css</td>
<td style="text-align:center"><a href="http://daneden.github.io/animate.css" target="_blank" rel="external">http://daneden.github.io/animate.css</a></td>
</tr>
<tr>
<td style="text-align:center">全局CSS的终结(狗带 [译]</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/2015/10/8536" target="_blank" rel="external">http://www.alloyteam.com/2015/10/8536</a></td>
</tr>
<tr>
<td style="text-align:center">browserhacks</td>
<td style="text-align:center"><a href="http://browserhacks.com" target="_blank" rel="external">http://browserhacks.com</a></td>
</tr>
</tbody>
</table>
<h2 id="Angularjs"><a href="#Angularjs" class="headerlink" title="Angularjs"></a><strong>Angularjs</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Angularjs</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Angular.js 的一些学习资源</td>
<td style="text-align:center"><a href="https://github.com/dolymood/AngularLearning" target="_blank" rel="external">https://github.com/dolymood/AngularLearning</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs中文社区</td>
<td style="text-align:center"><a href="http://angularjs.cn" target="_blank" rel="external">http://angularjs.cn</a></td>
</tr>
<tr>
<td style="text-align:center">Angularjs源码学习</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/xuwenmin888/p/3739096.html" target="_blank" rel="external">http://www.cnblogs.com/xuwenmin888/p/3739096.html</a></td>
</tr>
<tr>
<td style="text-align:center">Angularjs源码学习</td>
<td style="text-align:center"><a href="http://www.ifeenan.com/?c=AngularJS" target="_blank" rel="external">http://www.ifeenan.com/?c=AngularJS</a></td>
</tr>
<tr>
<td style="text-align:center">angular对bootstrap的封装</td>
<td style="text-align:center"><a href="http://angular-ui.github.io/bootstrap" target="_blank" rel="external">http://angular-ui.github.io/bootstrap</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs + nodejs</td>
<td style="text-align:center"><a href="https://cnodejs.org/topic/51404e0f069911196d2e3923" target="_blank" rel="external">https://cnodejs.org/topic/51404e0f069911196d2e3923</a></td>
</tr>
<tr>
<td style="text-align:center">吕大豹 Angularjs</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/lvdabao/tag/AngularJs" target="_blank" rel="external">http://www.cnblogs.com/lvdabao/tag/AngularJs</a></td>
</tr>
<tr>
<td style="text-align:center">AngularJS 最佳实践</td>
<td style="text-align:center"><a href="http://www.infoq.com/cn/news/2013/02/angular-web-app" target="_blank" rel="external">http://www.infoq.com/cn/news/2013/02/angular-web-app</a></td>
</tr>
<tr>
<td style="text-align:center">Angular的一些扩展指令</td>
<td style="text-align:center"><a href="http://www.lovelucy.info/angularjs-best-practices.html" target="_blank" rel="external">http://www.lovelucy.info/angularjs-best-practices.html</a></td>
</tr>
<tr>
<td style="text-align:center">Angular数据绑定原理</td>
<td style="text-align:center"><a href="https://github.com/Pasvaz/bindonce" target="_blank" rel="external">https://github.com/Pasvaz/bindonce</a></td>
</tr>
<tr>
<td style="text-align:center">一些扩展Angular UI组件</td>
<td style="text-align:center"><a href="https://github.com/angular-ui" target="_blank" rel="external">https://github.com/angular-ui</a></td>
</tr>
<tr>
<td style="text-align:center">Ember和AngularJS的性能测试</td>
<td style="text-align:center"><a href="http://voidcanvas.com/emberjs-vs-angularjs-performance-testing" target="_blank" rel="external">http://voidcanvas.com/emberjs-vs-angularjs-performance-testing</a></td>
</tr>
<tr>
<td style="text-align:center">带你走近AngularJS - 基本功能介绍</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/powertoolsteam/p/angularjs-introdection.html" target="_blank" rel="external">http://www.cnblogs.com/powertoolsteam/p/angularjs-introdection.html</a></td>
</tr>
<tr>
<td style="text-align:center">Angularjs开发指南</td>
<td style="text-align:center"><a href="http://angular.duapp.com/docs/guide" target="_blank" rel="external">http://angular.duapp.com/docs/guide</a></td>
</tr>
<tr>
<td style="text-align:center">Angularjs学习</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/amosli/p/3710648.html" target="_blank" rel="external">http://www.cnblogs.com/amosli/p/3710648.html</a></td>
</tr>
<tr>
<td style="text-align:center">不要带着jQuery的思维去学习AngularJS</td>
<td style="text-align:center"><a href="http://www.rainweb.cn/article/angularjs-jquery.html" target="_blank" rel="external">http://www.rainweb.cn/article/angularjs-jquery.html</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs 学习笔记</td>
<td style="text-align:center"><a href="http://wangjiatao.diandian.com/?tag=angularjs" target="_blank" rel="external">http://wangjiatao.diandian.com/?tag=angularjs</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs 开发指南</td>
<td style="text-align:center"><a href="http://www.angularjs.cn/T008" target="_blank" rel="external">http://www.angularjs.cn/T008</a></td>
</tr>
<tr>
<td style="text-align:center">angularjs 英文资料</td>
<td style="text-align:center"><a href="https://github.com/jmcunningham/AngularJS-Learning" target="_blank" rel="external">https://github.com/jmcunningham/AngularJS-Learning</a></td>
</tr>
<tr>
<td style="text-align:center">angular bootstrap</td>
<td style="text-align:center"><a href="http://angular-ui.github.io/bootstrap" target="_blank" rel="external">http://angular-ui.github.io/bootstrap</a></td>
</tr>
<tr>
<td style="text-align:center">angular jq mobile</td>
<td style="text-align:center"><a href="https://github.com/opitzconsulting/jquery-mobile-angular-adapter" target="_blank" rel="external">https://github.com/opitzconsulting/jquery-mobile-angular-adapter</a></td>
</tr>
<tr>
<td style="text-align:center">angular ui</td>
<td style="text-align:center"><a href="http://mgcrea.github.io/angular-strap" target="_blank" rel="external">http://mgcrea.github.io/angular-strap</a></td>
</tr>
<tr>
<td style="text-align:center">整合jQuery Mobile+AngularJS经验谈</td>
<td style="text-align:center"><a href="http://www.tuicool.com/articles/7ZZVr2" target="_blank" rel="external">http://www.tuicool.com/articles/7ZZVr2</a></td>
</tr>
<tr>
<td style="text-align:center">有jQuery背景，该如何用AngularJS编程思想</td>
<td style="text-align:center"><a href="http://blog.jobbole.com/46589/" target="_blank" rel="external">http://blog.jobbole.com/46589/</a> </td>
</tr>
<tr>
<td style="text-align:center">AngularJS在线教程</td>
<td style="text-align:center"><a href="http://each.sinaapp.com/angular" target="_blank" rel="external">http://each.sinaapp.com/angular</a></td>
</tr>
<tr>
<td style="text-align:center">angular学习笔记</td>
<td style="text-align:center"><a href="http://www.zouyesheng.com/angular.html" target="_blank" rel="external">http://www.zouyesheng.com/angular.html</a></td>
</tr>
</tbody>
</table>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a><strong>React</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">React</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">react.js 中文论坛</td>
<td style="text-align:center"><a href="http://www.react-china.org" target="_blank" rel="external">http://www.react-china.org</a></td>
</tr>
<tr>
<td style="text-align:center">react.js 官方网址</td>
<td style="text-align:center"><a href="https://facebook.github.io/react/index.html" target="_blank" rel="external">https://facebook.github.io/react/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">react.js 官方文档</td>
<td style="text-align:center"><a href="https://facebook.github.io/react/docs/getting-started.html" target="_blank" rel="external">https://facebook.github.io/react/docs/getting-started.html</a></td>
</tr>
<tr>
<td style="text-align:center">react.js material UI</td>
<td style="text-align:center"><a href="http://material-ui.com/#" target="_blank" rel="external">http://material-ui.com/#</a></td>
</tr>
<tr>
<td style="text-align:center">react.js TouchstoneJS UI</td>
<td style="text-align:center"><a href="http://touchstonejs.io" target="_blank" rel="external">http://touchstonejs.io</a></td>
</tr>
<tr>
<td style="text-align:center">react.js amazeui UI</td>
<td style="text-align:center"><a href="http://amazeui.org/react" target="_blank" rel="external">http://amazeui.org/react</a></td>
</tr>
<tr>
<td style="text-align:center">React 入门实例教程 - 阮一峰</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2015/03/react.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2015/03/react.html</a></td>
</tr>
<tr>
<td style="text-align:center">React Native 中文版</td>
<td style="text-align:center"><a href="http://wiki.jikexueyuan.com/project/react-native" target="_blank" rel="external">http://wiki.jikexueyuan.com/project/react-native</a></td>
</tr>
<tr>
<td style="text-align:center">Webpack 和 React 小书 - 前端乱炖</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/Fakefish%203053" target="_blank" rel="external">http://www.html-js.com/article/Fakefish%203053</a></td>
</tr>
<tr>
<td style="text-align:center">Webpack 和 React 小书 - gitbook</td>
<td style="text-align:center"><a href="https://fakefish.github.io/react-webpack-cookbook" target="_blank" rel="external">https://fakefish.github.io/react-webpack-cookbook</a></td>
</tr>
<tr>
<td style="text-align:center">webpack</td>
<td style="text-align:center"><a href="https://github.com/webpack/webpack" target="_blank" rel="external">https://github.com/webpack/webpack</a></td>
</tr>
<tr>
<td style="text-align:center">Webpack，101入门体验</td>
<td style="text-align:center"><a href="http://html-js.com/article/3009" target="_blank" rel="external">http://html-js.com/article/3009</a></td>
</tr>
<tr>
<td style="text-align:center">webpack入门教程</td>
<td style="text-align:center"><a href="http://html-js.com/article/3113" target="_blank" rel="external">http://html-js.com/article/3113</a></td>
</tr>
<tr>
<td style="text-align:center">基于webpack搭建前端工程解决方案探索</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000003499526" target="_blank" rel="external">http://segmentfault.com/a/1190000003499526</a></td>
</tr>
<tr>
<td style="text-align:center">React原创实战视频教程</td>
<td style="text-align:center"><a href="http://www.piliyu.com" target="_blank" rel="external">http://www.piliyu.com</a></td>
</tr>
</tbody>
</table>
<h2 id="vue"><a href="#vue" class="headerlink" title="vue"></a><strong>vue</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">vue</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Vue</td>
<td style="text-align:center"><a href="http://cn.vuejs.org" target="_blank" rel="external">http://cn.vuejs.org</a></td>
</tr>
<tr>
<td style="text-align:center">Vue 论坛</td>
<td style="text-align:center"><a href="http://forum.vuejs.org" target="_blank" rel="external">http://forum.vuejs.org</a></td>
</tr>
<tr>
<td style="text-align:center">Vue 入门指南</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/aaronjs/p/3660102.html" target="_blank" rel="external">http://www.cnblogs.com/aaronjs/p/3660102.html</a></td>
</tr>
<tr>
<td style="text-align:center">Vue 的一些资源索引</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000411057" target="_blank" rel="external">http://segmentfault.com/a/1190000000411057</a></td>
</tr>
<tr>
<td style="text-align:center">awesome-vue</td>
<td style="text-align:center"><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="external">https://github.com/vuejs/awesome-vue</a></td>
</tr>
</tbody>
</table>
<h2 id="移动端API"><a href="#移动端API" class="headerlink" title="移动端API"></a><strong>移动端API</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">移动端API</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">99移动端知识集合</td>
<td style="text-align:center"><a href="https://github.com/jtyjty99999/mobileTech" target="_blank" rel="external">https://github.com/jtyjty99999/mobileTech</a></td>
</tr>
<tr>
<td style="text-align:center">移动端前端开发知识库</td>
<td style="text-align:center"><a href="https://github.com/AlloyTeam/Mars" target="_blank" rel="external">https://github.com/AlloyTeam/Mars</a></td>
</tr>
<tr>
<td style="text-align:center">移动前端的一些坑和解决方法（外观表现）</td>
<td style="text-align:center"><a href="http://caibaojian.com/mobile-web-bug.html" target="_blank" rel="external">http://caibaojian.com/mobile-web-bug.html</a></td>
</tr>
<tr>
<td style="text-align:center">【原】移动web资源整理</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/PeunZhang/p/3407453.html" target="_blank" rel="external">http://www.cnblogs.com/PeunZhang/p/3407453.html</a></td>
</tr>
<tr>
<td style="text-align:center">zepto 1.0 中文手册</td>
<td style="text-align:center"><a href="http://mweb.baidu.com/zeptoapi" target="_blank" rel="external">http://mweb.baidu.com/zeptoapi</a></td>
</tr>
<tr>
<td style="text-align:center">zepto 1.0 中文手册</td>
<td style="text-align:center"><a href="http://www.html-5.cn/Manual/Zepto" target="_blank" rel="external">http://www.html-5.cn/Manual/Zepto</a></td>
</tr>
<tr>
<td style="text-align:center">zepto 1.1.2</td>
<td style="text-align:center"><a href="http://www.css88.com/doc/zeptojs_api" target="_blank" rel="external">http://www.css88.com/doc/zeptojs_api</a></td>
</tr>
<tr>
<td style="text-align:center">zepto 中文注释</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/sky000/archive/2013/03/29/2988952.html" target="_blank" rel="external">http://www.cnblogs.com/sky000/archive/2013/03/29/2988952.html</a></td>
</tr>
<tr>
<td style="text-align:center">jqmobile 手册</td>
<td style="text-align:center"><a href="http://app-framework-software.intel.com/api.php" target="_blank" rel="external">http://app-framework-software.intel.com/api.php</a></td>
</tr>
<tr>
<td style="text-align:center">移动浏览器开发集合</td>
<td style="text-align:center"><a href="https://github.com/maxzhang/maxzhang.github.com/issues" target="_blank" rel="external">https://github.com/maxzhang/maxzhang.github.com/issues</a></td>
</tr>
<tr>
<td style="text-align:center">移动开发大杂烩</td>
<td style="text-align:center"><a href="https://github.com/hoosin/mobile-web-favorites" target="_blank" rel="external">https://github.com/hoosin/mobile-web-favorites</a></td>
</tr>
</tbody>
</table>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a><strong>jQuery</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">jQuery</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">jQuery API 中文文档</td>
<td style="text-align:center"><a href="http://www.jquery123.com" target="_blank" rel="external">http://www.jquery123.com</a></td>
</tr>
<tr>
<td style="text-align:center">hemin 在线版</td>
<td style="text-align:center"><a href="http://hemin.cn/jq" target="_blank" rel="external">http://hemin.cn/jq</a></td>
</tr>
<tr>
<td style="text-align:center">css88 jq api</td>
<td style="text-align:center"><a href="http://www.css88.com/jqapi-1.9/on" target="_blank" rel="external">http://www.css88.com/jqapi-1.9/on</a></td>
</tr>
<tr>
<td style="text-align:center">css88 jqui api</td>
<td style="text-align:center"><a href="http://www.css88.com/jquery-ui-api" target="_blank" rel="external">http://www.css88.com/jquery-ui-api</a></td>
</tr>
<tr>
<td style="text-align:center">学习jquery</td>
<td style="text-align:center"><a href="http://learn.jquery.com" target="_blank" rel="external">http://learn.jquery.com</a></td>
</tr>
<tr>
<td style="text-align:center">jquery 源码查找</td>
<td style="text-align:center"><a href="http://james.padolsey.com/jquery" target="_blank" rel="external">http://james.padolsey.com/jquery</a></td>
</tr>
<tr>
<td style="text-align:center">Web前端资源汇总(jQuery,Js,Css3等)</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/jihua/p/webfront.html" target="_blank" rel="external">http://www.cnblogs.com/jihua/p/webfront.html</a></td>
</tr>
</tbody>
</table>
<h2 id="D3"><a href="#D3" class="headerlink" title="D3"></a><strong>D3</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">D3</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">d3 Tutorials</td>
<td style="text-align:center"><a href="https://github.com/mbostock/d3/wiki/Tutorials" target="_blank" rel="external">https://github.com/mbostock/d3/wiki/Tutorials</a></td>
</tr>
<tr>
<td style="text-align:center">Gallery</td>
<td style="text-align:center"><a href="https://github.com/mbostock/d3/wiki/Gallery" target="_blank" rel="external">https://github.com/mbostock/d3/wiki/Gallery</a></td>
</tr>
<tr>
<td style="text-align:center">lofter</td>
<td style="text-align:center"><a href="http://datavisual.lofter.com/post/40cf3a_188e535" target="_blank" rel="external">http://datavisual.lofter.com/post/40cf3a_188e535</a></td>
</tr>
<tr>
<td style="text-align:center">iteye</td>
<td style="text-align:center"><a href="http://alanland.iteye.com/blog/1878595" target="_blank" rel="external">http://alanland.iteye.com/blog/1878595</a></td>
</tr>
<tr>
<td style="text-align:center">ruanyifeng</td>
<td style="text-align:center"><a href="http://javascript.ruanyifeng.com/library/d3.html" target="_blank" rel="external">http://javascript.ruanyifeng.com/library/d3.html</a></td>
</tr>
</tbody>
</table>
<h2 id="Requriejs"><a href="#Requriejs" class="headerlink" title="Requriejs"></a><strong>Requriejs</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Requriejs</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Javascript模块化编程（一）：模块的写法</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2012/10/javascript_module.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2012/10/javascript_module.html</a></td>
</tr>
<tr>
<td style="text-align:center">Javascript模块化编程（二）：AMD规范</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html</a></td>
</tr>
<tr>
<td style="text-align:center">Javascript模块化编程（三）：require.js的用法</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2012/11/require_js.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2012/11/require_js.html</a></td>
</tr>
<tr>
<td style="text-align:center">RequireJS入门（一）</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/snandy/archive/2012/05/22/2513652.html" target="_blank" rel="external">http://www.cnblogs.com/snandy/archive/2012/05/22/2513652.html</a></td>
</tr>
<tr>
<td style="text-align:center">RequireJS入门（二）</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/snandy/archive/2012/05/23/2513712.html" target="_blank" rel="external">http://www.cnblogs.com/snandy/archive/2012/05/23/2513712.html</a></td>
</tr>
<tr>
<td style="text-align:center">RequireJS进阶（三）</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/snandy/archive/2012/06/08/2538001.html" target="_blank" rel="external">http://www.cnblogs.com/snandy/archive/2012/06/08/2538001.html</a></td>
</tr>
<tr>
<td style="text-align:center">requrie源码学习</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/yexiaochai/p/3632580.html" target="_blank" rel="external">http://www.cnblogs.com/yexiaochai/p/3632580.html</a> </td>
</tr>
<tr>
<td style="text-align:center">requrie 入门指南</td>
<td style="text-align:center"><a href="http://www.oschina.net/translate/getting-started-with-the-requirejs-library" target="_blank" rel="external">http://www.oschina.net/translate/getting-started-with-the-requirejs-library</a> </td>
</tr>
<tr>
<td style="text-align:center">requrieJS 学习笔记</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/yexiaochai/p/3214926.html" target="_blank" rel="external">http://www.cnblogs.com/yexiaochai/p/3214926.html</a> </td>
</tr>
<tr>
<td style="text-align:center">requriejs 其一</td>
<td style="text-align:center"><a href="http://cyj.me/why-seajs/requirejs/" target="_blank" rel="external">http://cyj.me/why-seajs/requirejs/</a> </td>
</tr>
<tr>
<td style="text-align:center">require backbone结合</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/yexiaochai/p/3221081.html" target="_blank" rel="external">http://www.cnblogs.com/yexiaochai/p/3221081.html</a> </td>
</tr>
</tbody>
</table>
<h2 id="Seajs"><a href="#Seajs" class="headerlink" title="Seajs"></a><strong>Seajs</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Seajs</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">seajs</td>
<td style="text-align:center"><a href="http://seajs.org" target="_blank" rel="external">http://seajs.org</a></td>
</tr>
<tr>
<td style="text-align:center">seajs 中文手册</td>
<td style="text-align:center"><a href="http://cyj.me/why-seajs/zh" target="_blank" rel="external">http://cyj.me/why-seajs/zh</a></td>
</tr>
</tbody>
</table>
<h2 id="Less-sass"><a href="#Less-sass" class="headerlink" title="Less,sass"></a><strong>Less,sass</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Less,sass</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sass</td>
<td style="text-align:center"><a href="http://www.w3cplus.com/sassguide" target="_blank" rel="external">http://www.w3cplus.com/sassguide</a></td>
</tr>
<tr>
<td style="text-align:center">sass教程-sass中国</td>
<td style="text-align:center"><a href="http://www.sass.hk" target="_blank" rel="external">http://www.sass.hk</a></td>
</tr>
<tr>
<td style="text-align:center">Sass 中文文档</td>
<td style="text-align:center"><a href="http://sass.bootcss.com" target="_blank" rel="external">http://sass.bootcss.com</a></td>
</tr>
<tr>
<td style="text-align:center">less</td>
<td style="text-align:center"><a href="http://less.bootcss.com" target="_blank" rel="external">http://less.bootcss.com</a></td>
</tr>
</tbody>
</table>
<h2 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a><strong>Markdown</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Markdown</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Markdown 语法说明 (简体中文版</td>
<td style="text-align:center"><a href="http://wowubuntu.com/markdown" target="_blank" rel="external">http://wowubuntu.com/markdown</a></td>
</tr>
<tr>
<td style="text-align:center">markdown入门参考</td>
<td style="text-align:center"><a href="https://github.com/LearnShare/Learning-Markdown/blob/master/README.md" target="_blank" rel="external">https://github.com/LearnShare/Learning-Markdown/blob/master/README.md</a></td>
</tr>
<tr>
<td style="text-align:center">gitbook</td>
<td style="text-align:center"><a href="https://www.gitbook.com" target="_blank" rel="external">https://www.gitbook.com</a> 国外的在线markdown可编辑成书</td>
</tr>
<tr>
<td style="text-align:center">mdeditor</td>
<td style="text-align:center"><a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">https://www.zybuluo.com/mdeditor</a>  一款国内的在线markdown编辑器</td>
</tr>
<tr>
<td style="text-align:center">stackedit</td>
<td style="text-align:center"><a href="https://stackedit.io" target="_blank" rel="external">https://stackedit.io</a> 国外的在线markdown编辑器，功能强大，同步云盘</td>
</tr>
<tr>
<td style="text-align:center">mditor</td>
<td style="text-align:center"><a href="http://bh-lay.github.io/mditor" target="_blank" rel="external">http://bh-lay.github.io/mditor</a> 一款轻量级的markdown编辑器</td>
</tr>
<tr>
<td style="text-align:center">lepture-editor</td>
<td style="text-align:center"><a href="https://github.com/lepture/editor" target="_blank" rel="external">https://github.com/lepture/editor</a></td>
</tr>
<tr>
<td style="text-align:center">markdown-editor</td>
<td style="text-align:center"><a href="https://github.com/jbt/markdown-editor" target="_blank" rel="external">https://github.com/jbt/markdown-editor</a></td>
</tr>
<tr>
<td style="text-align:center">作业部落</td>
<td style="text-align:center"><a href="https://www.zybuluo.com" target="_blank" rel="external">https://www.zybuluo.com</a> 功能强大，速度流畅，全平台同步</td>
</tr>
</tbody>
</table>
<h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a><strong>兼容性</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">兼容性</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">esma 兼容列表</td>
<td style="text-align:center"><a href="http://kangax.github.io/compat-table/es6" target="_blank" rel="external">http://kangax.github.io/compat-table/es6</a></td>
</tr>
<tr>
<td style="text-align:center">W3C CSS验证服务</td>
<td style="text-align:center"><a href="http://jigsaw.w3.org/css-validator/validator.html.zh-cn" target="_blank" rel="external">http://jigsaw.w3.org/css-validator/validator.html.zh-cn</a></td>
</tr>
<tr>
<td style="text-align:center">caniuse</td>
<td style="text-align:center"><a href="http://caniuse.com/#index" target="_blank" rel="external">http://caniuse.com/#index</a> </td>
</tr>
<tr>
<td style="text-align:center">csscreator</td>
<td style="text-align:center"><a href="http://csscreator.com/properties" target="_blank" rel="external">http://csscreator.com/properties</a></td>
</tr>
<tr>
<td style="text-align:center">microsoft</td>
<td style="text-align:center"><a href="https://msdn.microsoft.com/zh-cn/library/cc351024(v=vs.85.aspx" target="_blank" rel="external">https://msdn.microsoft.com/zh-cn/library/cc351024(v=vs.85.aspx</a></td>
</tr>
<tr>
<td style="text-align:center">在线测兼容-移动端</td>
<td style="text-align:center"><a href="http://www.responsinator.com" target="_blank" rel="external">http://www.responsinator.com</a></td>
</tr>
<tr>
<td style="text-align:center">emulators</td>
<td style="text-align:center"><a href="https://www.manymo.com/emulators" target="_blank" rel="external">https://www.manymo.com/emulators</a></td>
</tr>
</tbody>
</table>
<h2 id="UI相关"><a href="#UI相关" class="headerlink" title="UI相关"></a><strong>UI相关</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">UI相关</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">bootcss</td>
<td style="text-align:center"><a href="http://v3.bootcss.com" target="_blank" rel="external">http://v3.bootcss.com</a></td>
</tr>
<tr>
<td style="text-align:center">MetroUICSS</td>
<td style="text-align:center"><a href="http://www.w3cplus.com/MetroUICSS" target="_blank" rel="external">http://www.w3cplus.com/MetroUICSS</a></td>
</tr>
<tr>
<td style="text-align:center">semantic</td>
<td style="text-align:center"><a href="http://semantic-ui.com" target="_blank" rel="external">http://semantic-ui.com</a></td>
</tr>
<tr>
<td style="text-align:center">Buttons</td>
<td style="text-align:center"><a href="http://alexwolfe.github.io/Buttons" target="_blank" rel="external">http://alexwolfe.github.io/Buttons</a></td>
</tr>
<tr>
<td style="text-align:center">kitecss</td>
<td style="text-align:center"><a href="http://hiloki.github.io/kitecss" target="_blank" rel="external">http://hiloki.github.io/kitecss</a></td>
</tr>
<tr>
<td style="text-align:center">pintuer</td>
<td style="text-align:center"><a href="http://www.pintuer.com" target="_blank" rel="external">http://www.pintuer.com</a></td>
</tr>
<tr>
<td style="text-align:center">amazeui</td>
<td style="text-align:center"><a href="http://amazeui.org" target="_blank" rel="external">http://amazeui.org</a></td>
</tr>
<tr>
<td style="text-align:center">worldhello</td>
<td style="text-align:center"><a href="http://www.worldhello.net/gotgithub/index.html" target="_blank" rel="external">http://www.worldhello.net/gotgithub/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">linuxtoy</td>
<td style="text-align:center"><a href="http://igit.linuxtoy.org/contents.html" target="_blank" rel="external">http://igit.linuxtoy.org/contents.html</a></td>
</tr>
<tr>
<td style="text-align:center">gitmagic</td>
<td style="text-align:center"><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/zh_cn" target="_blank" rel="external">http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/zh_cn</a></td>
</tr>
<tr>
<td style="text-align:center">rogerdudler</td>
<td style="text-align:center"><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">http://rogerdudler.github.io/git-guide/index.zh.html</a></td>
</tr>
<tr>
<td style="text-align:center">gitref</td>
<td style="text-align:center"><a href="http://gitref.justjavac.com" target="_blank" rel="external">http://gitref.justjavac.com</a></td>
</tr>
<tr>
<td style="text-align:center">book</td>
<td style="text-align:center"><a href="http://git-scm.com/book/zh" target="_blank" rel="external">http://git-scm.com/book/zh</a></td>
</tr>
<tr>
<td style="text-align:center">gogojimmy</td>
<td style="text-align:center"><a href="http://gogojimmy.net/2012/01/17/how-to-use-git-1-git-basic" target="_blank" rel="external">http://gogojimmy.net/2012/01/17/how-to-use-git-1-git-basic</a></td>
</tr>
</tbody>
</table>
<h2 id="其它API"><a href="#其它API" class="headerlink" title="其它API"></a><strong>其它API</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">其它API</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">HTTP API 设计指南</td>
<td style="text-align:center"><a href="http://segmentfault.com/bookmark/1230000002521721" target="_blank" rel="external">http://segmentfault.com/bookmark/1230000002521721</a></td>
</tr>
<tr>
<td style="text-align:center">javascript流行库汇总</td>
<td style="text-align:center">javascriptoo</td>
</tr>
<tr>
<td style="text-align:center">验证api</td>
<td style="text-align:center"><a href="http://niceue.com/validator/demo/index.php" target="_blank" rel="external">http://niceue.com/validator/demo/index.php</a></td>
</tr>
<tr>
<td style="text-align:center">underscore 中文手册</td>
<td style="text-align:center"><a href="http://www.css88.com/doc/underscore" target="_blank" rel="external">http://www.css88.com/doc/underscore</a></td>
</tr>
<tr>
<td style="text-align:center">underscore源码分析</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/Underscorejs-source-code-analysis-of-underscorejs-source-code-analysis%203031" target="_blank" rel="external">http://www.html-js.com/article/Underscorejs-source-code-analysis-of-underscorejs-source-code-analysis%203031</a></td>
</tr>
<tr>
<td style="text-align:center">underscore源码分析-亚里士朱德的博客</td>
<td style="text-align:center"><a href="http://yalishizhude.github.io/tags/underscore" target="_blank" rel="external">http://yalishizhude.github.io/tags/underscore</a></td>
</tr>
<tr>
<td style="text-align:center">underscrejs en api</td>
<td style="text-align:center"><a href="http://underscorejs.org" target="_blank" rel="external">http://underscorejs.org</a></td>
</tr>
<tr>
<td style="text-align:center">lodash - underscore的代替品</td>
<td style="text-align:center"><a href="https://lodash.com" target="_blank" rel="external">https://lodash.com</a></td>
</tr>
<tr>
<td style="text-align:center">ext4api</td>
<td style="text-align:center"><a href="http://extjs-doc-cn.github.io/ext4api" target="_blank" rel="external">http://extjs-doc-cn.github.io/ext4api</a></td>
</tr>
<tr>
<td style="text-align:center">backbone 中文手册</td>
<td style="text-align:center"><a href="http://www.csser.com/tools/backbone/backbone.js.html" target="_blank" rel="external">http://www.csser.com/tools/backbone/backbone.js.html</a></td>
</tr>
<tr>
<td style="text-align:center">qwrap手册</td>
<td style="text-align:center"><a href="http://dev.qwrap.com/resource/js/_docs/_youa/#/qw/base/loadJs_.htm" target="_blank" rel="external">http://dev.qwrap.com/resource/js/_docs/_youa/#/qw/base/loadJs_.htm</a></td>
</tr>
<tr>
<td style="text-align:center">缓动函数</td>
<td style="text-align:center"><a href="http://easings.net/zh-cn" target="_blank" rel="external">http://easings.net/zh-cn</a></td>
</tr>
<tr>
<td style="text-align:center">svg 中文参考</td>
<td style="text-align:center"><a href="http://www.w3school.com.cn/svg/svg_reference.asp" target="_blank" rel="external">http://www.w3school.com.cn/svg/svg_reference.asp</a></td>
</tr>
<tr>
<td style="text-align:center">svg mdn参考</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/SVG</a></td>
</tr>
<tr>
<td style="text-align:center">svg 导出 canvas</td>
<td style="text-align:center"><a href="https://github.com/gabelerner/canvg" target="_blank" rel="external">https://github.com/gabelerner/canvg</a></td>
</tr>
<tr>
<td style="text-align:center">svg 导出 png</td>
<td style="text-align:center"><a href="https://github.com/exupero/saveSvgAsPng" target="_blank" rel="external">https://github.com/exupero/saveSvgAsPng</a></td>
</tr>
<tr>
<td style="text-align:center">ai-to-svg</td>
<td style="text-align:center"><a href="http://www.zamzar.com/convert/ai-to-svg" target="_blank" rel="external">http://www.zamzar.com/convert/ai-to-svg</a></td>
</tr>
<tr>
<td style="text-align:center">localStorage 库</td>
<td style="text-align:center"><a href="https://github.com/machao/localStorage" target="_blank" rel="external">https://github.com/machao/localStorage</a></td>
</tr>
</tbody>
</table>
<h2 id="图表类"><a href="#图表类" class="headerlink" title="图表类"></a><strong>图表类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">图表类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Highcharts 中文API</td>
<td style="text-align:center"><a href="http://www.hcharts.cn/api/index.php" target="_blank" rel="external">http://www.hcharts.cn/api/index.php</a></td>
</tr>
<tr>
<td style="text-align:center">Highcharts 英文API</td>
<td style="text-align:center"><a href="http://api.highcharts.com/highcharts" target="_blank" rel="external">http://api.highcharts.com/highcharts</a></td>
</tr>
<tr>
<td style="text-align:center">ECharts 百度的图表软件</td>
<td style="text-align:center"><a href="http://echarts.baidu.com/" target="_blank" rel="external">http://echarts.baidu.com/</a> </td>
</tr>
<tr>
<td style="text-align:center">高德地图</td>
<td style="text-align:center"><a href="http://lbs.amap.com/api" target="_blank" rel="external">http://lbs.amap.com/api</a></td>
</tr>
<tr>
<td style="text-align:center">开源的矢量图脚本框架</td>
<td style="text-align:center"><a href="http://paperjs.org" target="_blank" rel="external">http://paperjs.org</a></td>
</tr>
<tr>
<td style="text-align:center">svg 地图</td>
<td style="text-align:center"><a href="http://jvectormap.com" target="_blank" rel="external">http://jvectormap.com</a></td>
</tr>
</tbody>
</table>
<h2 id="正则"><a href="#正则" class="headerlink" title="正则"></a><strong>正则</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">正则</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">JS正则表达式元字符</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000002471140" target="_blank" rel="external">http://segmentfault.com/a/1190000002471140</a></td>
</tr>
<tr>
<td style="text-align:center">正则表达式30分钟入门教程</td>
<td style="text-align:center"><a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="external">http://deerchao.net/tutorials/regex/regex.htm</a></td>
</tr>
<tr>
<td style="text-align:center">MDN-正则表达式</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions</a></td>
</tr>
<tr>
<td style="text-align:center">ruanyifeng - RegExp对象</td>
<td style="text-align:center"><a href="http://javascript.ruanyifeng.com/stdlib/regexp.html" target="_blank" rel="external">http://javascript.ruanyifeng.com/stdlib/regexp.html</a></td>
</tr>
<tr>
<td style="text-align:center">小胡子哥 - 进阶正则表达式</td>
<td style="text-align:center"><a href="http://div.io/topic/764?page=1" target="_blank" rel="external">http://div.io/topic/764?page=1</a></td>
</tr>
<tr>
<td style="text-align:center">is.js</td>
<td style="text-align:center"><a href="https://github.com/Cedriking/is.js/blob/master/is.js" target="_blank" rel="external">https://github.com/Cedriking/is.js/blob/master/is.js</a></td>
</tr>
<tr>
<td style="text-align:center">正则在线测试</td>
<td style="text-align:center"><a href="http://regexper.com" target="_blank" rel="external">http://regexper.com</a></td>
</tr>
</tbody>
</table>
<h2 id="前端规范"><a href="#前端规范" class="headerlink" title="前端规范"></a><strong>前端规范</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">前端规范</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">通过分析github代码库总结出来的工程师代码书写习惯</td>
<td style="text-align:center"><a href="http://alloyteam.github.io/CodeGuide" target="_blank" rel="external">http://alloyteam.github.io/CodeGuide</a></td>
</tr>
<tr>
<td style="text-align:center">HTML&amp;CSS编码规范 by @mdo</td>
<td style="text-align:center"><a href="http://codeguide.bootcss.com" target="_blank" rel="external">http://codeguide.bootcss.com</a></td>
</tr>
<tr>
<td style="text-align:center">团队合作的css命名规范-腾讯AlloyTeam前端团队</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/2011/10/css-on-team-naming/" target="_blank" rel="external">http://www.alloyteam.com/2011/10/css-on-team-naming/</a></td>
</tr>
<tr>
<td style="text-align:center">前端编码规范之js - by yuwenhui</td>
<td style="text-align:center"><a href="http://yuwenhui.github.io" target="_blank" rel="external">http://yuwenhui.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">前端编码规范之js - by 李靖</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/hustskyking/p/javascript-spec.html" target="_blank" rel="external">http://www.cnblogs.com/hustskyking/p/javascript-spec.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发规范手册</td>
<td style="text-align:center"><a href="http://zhibimo.com/read/Ashu/front-end-style-guide" target="_blank" rel="external">http://zhibimo.com/read/Ashu/front-end-style-guide</a></td>
</tr>
<tr>
<td style="text-align:center">Airbnb JavaScript 编码规范（简体中文版）</td>
<td style="text-align:center"><a href="https://github.com/yuche/javascript#table-of-contents" target="_blank" rel="external">https://github.com/yuche/javascript#table-of-contents</a></td>
</tr>
<tr>
<td style="text-align:center">AMD与CMD规范的区别</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/20351507" target="_blank" rel="external">http://www.zhihu.com/question/20351507</a></td>
</tr>
<tr>
<td style="text-align:center">AMD与CMD规范的区别</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/tugenhua0707/p/3507957.html" target="_blank" rel="external">http://www.cnblogs.com/tugenhua0707/p/3507957.html</a></td>
</tr>
<tr>
<td style="text-align:center">KISSY 源码规范</td>
<td style="text-align:center"><a href="http://docs.kissyui.com/1.4/docs/html/tutorials/style-guide/kissy-source-style.html" target="_blank" rel="external">http://docs.kissyui.com/1.4/docs/html/tutorials/style-guide/kissy-source-style.html</a></td>
</tr>
<tr>
<td style="text-align:center">bt编码规范</td>
<td style="text-align:center"><a href="http://codeguide.bootcss.com" target="_blank" rel="external">http://codeguide.bootcss.com</a></td>
</tr>
<tr>
<td style="text-align:center">规范加强版</td>
<td style="text-align:center"><a href="https://github.com/Suxiaogang/Code_Guide" target="_blank" rel="external">https://github.com/Suxiaogang/Code_Guide</a></td>
</tr>
<tr>
<td style="text-align:center">前端代码规范 及 最佳实践</td>
<td style="text-align:center"><a href="http://blog.jobbole.com/79075" target="_blank" rel="external">http://blog.jobbole.com/79075</a></td>
</tr>
<tr>
<td style="text-align:center">百度前端规范</td>
<td style="text-align:center"><a href="http://coderlmn.github.io/code-standards" target="_blank" rel="external">http://coderlmn.github.io/code-standards</a></td>
</tr>
<tr>
<td style="text-align:center">百度前端规范</td>
<td style="text-align:center"><a href="http://isobar-idev.github.io/code-standards" target="_blank" rel="external">http://isobar-idev.github.io/code-standards</a></td>
</tr>
<tr>
<td style="text-align:center">百度前端规范</td>
<td style="text-align:center"><a href="http://zhuanlan.zhihu.com/fuyun/19884834" target="_blank" rel="external">http://zhuanlan.zhihu.com/fuyun/19884834</a></td>
</tr>
<tr>
<td style="text-align:center">ECMAScript6 编码规范–广发证券前端团队</td>
<td style="text-align:center"><a href="https://github.com/gf-rd/es6-coding-style" target="_blank" rel="external">https://github.com/gf-rd/es6-coding-style</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript 风格指南/编码规范（Airbnb公司版）</td>
<td style="text-align:center"><a href="http://blog.jobbole.com/79484" target="_blank" rel="external">http://blog.jobbole.com/79484</a></td>
</tr>
<tr>
<td style="text-align:center">网易前端开发规范</td>
<td style="text-align:center"><a href="http://nec.netease.com/standard" target="_blank" rel="external">http://nec.netease.com/standard</a></td>
</tr>
<tr>
<td style="text-align:center">css模块</td>
<td style="text-align:center"><a href="http://www.75team.com/archives/1049" target="_blank" rel="external">http://www.75team.com/archives/1049</a></td>
</tr>
<tr>
<td style="text-align:center">前端规范资源列表</td>
<td style="text-align:center"><a href="https://github.com/ecomfe/spec" target="_blank" rel="external">https://github.com/ecomfe/spec</a></td>
</tr>
</tbody>
</table>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a><strong>PHP</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">PHP</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">最流行的PHP 代码规范</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000443795" target="_blank" rel="external">http://segmentfault.com/a/1190000000443795</a></td>
</tr>
<tr>
<td style="text-align:center">最流行的PHP 代码规范</td>
<td style="text-align:center"><a href="https://github.com/hfcorriez/fig-standards/blob/zh_CN/%E6%8E%A5%E5%8F%97/PSR-2-coding-style-guide.md" target="_blank" rel="external">https://github.com/hfcorriez/fig-standards/blob/zh_CN/%E6%8E%A5%E5%8F%97/PSR-2-coding-style-guide.md</a></td>
</tr>
</tbody>
</table>
<h2 id="各大公司开源项目"><a href="#各大公司开源项目" class="headerlink" title="各大公司开源项目"></a><strong>各大公司开源项目</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">各大公司开源项目</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Facebook Projects</td>
<td style="text-align:center"><a href="https://code.facebook.com/projects/web" target="_blank" rel="external">https://code.facebook.com/projects/web</a></td>
</tr>
<tr>
<td style="text-align:center">百度web前端研发部</td>
<td style="text-align:center"><a href="http://fex.baidu.com" target="_blank" rel="external">http://fex.baidu.com</a></td>
</tr>
<tr>
<td style="text-align:center">百度EFE</td>
<td style="text-align:center"><a href="http://efe.baidu.com" target="_blank" rel="external">http://efe.baidu.com</a></td>
</tr>
<tr>
<td style="text-align:center">百度github</td>
<td style="text-align:center"><a href="https://github.com/fex-team" target="_blank" rel="external">https://github.com/fex-team</a></td>
</tr>
<tr>
<td style="text-align:center">alloyteam</td>
<td style="text-align:center"><a href="http://www.alloyteam.com" target="_blank" rel="external">http://www.alloyteam.com</a></td>
</tr>
<tr>
<td style="text-align:center">alloyteam-github</td>
<td style="text-align:center"><a href="http://alloyteam.github.io" target="_blank" rel="external">http://alloyteam.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">alloyteam-AlloyGameEngine</td>
<td style="text-align:center"><a href="https://github.com/AlloyTeam/AlloyGameEngine" target="_blank" rel="external">https://github.com/AlloyTeam/AlloyGameEngine</a></td>
</tr>
<tr>
<td style="text-align:center">AlloyDesigner</td>
<td style="text-align:center"><a href="http://alloyteam.github.io/AlloyDesigner" target="_blank" rel="external">http://alloyteam.github.io/AlloyDesigner</a> 即时修改，即时保存，设计稿较正，其它开发辅助工具</td>
</tr>
<tr>
<td style="text-align:center">H5交互页编辑器AEditor介绍</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/2015/06/h5-jiao-hu-ye-bian-ji-qi-aeditor-jie-shao" target="_blank" rel="external">http://www.alloyteam.com/2015/06/h5-jiao-hu-ye-bian-ji-qi-aeditor-jie-shao</a> H5动画交互页开发的工具介绍</td>
</tr>
<tr>
<td style="text-align:center">AEditor</td>
<td style="text-align:center"><a href="http://aeditor.alloyteam.com" target="_blank" rel="external">http://aeditor.alloyteam.com</a> H5动画交互页开发的工具</td>
</tr>
<tr>
<td style="text-align:center">maka</td>
<td style="text-align:center"><a href="http://forum.maka.im/wordpress" target="_blank" rel="external">http://forum.maka.im/wordpress</a></td>
</tr>
<tr>
<td style="text-align:center">值得订阅的weekly</td>
<td style="text-align:center"><a href="https://github.com/fenbility/weekly-feed" target="_blank" rel="external">https://github.com/fenbility/weekly-feed</a></td>
</tr>
<tr>
<td style="text-align:center">腾讯html5</td>
<td style="text-align:center"><a href="http://cube.qq.com" target="_blank" rel="external">http://cube.qq.com</a></td>
</tr>
<tr>
<td style="text-align:center">奇舞团开源项目</td>
<td style="text-align:center"><a href="http://75team.github.io" target="_blank" rel="external">http://75team.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">Qunar UED</td>
<td style="text-align:center"><a href="http://ued.qunar.com" target="_blank" rel="external">http://ued.qunar.com</a></td>
</tr>
<tr>
<td style="text-align:center">Scrat</td>
<td style="text-align:center"><a href="http://scrat.io" target="_blank" rel="external">http://scrat.io</a></td>
</tr>
</tbody>
</table>
<h2 id="常用"><a href="#常用" class="headerlink" title="常用"></a><strong>常用</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">常用</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ieBetter.js-让IE6-IE8拥有IE9+,Chrome等浏览器特性</td>
<td style="text-align:center"><a href="http://www.zhangxinxu.com/wordpress/2013/12/iebetter-js-make-ie6-ie8-like-modern-browser-ie9-chrome" target="_blank" rel="external">http://www.zhangxinxu.com/wordpress/2013/12/iebetter-js-make-ie6-ie8-like-modern-browser-ie9-chrome</a></td>
</tr>
<tr>
<td style="text-align:center">模拟键盘</td>
<td style="text-align:center"><a href="http://mottie.github.io/Keyboard" target="_blank" rel="external">http://mottie.github.io/Keyboard</a></td>
</tr>
<tr>
<td style="text-align:center">拼音</td>
<td style="text-align:center"><a href="https://github.com/hotoo/pinyin" target="_blank" rel="external">https://github.com/hotoo/pinyin</a></td>
</tr>
<tr>
<td style="text-align:center">中国个人身份证号验证</td>
<td style="text-align:center"><a href="https://github.com/mc-zone/IDValidator" target="_blank" rel="external">https://github.com/mc-zone/IDValidator</a></td>
</tr>
</tbody>
</table>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a><strong>算法</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">算法</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">数据结构与算法 JavaScript 描述. 章节练习</td>
<td style="text-align:center"><a href="https://github.com/Ralph-Wang/algorithm.in.js" target="_blank" rel="external">https://github.com/Ralph-Wang/algorithm.in.js</a></td>
</tr>
<tr>
<td style="text-align:center">常见排序算法（JS版）</td>
<td style="text-align:center"><a href="https://github.com/twobin/twobinSort" target="_blank" rel="external">https://github.com/twobin/twobinSort</a></td>
</tr>
<tr>
<td style="text-align:center">经典排序</td>
<td style="text-align:center"><a href="https://github.com/luofei2011/jsAgm/blob/master/js/sort.js" target="_blank" rel="external">https://github.com/luofei2011/jsAgm/blob/master/js/sort.js</a></td>
</tr>
<tr>
<td style="text-align:center">常见排序算法-js版本</td>
<td style="text-align:center"><a href="https://github.com/hechangmin/jssort" target="_blank" rel="external">https://github.com/hechangmin/jssort</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript 算法与数据结构 精华集</td>
<td style="text-align:center"><a href="https://github.com/lightningtgc/JavaScript-Algorithms" target="_blank" rel="external">https://github.com/lightningtgc/JavaScript-Algorithms</a></td>
</tr>
<tr>
<td style="text-align:center">面试常考算法题精讲</td>
<td style="text-align:center"><a href="http://www.nowcoder.com/live/courses" target="_blank" rel="external">http://www.nowcoder.com/live/courses</a></td>
</tr>
</tbody>
</table>
<h2 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a><strong>移动端</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">移动端</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">fastclick</td>
<td style="text-align:center"><a href="https://github.com/ftlabs/fastclick" target="_blank" rel="external">https://github.com/ftlabs/fastclick</a></td>
</tr>
<tr>
<td style="text-align:center">no-click-delay</td>
<td style="text-align:center"><a href="https://github.com/mmastrac/jquery-noclickdelay" target="_blank" rel="external">https://github.com/mmastrac/jquery-noclickdelay</a></td>
</tr>
<tr>
<td style="text-align:center">【敏捷开发】Android团队开发规范</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/lcw/p/3619181.html" target="_blank" rel="external">http://www.cnblogs.com/lcw/p/3619181.html</a></td>
</tr>
<tr>
<td style="text-align:center">Android 开发规范与应用</td>
<td style="text-align:center"><a href="http://www.jianshu.com/p/4390f4fe19b3" target="_blank" rel="external">http://www.jianshu.com/p/4390f4fe19b3</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>ionic</strong></td>
<td style="text-align:center"><a href="https://github.com/ychow/ionic-guide" target="_blank" rel="external">https://github.com/ychow/ionic-guide</a></td>
</tr>
</tbody>
</table>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a><strong>JSON</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">JSON</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">模拟生成JSON数据</td>
<td style="text-align:center"><a href="http://beta.json-generator.com" target="_blank" rel="external">http://beta.json-generator.com</a></td>
</tr>
<tr>
<td style="text-align:center">返回跨域JSONAPI</td>
<td style="text-align:center"><a href="http://jsonp.afeld.me" target="_blank" rel="external">http://jsonp.afeld.me</a></td>
</tr>
</tbody>
</table>
<h2 id="焦点图"><a href="#焦点图" class="headerlink" title="焦点图"></a><strong>焦点图</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">焦点图</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">myfocus</td>
<td style="text-align:center"><a href="https://github.com/koen301/myfocus" target="_blank" rel="external">https://github.com/koen301/myfocus</a></td>
</tr>
<tr>
<td style="text-align:center">myfocus-官方演示站</td>
<td style="text-align:center"><a href="http://www.chhua.com/myfocus" target="_blank" rel="external">http://www.chhua.com/myfocus</a></td>
</tr>
<tr>
<td style="text-align:center">SuperSlidev2.1 – 大话主席</td>
<td style="text-align:center"><a href="http://www.superslide2.com" target="_blank" rel="external">http://www.superslide2.com</a></td>
</tr>
<tr>
<td style="text-align:center">soChange</td>
<td style="text-align:center"><a href="http://www.bujichong.com/sojs/soChange/index.html" target="_blank" rel="external">http://www.bujichong.com/sojs/soChange/index.html</a></td>
</tr>
</tbody>
</table>
<h2 id="Ext-EasyUI-J-UI-及其它各种UI方案"><a href="#Ext-EasyUI-J-UI-及其它各种UI方案" class="headerlink" title="Ext, EasyUI, J-UI 及其它各种UI方案"></a><strong>Ext, EasyUI, J-UI 及其它各种UI方案</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Ext, EasyUI, J-UI 及其它各种UI方案</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">extjs</td>
<td style="text-align:center"><a href="https://www.sencha.com/products/extjs" target="_blank" rel="external">https://www.sencha.com/products/extjs</a></td>
</tr>
<tr>
<td style="text-align:center">ext4英文api</td>
<td style="text-align:center"><a href="http://docs.sencha.com/extjs/4.0.7" target="_blank" rel="external">http://docs.sencha.com/extjs/4.0.7</a></td>
</tr>
<tr>
<td style="text-align:center">ext4中文api</td>
<td style="text-align:center"><a href="http://extjs-doc-cn.github.io/ext4api" target="_blank" rel="external">http://extjs-doc-cn.github.io/ext4api</a></td>
</tr>
<tr>
<td style="text-align:center">jquery easyui 未压缩源代码</td>
<td style="text-align:center"><a href="http://jquery-easyui.googlecode.com/svn/trunk/src" target="_blank" rel="external">http://jquery-easyui.googlecode.com/svn/trunk/src</a></td>
</tr>
<tr>
<td style="text-align:center">J-UI</td>
<td style="text-align:center"><a href="http://jui.org" target="_blank" rel="external">http://jui.org</a></td>
</tr>
<tr>
<td style="text-align:center">MUI-最接近原生APP体验的高性能前端框架</td>
<td style="text-align:center"><a href="http://dcloudio.github.io/mui" target="_blank" rel="external">http://dcloudio.github.io/mui</a></td>
</tr>
<tr>
<td style="text-align:center">Amaze UI</td>
<td style="text-align:center">中国首个开源 HTML5 跨屏前端框架</td>
<td><a href="http://amazeui.org" target="_blank" rel="external">http://amazeui.org</a></td>
</tr>
<tr>
<td style="text-align:center">淘宝 HTML5 前端框架</td>
<td style="text-align:center"><a href="http://m.sui.taobao.org" target="_blank" rel="external">http://m.sui.taobao.org</a></td>
</tr>
<tr>
<td style="text-align:center">KISSY - 阿里前端JavaScript库</td>
<td style="text-align:center"><a href="http://docs.kissyui.com" target="_blank" rel="external">http://docs.kissyui.com</a></td>
</tr>
<tr>
<td style="text-align:center">网易Nej - Nice Easy Javascript</td>
<td style="text-align:center"><a href="http://nej.netease.com" target="_blank" rel="external">http://nej.netease.com</a></td>
</tr>
<tr>
<td style="text-align:center">Kendo UI MVVM Demo</td>
<td style="text-align:center"><a href="http://demos.telerik.com/kendo-ui/mvvm/index" target="_blank" rel="external">http://demos.telerik.com/kendo-ui/mvvm/index</a></td>
</tr>
<tr>
<td style="text-align:center">Bootstrap</td>
<td style="text-align:center"><a href="http://www.bootcss.com" target="_blank" rel="external">http://www.bootcss.com</a></td>
</tr>
<tr>
<td style="text-align:center">Smart UI</td>
<td style="text-align:center"><a href="http://smartui.chinamzz.com" target="_blank" rel="external">http://smartui.chinamzz.com</a></td>
</tr>
<tr>
<td style="text-align:center">雅虎UI - CSS UI</td>
<td style="text-align:center"><a href="http://developer.yahoo.com/yui/grids" target="_blank" rel="external">http://developer.yahoo.com/yui/grids</a></td>
</tr>
</tbody>
</table>
<h2 id="页面-社会化-分享功能"><a href="#页面-社会化-分享功能" class="headerlink" title="页面 社会化 分享功能"></a><strong>页面 社会化 分享功能</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">页面 社会化 分享功能</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">百度分享</td>
<td style="text-align:center"><a href="http://share.baidu.com" target="_blank" rel="external">http://share.baidu.com</a> pc端</td>
</tr>
<tr>
<td style="text-align:center">JiaThis</td>
<td style="text-align:center"><a href="http://jiathis.com" target="_blank" rel="external">http://jiathis.com</a> pc端</td>
</tr>
<tr>
<td style="text-align:center">社会化分享组件</td>
<td style="text-align:center"><a href="http://developer.baidu.com/soc/share" target="_blank" rel="external">http://developer.baidu.com/soc/share</a> 移动端</td>
</tr>
<tr>
<td style="text-align:center">ShareSDK 轻松实现社会化功能</td>
<td style="text-align:center"><a href="http://www.mob.com/#/index" target="_blank" rel="external">http://www.mob.com/#/index</a> 移动端</td>
</tr>
<tr>
<td style="text-align:center">友盟分享</td>
<td style="text-align:center"><a href="http://dev.umeng.com/social/android/quick-integration" target="_blank" rel="external">http://dev.umeng.com/social/android/quick-integration</a> 移动端</td>
</tr>
</tbody>
</table>
<h2 id="富文本编辑器"><a href="#富文本编辑器" class="headerlink" title="富文本编辑器"></a><strong>富文本编辑器</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">富文本编辑器</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">功能齐全 tinymce</td>
<td style="text-align:center"><a href="https://www.tinymce.com" target="_blank" rel="external">https://www.tinymce.com</a></td>
</tr>
<tr>
<td style="text-align:center">百度 ueditor</td>
<td style="text-align:center"><a href="http://ueditor.baidu.com/website" target="_blank" rel="external">http://ueditor.baidu.com/website</a></td>
</tr>
<tr>
<td style="text-align:center">经典的ckeditor</td>
<td style="text-align:center"><a href="http://ckeditor.com" target="_blank" rel="external">http://ckeditor.com</a></td>
</tr>
<tr>
<td style="text-align:center">经典的kindeditor</td>
<td style="text-align:center"><a href="http://kindeditor.net" target="_blank" rel="external">http://kindeditor.net</a></td>
</tr>
<tr>
<td style="text-align:center">wysiwyg</td>
<td style="text-align:center"><a href="http://www.bootcss.com/p/bootstrap-wysiwyg" target="_blank" rel="external">http://www.bootcss.com/p/bootstrap-wysiwyg</a></td>
</tr>
<tr>
<td style="text-align:center">一个有情怀的编辑器。Bach’s Editor</td>
<td style="text-align:center"><a href="http://integ.github.io/BachEditor" target="_blank" rel="external">http://integ.github.io/BachEditor</a></td>
</tr>
<tr>
<td style="text-align:center">tower用的编辑器</td>
<td style="text-align:center"><a href="https://github.com/mycolorway/simditor" target="_blank" rel="external">https://github.com/mycolorway/simditor</a></td>
</tr>
<tr>
<td style="text-align:center">summernote 编辑器</td>
<td style="text-align:center"><a href="https://github.com/summernote/summernote" target="_blank" rel="external">https://github.com/summernote/summernote</a></td>
</tr>
<tr>
<td style="text-align:center">html5编辑器</td>
<td style="text-align:center"><a href="http://neilj.github.io/Squire" target="_blank" rel="external">http://neilj.github.io/Squire</a></td>
</tr>
<tr>
<td style="text-align:center">Quilljs编辑器</td>
<td style="text-align:center"><a href="http://quilljs.com" target="_blank" rel="external">http://quilljs.com</a></td>
</tr>
<tr>
<td style="text-align:center">XEditor</td>
<td style="text-align:center"><a href="http://lab.hustlzp.com/XEditor" target="_blank" rel="external">http://lab.hustlzp.com/XEditor</a></td>
</tr>
<tr>
<td style="text-align:center">wangEditor</td>
<td style="text-align:center"><a href="https://github.com/wangfupeng1988/wangEditor" target="_blank" rel="external">https://github.com/wangfupeng1988/wangEditor</a> </td>
</tr>
</tbody>
</table>
<h2 id="前端概述"><a href="#前端概述" class="headerlink" title="前端概述"></a><strong>前端概述</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">前端概述</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">前端工具大全</td>
<td style="text-align:center"><a href="http://www.awesomes.cn" target="_blank" rel="external">http://www.awesomes.cn</a></td>
</tr>
<tr>
<td style="text-align:center">什么是前端工程化</td>
<td style="text-align:center"><a href="https://github.com/fouber/blog/issues/10?from=timeline&amp;isappinstalled=0#" target="_blank" rel="external">https://github.com/fouber/blog/issues/10?from=timeline&amp;isappinstalled=0#</a></td>
</tr>
<tr>
<td style="text-align:center">[译] 前端攻略-从路人甲到英雄无敌</td>
<td style="text-align:center"><a href="https://segmentfault.com/a/1190000005174755" target="_blank" rel="external">https://segmentfault.com/a/1190000005174755</a></td>
</tr>
</tbody>
</table>
<h2 id="Gulp"><a href="#Gulp" class="headerlink" title="Gulp"></a><strong>Gulp</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Gulp</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Gulp官网</td>
<td style="text-align:center"><a href="http://gulpjs.com" target="_blank" rel="external">http://gulpjs.com</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp中文网</td>
<td style="text-align:center"><a href="http://www.gulpjs.com.cn" target="_blank" rel="external">http://www.gulpjs.com.cn</a></td>
</tr>
<tr>
<td style="text-align:center">gulp资料收集</td>
<td style="text-align:center"><a href="https://github.com/Platform-CUF/use-gulp" target="_blank" rel="external">https://github.com/Platform-CUF/use-gulp</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp：任务自动管理工具 - ruanyifeng</td>
<td style="text-align:center"><a href="http://javascript.ruanyifeng.com/tool/gulp.html" target="_blank" rel="external">http://javascript.ruanyifeng.com/tool/gulp.html</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp插件</td>
<td style="text-align:center"><a href="http://gulpjs.com/plugins" target="_blank" rel="external">http://gulpjs.com/plugins</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp探究折腾之路(I)</td>
<td style="text-align:center"><a href="http://www.jeffjade.com/2015/11/25/2015-11-25-toss-gulp/" target="_blank" rel="external">http://www.jeffjade.com/2015/11/25/2015-11-25-toss-gulp/</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp折腾之路(II)</td>
<td style="text-align:center"><a href="http://www.jeffjade.com/2016/01/19/2016-01-19-toss-gulp/" target="_blank" rel="external">http://www.jeffjade.com/2016/01/19/2016-01-19-toss-gulp/</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp不完全入门教程</td>
<td style="text-align:center"><a href="http://www.ido321.com/1622.html" target="_blank" rel="external">http://www.ido321.com/1622.html</a></td>
</tr>
<tr>
<td style="text-align:center">为什么使用gulp?</td>
<td style="text-align:center"><a href="https://github.com/hjzheng/CUF_meeting_knowledge_share/issues/33" target="_blank" rel="external">https://github.com/hjzheng/CUF_meeting_knowledge_share/issues/33</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp安装及配合组件构建前端开发一体化</td>
<td style="text-align:center"><a href="http://www.dbpoo.com/getting-started-with-gulp" target="_blank" rel="external">http://www.dbpoo.com/getting-started-with-gulp</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp 入门指南</td>
<td style="text-align:center"><a href="https://github.com/nimojs/gulp-book" target="_blank" rel="external">https://github.com/nimojs/gulp-book</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp 入门指南 - nimojs</td>
<td style="text-align:center"><a href="https://github.com/nimojs/blog/issues/19" target="_blank" rel="external">https://github.com/nimojs/blog/issues/19</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp in Action</td>
<td style="text-align:center"><a href="http://www.imooc.com/video/5692" target="_blank" rel="external">http://www.imooc.com/video/5692</a></td>
</tr>
<tr>
<td style="text-align:center">Gulp开发教程（翻译）</td>
<td style="text-align:center"><a href="http://www.w3ctech.com/topic/134" target="_blank" rel="external">http://www.w3ctech.com/topic/134</a></td>
</tr>
<tr>
<td style="text-align:center">前端构建工具gulpjs的使用介绍及技巧</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/2050/p/4198792.html" target="_blank" rel="external">http://www.cnblogs.com/2050/p/4198792.html</a></td>
</tr>
</tbody>
</table>
<h2 id="Grunt"><a href="#Grunt" class="headerlink" title="Grunt"></a><strong>Grunt</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Grunt</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">gruntjs</td>
<td style="text-align:center"><a href="http://gruntjs.com" target="_blank" rel="external">http://gruntjs.com</a></td>
</tr>
<tr>
<td style="text-align:center">Grunt中文网</td>
<td style="text-align:center"><a href="http://www.gruntjs.net" target="_blank" rel="external">http://www.gruntjs.net</a></td>
</tr>
</tbody>
</table>
<h2 id="Fis"><a href="#Fis" class="headerlink" title="Fis"></a><strong>Fis</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Fis</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">fis 官网</td>
<td style="text-align:center"><a href="http://fex-team.github.io/fis-site/index.html" target="_blank" rel="external">http://fex-team.github.io/fis-site/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">fis</td>
<td style="text-align:center"><a href="http://fis.baidu.com" target="_blank" rel="external">http://fis.baidu.com</a></td>
</tr>
</tbody>
</table>
<h2 id="pc图轮"><a href="#pc图轮" class="headerlink" title="pc图轮"></a><strong>pc图轮</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">pc图轮</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">单屏轮播sochange</td>
<td style="text-align:center"><a href="http://www.jsfoot.com/jquery/demo/2011-09-20/192.html" target="_blank" rel="external">http://www.jsfoot.com/jquery/demo/2011-09-20/192.html</a></td>
</tr>
<tr>
<td style="text-align:center">左右按钮多图切换</td>
<td style="text-align:center"><a href="http://bxslider.com/examples/carousel-demystified" target="_blank" rel="external">http://bxslider.com/examples/carousel-demystified</a></td>
</tr>
<tr>
<td style="text-align:center">fullpage全屏轮播</td>
<td style="text-align:center"><a href="https://github.com/alvarotrigo/fullPage.js" target="_blank" rel="external">https://github.com/alvarotrigo/fullPage.js</a></td>
</tr>
</tbody>
</table>
<h2 id="移动端图轮"><a href="#移动端图轮" class="headerlink" title="移动端图轮"></a><strong>移动端图轮</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">移动端图轮</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">无缝切换</td>
<td style="text-align:center"><a href="http://www.swipejs.com" target="_blank" rel="external">http://www.swipejs.com</a></td>
</tr>
<tr>
<td style="text-align:center">滑屏效果</td>
<td style="text-align:center"><a href="http://www.idangero.us/swiper" target="_blank" rel="external">http://www.idangero.us/swiper</a></td>
</tr>
<tr>
<td style="text-align:center">全屏fullpage</td>
<td style="text-align:center"><a href="https://github.com/peunzhang/fullpage" target="_blank" rel="external">https://github.com/peunzhang/fullpage</a></td>
</tr>
<tr>
<td style="text-align:center">单个图片切换</td>
<td style="text-align:center"><a href="https://github.com/qiqiboy/touchslider" target="_blank" rel="external">https://github.com/qiqiboy/touchslider</a></td>
</tr>
<tr>
<td style="text-align:center">单个全屏切换</td>
<td style="text-align:center"><a href="https://github.com/peunzhang/slip.js" target="_blank" rel="external">https://github.com/peunzhang/slip.js</a></td>
</tr>
<tr>
<td style="text-align:center">百度的切换库</td>
<td style="text-align:center"><a href="http://touch.code.baidu.com/examples.html?qq-pf-to=pcqq.group" target="_blank" rel="external">http://touch.code.baidu.com/examples.html?qq-pf-to=pcqq.group</a></td>
</tr>
<tr>
<td style="text-align:center">单个全屏切换</td>
<td style="text-align:center"><a href="https://github.com/peunzhang/iSlider" target="_blank" rel="external">https://github.com/peunzhang/iSlider</a></td>
</tr>
<tr>
<td style="text-align:center">滑屏效果</td>
<td style="text-align:center"><a href="https://github.com/saw/touch-interfaces" target="_blank" rel="external">https://github.com/saw/touch-interfaces</a></td>
</tr>
<tr>
<td style="text-align:center">旋转拖动设置</td>
<td style="text-align:center"><a href="http://baijs.com/tinycircleslider" target="_blank" rel="external">http://baijs.com/tinycircleslider</a></td>
</tr>
<tr>
<td style="text-align:center">类似于swipe切换</td>
<td style="text-align:center"><a href="http://touchslider.com" target="_blank" rel="external">http://touchslider.com</a></td>
</tr>
<tr>
<td style="text-align:center">支持多种形式的触摸滑动</td>
<td style="text-align:center"><a href="http://www.swiper.com.cn/demo/index.html" target="_blank" rel="external">http://www.swiper.com.cn/demo/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">滑屏效果</td>
<td style="text-align:center"><a href="https://github.com/joker-ye/main/blob/master/wap/index.html" target="_blank" rel="external">https://github.com/joker-ye/main/blob/master/wap/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">大话主席pc移动图片轮换</td>
<td style="text-align:center"><a href="http://www.superslide2.com" target="_blank" rel="external">http://www.superslide2.com</a></td>
</tr>
<tr>
<td style="text-align:center">滑屏效果</td>
<td style="text-align:center"><a href="https://github.com/hahnzhu/parallax.js" target="_blank" rel="external">https://github.com/hahnzhu/parallax.js</a></td>
</tr>
<tr>
<td style="text-align:center">基于zepto的fullpage</td>
<td style="text-align:center"><a href="https://github.com/yanhaijing/zepto.fullpage" target="_blank" rel="external">https://github.com/yanhaijing/zepto.fullpage</a></td>
</tr>
<tr>
<td style="text-align:center">[WebApp]定宽网页设计下，固定宽度布局开发WebApp并实现多终端下WebApp布局自适应</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/plums/archive/2013/01/10/WebApp-fixed-width-layout-of-multi-terminal-adapter-since.html" target="_blank" rel="external">http://www.cnblogs.com/plums/archive/2013/01/10/WebApp-fixed-width-layout-of-multi-terminal-adapter-since.html</a></td>
</tr>
<tr>
<td style="text-align:center">判断微信客户端的那些坑</td>
<td style="text-align:center"><a href="http://loo2k.com/blog/detecting-wechat-client" target="_blank" rel="external">http://loo2k.com/blog/detecting-wechat-client</a></td>
</tr>
<tr>
<td style="text-align:center">可以通过javascript直接调用原生分享的工具</td>
<td style="text-align:center"><a href="https://github.com/JefferyWang/nativeShare.js" target="_blank" rel="external">https://github.com/JefferyWang/nativeShare.js</a></td>
</tr>
<tr>
<td style="text-align:center">JiaThis 分享到微信代码</td>
<td style="text-align:center"><a href="http://www.jiathis.com/help/html/weixin-share-code" target="_blank" rel="external">http://www.jiathis.com/help/html/weixin-share-code</a></td>
</tr>
<tr>
<td style="text-align:center">聊聊移动端跨平台开发的各种技术</td>
<td style="text-align:center"><a href="http://fex.baidu.com/blog/2015/05/cross-mobile" target="_blank" rel="external">http://fex.baidu.com/blog/2015/05/cross-mobile</a></td>
</tr>
<tr>
<td style="text-align:center">前端自动化测试</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/29922082" target="_blank" rel="external">http://www.zhihu.com/question/29922082</a></td>
</tr>
<tr>
<td style="text-align:center">多种轮换图片</td>
<td style="text-align:center"><a href="http://ajccom.github.io/niceslider" target="_blank" rel="external">http://ajccom.github.io/niceslider</a></td>
</tr>
<tr>
<td style="text-align:center">滑动侧边栏</td>
<td style="text-align:center"><a href="https://mango.github.io/slideout" target="_blank" rel="external">https://mango.github.io/slideout</a></td>
</tr>
</tbody>
</table>
<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a><strong>文件上传</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">文件上传</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">百度上传组件</td>
<td style="text-align:center"><a href="http://fex.baidu.com/webuploader" target="_blank" rel="external">http://fex.baidu.com/webuploader</a></td>
</tr>
<tr>
<td style="text-align:center">上传</td>
<td style="text-align:center"><a href="https://blueimp.github.io/jQuery-File-Upload" target="_blank" rel="external">https://blueimp.github.io/jQuery-File-Upload</a></td>
</tr>
<tr>
<td style="text-align:center">flash 头像上传</td>
<td style="text-align:center"><a href="http://www.hdfu.net" target="_blank" rel="external">http://www.hdfu.net</a></td>
</tr>
<tr>
<td style="text-align:center">图片上传预览</td>
<td style="text-align:center"><a href="http://www.dropzonejs.com" target="_blank" rel="external">http://www.dropzonejs.com</a></td>
</tr>
<tr>
<td style="text-align:center">图片裁剪</td>
<td style="text-align:center"><a href="http://elemefe.github.io/image-cropper" target="_blank" rel="external">http://elemefe.github.io/image-cropper</a></td>
</tr>
<tr>
<td style="text-align:center">图片裁剪-shearphoto</td>
<td style="text-align:center"><a href="http://www.shearphoto.com" target="_blank" rel="external">http://www.shearphoto.com</a></td>
</tr>
<tr>
<td style="text-align:center">jQuery图片处理</td>
<td style="text-align:center"><a href="http://www.oschina.net/project/tag/284/jquery-image-tools?lang=0&amp;os=0&amp;sort=view&amp;p=2" target="_blank" rel="external">http://www.oschina.net/project/tag/284/jquery-image-tools?lang=0&amp;os=0&amp;sort=view&amp;p=2</a></td>
</tr>
</tbody>
</table>
<h2 id="模拟select"><a href="#模拟select" class="headerlink" title="模拟select"></a><strong>模拟select</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">模拟select</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">糖饼 select</td>
<td style="text-align:center"><a href="http://aui.github.io/popupjs/doc/selectbox.html" target="_blank" rel="external">http://aui.github.io/popupjs/doc/selectbox.html</a></td>
</tr>
<tr>
<td style="text-align:center">flexselect</td>
<td style="text-align:center"><a href="https://github.com/rmm5t/jquery-flexselect" target="_blank" rel="external">https://github.com/rmm5t/jquery-flexselect</a></td>
</tr>
<tr>
<td style="text-align:center">双select</td>
<td style="text-align:center"><a href="http://loudev.com" target="_blank" rel="external">http://loudev.com</a></td>
</tr>
<tr>
<td style="text-align:center">select2</td>
<td style="text-align:center"><a href="http://select2.github.io" target="_blank" rel="external">http://select2.github.io</a></td>
</tr>
</tbody>
</table>
<h2 id="取色插件"><a href="#取色插件" class="headerlink" title="取色插件"></a><strong>取色插件</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">取色插件</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">类似 Photoshop 的界面取色插件</td>
<td style="text-align:center"><a href="http://www.jq22.com/plugin/367" target="_blank" rel="external">http://www.jq22.com/plugin/367</a></td>
</tr>
<tr>
<td style="text-align:center">jquery color</td>
<td style="text-align:center"><a href="https://github.com/jquery/jquery-color" target="_blank" rel="external">https://github.com/jquery/jquery-color</a></td>
</tr>
<tr>
<td style="text-align:center">取色插件集合</td>
<td style="text-align:center"><a href="http://www.oschina.net/project/tag/287/color-picker" target="_blank" rel="external">http://www.oschina.net/project/tag/287/color-picker</a></td>
</tr>
<tr>
<td style="text-align:center">farbtastic 圆环＋正方形</td>
<td style="text-align:center"><a href="https://github.com/mattfarina/farbtastic" target="_blank" rel="external">https://github.com/mattfarina/farbtastic</a></td>
</tr>
</tbody>
</table>
<h2 id="城市联动"><a href="#城市联动" class="headerlink" title="城市联动"></a><strong>城市联动</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">城市联动</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">jquery.cityselect.js基于jQuery+JSON的省市或自定义联动效果</td>
<td style="text-align:center"><a href="http://www.ijquery.cn/?p=360" target="_blank" rel="external">http://www.ijquery.cn/?p=360</a></td>
</tr>
</tbody>
</table>
<h2 id="剪贴板"><a href="#剪贴板" class="headerlink" title="剪贴板"></a><strong>剪贴板</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">剪贴板</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">剪贴板</td>
<td style="text-align:center"><a href="https://github.com/zeroclipboard/zeroclipboard" target="_blank" rel="external">https://github.com/zeroclipboard/zeroclipboard</a></td>
</tr>
<tr>
<td style="text-align:center">clipboard 最新的剪切方案</td>
<td style="text-align:center"><a href="http://zenorocha.github.io/clipboard.js" target="_blank" rel="external">http://zenorocha.github.io/clipboard.js</a></td>
</tr>
<tr>
<td style="text-align:center">不是Flash的剪贴板</td>
<td style="text-align:center"><a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="external">https://github.com/zenorocha/clipboard.js</a></td>
</tr>
</tbody>
</table>
<h2 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a><strong>简繁转换</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">简繁转换</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">简繁转换</td>
<td style="text-align:center"><a href="https://github.com/BYVoid/OpenCC" target="_blank" rel="external">https://github.com/BYVoid/OpenCC</a></td>
</tr>
</tbody>
</table>
<h2 id="表格-Grid"><a href="#表格-Grid" class="headerlink" title="表格 Grid"></a><strong>表格 Grid</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">表格 Grid</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">facebook表格</td>
<td style="text-align:center"><a href="http://facebook.github.io/fixed-data-table" target="_blank" rel="external">http://facebook.github.io/fixed-data-table</a></td>
</tr>
<tr>
<td style="text-align:center">类似于Excel编辑表格-handsontable</td>
<td style="text-align:center"><a href="http://handsontable.com" target="_blank" rel="external">http://handsontable.com</a></td>
</tr>
<tr>
<td style="text-align:center">bootstrap-table插件</td>
<td style="text-align:center"><a href="http://bootstrap-table.wenzhixin.net.cn" target="_blank" rel="external">http://bootstrap-table.wenzhixin.net.cn</a></td>
</tr>
<tr>
<td style="text-align:center">datatables</td>
<td style="text-align:center"><a href="https://www.datatables.net" target="_blank" rel="external">https://www.datatables.net</a></td>
</tr>
</tbody>
</table>
<h2 id="在线演示"><a href="#在线演示" class="headerlink" title="在线演示"></a><strong>在线演示</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">在线演示</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">js 在线编辑 - runjs</td>
<td style="text-align:center"><a href="http://runjs.cn" target="_blank" rel="external">http://runjs.cn</a></td>
</tr>
<tr>
<td style="text-align:center">js 在线编辑 - jsbin</td>
<td style="text-align:center"><a href="http://jsbin.com" target="_blank" rel="external">http://jsbin.com</a></td>
</tr>
<tr>
<td style="text-align:center">js 在线编辑 - codepen</td>
<td style="text-align:center"><a href="http://codepen.io" target="_blank" rel="external">http://codepen.io</a></td>
</tr>
<tr>
<td style="text-align:center">js 在线编辑 - jsfiddle</td>
<td style="text-align:center"><a href="http://jsfiddle.net" target="_blank" rel="external">http://jsfiddle.net</a></td>
</tr>
<tr>
<td style="text-align:center">java 在线编辑 - runjs</td>
<td style="text-align:center"><a href="http://ideone.com" target="_blank" rel="external">http://ideone.com</a></td>
</tr>
<tr>
<td style="text-align:center">js 在线编辑 - hcharts</td>
<td style="text-align:center"><a href="http://code.hcharts.cn" target="_blank" rel="external">http://code.hcharts.cn</a></td>
</tr>
<tr>
<td style="text-align:center">js 在线编辑 - jsdm</td>
<td style="text-align:center"><a href="http://jsdm.com" target="_blank" rel="external">http://jsdm.com</a></td>
</tr>
<tr>
<td style="text-align:center">sql 在线编辑 - sqlfiddle</td>
<td style="text-align:center"><a href="http://sqlfiddle.com" target="_blank" rel="external">http://sqlfiddle.com</a></td>
</tr>
<tr>
<td style="text-align:center">mozilla 在线编辑器</td>
<td style="text-align:center"><a href="https://thimble.mozilla.org" target="_blank" rel="external">https://thimble.mozilla.org</a></td>
</tr>
</tbody>
</table>
<h2 id="常规优化"><a href="#常规优化" class="headerlink" title="常规优化"></a><strong>常规优化</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">常规优化</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Javascript高性能动画与页面渲染</td>
<td style="text-align:center"><a href="http://www.infoq.com/cn/articles/javascript-high-performance-animation-and-page-rendering" target="_blank" rel="external">http://www.infoq.com/cn/articles/javascript-high-performance-animation-and-page-rendering</a></td>
</tr>
<tr>
<td style="text-align:center">移动H5前端性能优化指南</td>
<td style="text-align:center"><a href="http://isux.tencent.com/h5-performance.html" target="_blank" rel="external">http://isux.tencent.com/h5-performance.html</a></td>
</tr>
<tr>
<td style="text-align:center">5173首页前端性能优化实践</td>
<td style="text-align:center"><a href="http://ued.5173.com/?p=1731" target="_blank" rel="external">http://ued.5173.com/?p=1731</a></td>
</tr>
<tr>
<td style="text-align:center">给网页设计师和前端开发者看的前端性能优化</td>
<td style="text-align:center"><a href="http://www.uisdc.com/front-end-performance-for-web-designers-and-front-end-developers" target="_blank" rel="external">http://www.uisdc.com/front-end-performance-for-web-designers-and-front-end-developers</a></td>
</tr>
<tr>
<td style="text-align:center">复杂应用的 CSS 性能分析和优化建议</td>
<td style="text-align:center"><a href="http://www.orzpoint.com/profiling-css-and-optimization-notes" target="_blank" rel="external">http://www.orzpoint.com/profiling-css-and-optimization-notes</a></td>
</tr>
<tr>
<td style="text-align:center">张鑫旭——前端性能</td>
<td style="text-align:center"><a href="http://www.zhangxinxu.com/wordpress/tag/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD" target="_blank" rel="external">张鑫旭——前端性能</a></td>
</tr>
<tr>
<td style="text-align:center">前端性能监控总结</td>
<td style="text-align:center"><a href="http://www.xiaoqiang.org/javascript/font-end-performance-monitor.html" target="_blank" rel="external">http://www.xiaoqiang.org/javascript/font-end-performance-monitor.html</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能优化之CSS无图片技术</td>
<td style="text-align:center"><a href="http://udc.weibo.com/2013/05/%E7%BD%91%E7%AB%99%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8Bcss%E6%97%A0%E5%9B%BE%E7%89%87%E6%8A%80%E6%9C%AF" target="_blank" rel="external">网站性能优化之CSS无图片技术</a></td>
</tr>
<tr>
<td style="text-align:center">web前端性能优化进阶路</td>
<td style="text-align:center"><a href="http://www.aliued.cn/2013/01/20/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E8%BF%9B%E9%98%B6%E8%B7%AF.html" target="_blank" rel="external">web前端性能优化进阶路</a></td>
</tr>
<tr>
<td style="text-align:center">前端技术：网站性能优化之CSS无图片技术</td>
<td style="text-align:center"><a href="http://my.eoe.cn/tuwandou/archive/4544.html" target="_blank" rel="external">http://my.eoe.cn/tuwandou/archive/4544.html</a></td>
</tr>
<tr>
<td style="text-align:center">浏览器的加载与页面性能优化</td>
<td style="text-align:center"><a href="http://www.baiduux.com/blog/2011/02/15/browser-loading" target="_blank" rel="external">http://www.baiduux.com/blog/2011/02/15/browser-loading</a></td>
</tr>
<tr>
<td style="text-align:center">页面加载中的图片性能优化</td>
<td style="text-align:center"><a href="http://www.w3ctech.com/p/1503" target="_blank" rel="external">http://www.w3ctech.com/p/1503</a></td>
</tr>
<tr>
<td style="text-align:center">Hey——前端性能</td>
<td style="text-align:center"><a href="http://www.feelcss.com/tag/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD" target="_blank" rel="external">Hey——前端性能</a></td>
</tr>
<tr>
<td style="text-align:center">html优化</td>
<td style="text-align:center"><a href="http://www.baiduux.com/blog/2010/03/15/html%E4%BC%98%E5%8C%96-2" target="_blank" rel="external">html优化</a></td>
</tr>
<tr>
<td style="text-align:center">99css——性能</td>
<td style="text-align:center"><a href="http://www.99css.com/tag/%e6%80%a7%e8%83%bd" target="_blank" rel="external">99css——性能</a></td>
</tr>
<tr>
<td style="text-align:center">Yslow——性能优化</td>
<td style="text-align:center"><a href="http://www.yslow.net/category.php?cid=20" target="_blank" rel="external">http://www.yslow.net/category.php?cid=20</a></td>
</tr>
<tr>
<td style="text-align:center">YSLOW中文介绍</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/yslow" target="_blank" rel="external">http://www.cnblogs.com/yslow</a></td>
</tr>
<tr>
<td style="text-align:center">转一篇Yahoo关于网站性能优化的文章，兼谈本站要做的优化</td>
<td style="text-align:center"><a href="http://www.360ito.com/article/40.html" target="_blank" rel="external">http://www.360ito.com/article/40.html</a></td>
</tr>
<tr>
<td style="text-align:center">Yahoo!团队实践分享：网站性能</td>
<td style="text-align:center"><a href="http://www.360doc.com/content/10/0928/09/2588264_56971287.shtml" target="_blank" rel="external">http://www.360doc.com/content/10/0928/09/2588264_56971287.shtml</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能优化指南：什么使我们的网站变慢？</td>
<td style="text-align:center"><a href="http://blog.jiasule.com/i/153" target="_blank" rel="external">http://blog.jiasule.com/i/153</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能优化实践，减少加载时间，提高用户体验</td>
<td style="text-align:center"><a href="http://www.powereasy.net/helpyou/knowledge/ecommerce/9593.html" target="_blank" rel="external">http://www.powereasy.net/helpyou/knowledge/ecommerce/9593.html</a></td>
</tr>
<tr>
<td style="text-align:center">浅谈网站性能优化 前端篇</td>
<td style="text-align:center"><a href="http://www.umtry.com/archives/747.html" target="_blank" rel="external">http://www.umtry.com/archives/747.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端重构实践之如何对网站性能优化？</td>
<td style="text-align:center"><a href="http://www.adinnet.cn/blog/designview/2012-7-12/678.html" target="_blank" rel="external">http://www.adinnet.cn/blog/designview/2012-7-12/678.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端性能优化：使用媒体查询加载指定大小的背景图片</td>
<td style="text-align:center"><a href="http://www.gbin1.com/technology/javascript/20130708-front-end-performance-optimization-9" target="_blank" rel="external">http://www.gbin1.com/technology/javascript/20130708-front-end-performance-optimization-9</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能系列博文</td>
<td style="text-align:center"><a href="http://www.mykuer.com/post/factors-that-affect-the-speed-of-web-site-open.html" target="_blank" rel="external">http://www.mykuer.com/post/factors-that-affect-the-speed-of-web-site-open.html</a></td>
</tr>
<tr>
<td style="text-align:center">加载，不只是少一点点</td>
<td style="text-align:center"><a href="http://tgideas.qq.com/webplat/info/news_version3/804/808/811/m579/201109/41355.shtml" target="_blank" rel="external">http://tgideas.qq.com/webplat/info/news_version3/804/808/811/m579/201109/41355.shtml</a></td>
</tr>
<tr>
<td style="text-align:center">前端性能的测试与优化</td>
<td style="text-align:center"><a href="http://mzhou.me/article/95310" target="_blank" rel="external">http://mzhou.me/article/95310</a></td>
</tr>
<tr>
<td style="text-align:center">分享网页加载速度优化的一些技巧？</td>
<td style="text-align:center"><a href="http://www.gbin1.com/technology/html/20130217-tips-for-speed-up-page-loading" target="_blank" rel="external">http://www.gbin1.com/technology/html/20130217-tips-for-speed-up-page-loading</a></td>
</tr>
<tr>
<td style="text-align:center">页面加载中的图片性能优化</td>
<td style="text-align:center"><a href="http://www.f2es.com/images-bytes-opt" target="_blank" rel="external">http://www.f2es.com/images-bytes-opt</a></td>
</tr>
<tr>
<td style="text-align:center">web前端优化(基于Yslow</td>
<td style="text-align:center"><a href="http://www.tcreator.info/webSchool/website/Front-end-Opt-Yslow.html" target="_blank" rel="external">http://www.tcreator.info/webSchool/website/Front-end-Opt-Yslow.html</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能优化工具大全</td>
<td style="text-align:center"><a href="https://www.qianduan.net/website-performance-optimization-tool.html" target="_blank" rel="external">https://www.qianduan.net/website-performance-optimization-tool.html</a></td>
</tr>
<tr>
<td style="text-align:center">【高性能前端1】高性能HTML</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/2012/10/high-performance-html" target="_blank" rel="external">http://www.alloyteam.com/2012/10/high-performance-html</a></td>
</tr>
<tr>
<td style="text-align:center">【高性能前端2】高性能CSS</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/2012/10/high-performance-css" target="_blank" rel="external">http://www.alloyteam.com/2012/10/high-performance-css</a></td>
</tr>
<tr>
<td style="text-align:center">由12306谈谈网站前端性能和后端性能优化</td>
<td style="text-align:center"><a href="http://coolshell.cn/articles/6470.html" target="_blank" rel="external">http://coolshell.cn/articles/6470.html</a></td>
</tr>
<tr>
<td style="text-align:center">AlloyTeam——前端优化</td>
<td style="text-align:center"><a href="http://www.alloyteam.com/webfrontend/%E5%89%8D%E7%AB%AF%E4%BC%98%E5%8C%96" target="_blank" rel="external">AlloyTeam——前端优化</a></td>
</tr>
<tr>
<td style="text-align:center">毫秒必争，前端网页性能最佳实践</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/developersupport/p/3248695.html" target="_blank" rel="external">http://www.cnblogs.com/developersupport/p/3248695.html</a></td>
</tr>
<tr>
<td style="text-align:center">网站性能工具Yslow的使用方法</td>
<td style="text-align:center"><a href="http://blog.sina.com.cn/s/blog_6e9d2e0701017kvu.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_6e9d2e0701017kvu.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端工程与性能优化（上）：静态资源版本更新与缓存</td>
<td style="text-align:center"><a href="http://www.infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part1" target="_blank" rel="external">http://www.infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part1</a></td>
</tr>
<tr>
<td style="text-align:center">前端工程与性能优化（下）：静态资源管理与模板框架</td>
<td style="text-align:center"><a href="http://www.infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part2" target="_blank" rel="external">http://www.infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part2</a></td>
</tr>
<tr>
<td style="text-align:center">HTTPS连接的前几毫秒发生了什么</td>
<td style="text-align:center"><a href="http://blog.jobbole.com/48369" target="_blank" rel="external">http://blog.jobbole.com/48369</a></td>
</tr>
<tr>
<td style="text-align:center">Yslow</td>
<td style="text-align:center"><a href="http://uicss.cn/yslow/#more-12319" target="_blank" rel="external">http://uicss.cn/yslow/#more-12319</a></td>
</tr>
<tr>
<td style="text-align:center">Essential Web Performance Metrics — A Primer, Part 1</td>
<td style="text-align:center"><a href="http://blog.smartbear.com/web-performance/essential-web-performance-metrics-a-primer-part-1" target="_blank" rel="external">http://blog.smartbear.com/web-performance/essential-web-performance-metrics-a-primer-part-1</a></td>
</tr>
<tr>
<td style="text-align:center">Essential Web Performance Metrics — Part 2</td>
<td style="text-align:center"><a href="http://blog.smartbear.com/performance/essential-web-performance-metrics-part-2" target="_blank" rel="external">http://blog.smartbear.com/performance/essential-web-performance-metrics-part-2</a></td>
</tr>
<tr>
<td style="text-align:center">YUISlide,针对移动设备的动画性能优化</td>
<td style="text-align:center"><a href="http://jayli.github.io/blog/data/2011/12/23/yuislide.html" target="_blank" rel="external">http://jayli.github.io/blog/data/2011/12/23/yuislide.html</a></td>
</tr>
<tr>
<td style="text-align:center">Improving Site Performance</td>
<td style="text-align:center"><a href="http://joelglovier.com/improving-site-performance" target="_blank" rel="external">http://joelglovier.com/improving-site-performance</a></td>
</tr>
<tr>
<td style="text-align:center">让网站提速的最佳前端实践</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000367899" target="_blank" rel="external">http://segmentfault.com/a/1190000000367899</a></td>
</tr>
<tr>
<td style="text-align:center">Why Website Speed is Important</td>
<td style="text-align:center"><a href="http://sixrevisions.com/web-development/why-website-speed-is-important" target="_blank" rel="external">http://sixrevisions.com/web-development/why-website-speed-is-important</a></td>
</tr>
<tr>
<td style="text-align:center">Need for Speed – How to Improve your Website Performance</td>
<td style="text-align:center"><a href="https://www.devbridge.com/articles/need-for-speed-how-to-improve-your-website-performance" target="_blank" rel="external">https://www.devbridge.com/articles/need-for-speed-how-to-improve-your-website-performance</a></td>
</tr>
<tr>
<td style="text-align:center">阿里无线前端性能优化指南 (Pt.1 加载期优化</td>
<td style="text-align:center"><a href="https://github.com/amfe/article/issues/1" target="_blank" rel="external">https://github.com/amfe/article/issues/1</a></td>
</tr>
</tbody>
</table>
<h2 id="优化工具"><a href="#优化工具" class="headerlink" title="优化工具"></a><strong>优化工具</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">优化工具</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">JavaScript 性能分析新工具 OneProfile</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/3083" target="_blank" rel="external">http://www.html-js.com/article/3083</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript 堆内存分析新工具 OneHeap</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/3091" target="_blank" rel="external">http://www.html-js.com/article/3091</a></td>
</tr>
</tbody>
</table>
<h2 id="在线工具"><a href="#在线工具" class="headerlink" title="在线工具"></a><strong>在线工具</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">在线工具</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">google在线工具</td>
<td style="text-align:center"><a href="https://developers.google.com/speed/pagespeed/insights" target="_blank" rel="external">https://developers.google.com/speed/pagespeed/insights</a></td>
</tr>
<tr>
<td style="text-align:center">阿里测</td>
<td style="text-align:center"><a href="http://www.alibench.com" target="_blank" rel="external">http://www.alibench.com</a></td>
</tr>
<tr>
<td style="text-align:center">阿里-免费测试服务</td>
<td style="text-align:center"><a href="http://itest.aliyun.com" target="_blank" rel="external">http://itest.aliyun.com</a></td>
</tr>
<tr>
<td style="text-align:center">阿里-F2etest多浏览器兼容性测试解决方案</td>
<td style="text-align:center"><a href="https://github.com/alibaba/f2etest" target="_blank" rel="external">https://github.com/alibaba/f2etest</a></td>
</tr>
<tr>
<td style="text-align:center">js性能测试</td>
<td style="text-align:center"><a href="http://jsperf.com" target="_blank" rel="external">http://jsperf.com</a></td>
</tr>
</tbody>
</table>
<h2 id="前端架构"><a href="#前端架构" class="headerlink" title="前端架构"></a><strong>前端架构</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">前端架构</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">技术架构</td>
<td style="text-align:center"><a href="http://www.zhihu.com/topic/19612641" target="_blank" rel="external">http://www.zhihu.com/topic/19612641</a></td>
</tr>
<tr>
<td style="text-align:center">前端架构</td>
<td style="text-align:center"><a href="http://saito.im/note/The-Architecture-of-F2E" target="_blank" rel="external">http://saito.im/note/The-Architecture-of-F2E</a></td>
</tr>
<tr>
<td style="text-align:center">如何成为前端架构师</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/24092572" target="_blank" rel="external">http://www.zhihu.com/question/24092572</a></td>
</tr>
<tr>
<td style="text-align:center">关于前端架构-张克军</td>
<td style="text-align:center"><a href="http://hikejun.com/sharing/2010webrebuild/?file=fe-infrastructure.html" target="_blank" rel="external">http://hikejun.com/sharing/2010webrebuild/?file=fe-infrastructure.html</a></td>
</tr>
<tr>
<td style="text-align:center">百度腾讯offer比较（腾讯游戏VS百度基础架构）</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/25583350" target="_blank" rel="external">http://www.zhihu.com/question/25583350</a></td>
</tr>
</tbody>
</table>
<h2 id="推荐作品"><a href="#推荐作品" class="headerlink" title="推荐作品"></a><strong>推荐作品</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">推荐作品</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">winter代码片段需要翻墙</td>
<td style="text-align:center"><a href="https://gist.github.com/wintercn" target="_blank" rel="external">https://gist.github.com/wintercn</a></td>
</tr>
<tr>
<td style="text-align:center">fgm</td>
<td style="text-align:center"><a href="http://www.fgm.cc/learn" target="_blank" rel="external">http://www.fgm.cc/learn</a></td>
</tr>
<tr>
<td style="text-align:center">岑安作品集</td>
<td style="text-align:center"><a href="https://github.com/hongru/hongru.github.com" target="_blank" rel="external">https://github.com/hongru/hongru.github.com</a></td>
</tr>
<tr>
<td style="text-align:center">当耐特demo集合</td>
<td style="text-align:center"><a href="http://kmdjs.github.io" target="_blank" rel="external">http://kmdjs.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">米空格 js作品</td>
<td style="text-align:center"><a href="http://www.laoshu133.com/Lab" target="_blank" rel="external">http://www.laoshu133.com/Lab</a></td>
</tr>
<tr>
<td style="text-align:center">myFocus</td>
<td style="text-align:center"><a href="http://koen301.github.io" target="_blank" rel="external">http://koen301.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">SeaJS组件库</td>
<td style="text-align:center"><a href="http://panxuepeng.github.io/seajslib" target="_blank" rel="external">http://panxuepeng.github.io/seajslib</a></td>
</tr>
<tr>
<td style="text-align:center">颜海镜作品</td>
<td style="text-align:center"><a href="http://yanhaijing.com/myProject" target="_blank" rel="external">http://yanhaijing.com/myProject</a></td>
</tr>
<tr>
<td style="text-align:center">脚儿网作品</td>
<td style="text-align:center"><a href="http://jo2.org/category/myworks" target="_blank" rel="external">http://jo2.org/category/myworks</a></td>
</tr>
<tr>
<td style="text-align:center">javascript个人作品</td>
<td style="text-align:center"><a href="http://www.cnitblog.com/yemoo/category/3107.html" target="_blank" rel="external">http://www.cnitblog.com/yemoo/category/3107.html</a></td>
</tr>
<tr>
<td style="text-align:center">妙味的雷东升游戏作品</td>
<td style="text-align:center"><a href="http://bbs.miaov.com/forum.php?mod=viewthread&amp;tid=7790" target="_blank" rel="external">http://bbs.miaov.com/forum.php?mod=viewthread&amp;tid=7790</a></td>
</tr>
<tr>
<td style="text-align:center">javascript作品集</td>
<td style="text-align:center"><a href="http://bbs.csdn.net/topics/380227212" target="_blank" rel="external">http://bbs.csdn.net/topics/380227212</a></td>
</tr>
<tr>
<td style="text-align:center">云五笔，灰度产生生成工具</td>
<td style="text-align:center"><a href="https://github.com/TooBug/works" target="_blank" rel="external">https://github.com/TooBug/works</a></td>
</tr>
<tr>
<td style="text-align:center">项目主页</td>
<td style="text-align:center"><a href="http://koen301.github.io" target="_blank" rel="external">http://koen301.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">个性的作品主页</td>
<td style="text-align:center"><a href="http://zaole.net" target="_blank" rel="external">http://zaole.net</a></td>
</tr>
<tr>
<td style="text-align:center">播放器</td>
<td style="text-align:center"><a href="http://static.tingall.com/v2/player" target="_blank" rel="external">http://static.tingall.com/v2/player</a></td>
</tr>
<tr>
<td style="text-align:center">ucren js demos 集</td>
<td style="text-align:center"><a href="http://ucren.com/blog/demos" target="_blank" rel="external">http://ucren.com/blog/demos</a></td>
</tr>
<tr>
<td style="text-align:center">智能社</td>
<td style="text-align:center"><a href="http://www.zhinengshe.com/works_list.html" target="_blank" rel="external">http://www.zhinengshe.com/works_list.html</a></td>
</tr>
<tr>
<td style="text-align:center">实例陈列架</td>
<td style="text-align:center"><a href="http://demos.shizuwu.cn" target="_blank" rel="external">http://demos.shizuwu.cn</a></td>
</tr>
<tr>
<td style="text-align:center">zoye demo</td>
<td style="text-align:center"><a href="http://zoye.sinaapp.com/demo" target="_blank" rel="external">http://zoye.sinaapp.com/demo</a></td>
</tr>
<tr>
<td style="text-align:center">王员外</td>
<td style="text-align:center"><a href="http://lab.yuanwai.wang" target="_blank" rel="external">http://lab.yuanwai.wang</a></td>
</tr>
<tr>
<td style="text-align:center">平凡</td>
<td style="text-align:center"><a href="http://pingfan1990.sinaapp.com" target="_blank" rel="external">http://pingfan1990.sinaapp.com</a></td>
</tr>
<tr>
<td style="text-align:center">jyg 游戏案例</td>
<td style="text-align:center"><a href="http://www.lovewebgames.com" target="_blank" rel="external">http://www.lovewebgames.com</a></td>
</tr>
<tr>
<td style="text-align:center">很多jquery插件</td>
<td style="text-align:center"><a href="http://www.helloweba.com/list.html" target="_blank" rel="external">http://www.helloweba.com/list.html</a></td>
</tr>
<tr>
<td style="text-align:center">不羁虫 - soJs 作品系列</td>
<td style="text-align:center"><a href="http://www.bujichong.com/sojs/api/index.html" target="_blank" rel="external">http://www.bujichong.com/sojs/api/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">frozenui</td>
<td style="text-align:center"><a href="http://frozenui.github.io/case.html" target="_blank" rel="external">http://frozenui.github.io/case.html</a></td>
</tr>
<tr>
<td style="text-align:center">黑白棋</td>
<td style="text-align:center"><a href="http://js-game.github.io/othello" target="_blank" rel="external">http://js-game.github.io/othello</a></td>
</tr>
<tr>
<td style="text-align:center">fromone</td>
<td style="text-align:center"><a href="http://yansm.github.io/fromone/index.html" target="_blank" rel="external">http://yansm.github.io/fromone/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">pazguille</td>
<td style="text-align:center"><a href="http://pazguille.me" target="_blank" rel="external">http://pazguille.me</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>Html5 VideoPlayer</strong></td>
<td style="text-align:center"><a href="https://github.com/zmmbreeze/DeadSimpleVideoPlayer" target="_blank" rel="external">https://github.com/zmmbreeze/DeadSimpleVideoPlayer</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>Proton 烟花</strong></td>
<td style="text-align:center"><a href="http://a-jie.github.io/Proton/#example" target="_blank" rel="external">http://a-jie.github.io/Proton/#example</a></td>
</tr>
</tbody>
</table>
<h2 id="简历模板"><a href="#简历模板" class="headerlink" title="简历模板"></a><strong>简历模板</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">简历模板</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">简历</td>
<td style="text-align:center"><a href="http://hcy2367.github.io/resume" target="_blank" rel="external">http://hcy2367.github.io/resume</a></td>
</tr>
<tr>
<td style="text-align:center">张伦</td>
<td style="text-align:center"><a href="http://ncuey.sinaapp.com/CrispElite/" target="_blank" rel="external">http://ncuey.sinaapp.com/CrispElite/</a> </td>
</tr>
<tr>
<td style="text-align:center">简历</td>
<td style="text-align:center"><a href="https://github.com/hacke2/ResumeSample" target="_blank" rel="external">https://github.com/hacke2/ResumeSample</a></td>
</tr>
<tr>
<td style="text-align:center">马斯特</td>
<td style="text-align:center"><a href="http://pinkyjie.com/resume" target="_blank" rel="external">http://pinkyjie.com/resume</a></td>
</tr>
<tr>
<td style="text-align:center">张秋怡</td>
<td style="text-align:center"><a href="https://joyeecheung.github.io/resume/" target="_blank" rel="external">https://joyeecheung.github.io/resume/</a></td>
</tr>
<tr>
<td style="text-align:center">翁天信</td>
<td style="text-align:center"><a href="http://blog.dandyweng.com/2013/07/how-my-website-was-created" target="_blank" rel="external">http://blog.dandyweng.com/2013/07/how-my-website-was-created</a></td>
</tr>
<tr>
<td style="text-align:center">动画方式的简历</td>
<td style="text-align:center"><a href="http://www.webhek.com/misc/interactive-resume" target="_blank" rel="external">http://www.webhek.com/misc/interactive-resume</a></td>
</tr>
<tr>
<td style="text-align:center">组件丰富简历</td>
<td style="text-align:center"><a href="http://www.linqing07.com/resume.html" target="_blank" rel="external">http://www.linqing07.com/resume.html</a></td>
</tr>
<tr>
<td style="text-align:center">haorooms博客</td>
<td style="text-align:center"><a href="http://www.haorooms.com/about" target="_blank" rel="external">http://www.haorooms.com/about</a></td>
</tr>
</tbody>
</table>
<h2 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a><strong>面试题</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">面试题</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">那几个月在找工作（百度，网易游戏）</td>
<td style="text-align:center"><a href="http://www.nowcoder.com/discuss/3196" target="_blank" rel="external">http://www.nowcoder.com/discuss/3196</a></td>
</tr>
<tr>
<td style="text-align:center">2014最新面试题</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/1743" target="_blank" rel="external">http://www.html-js.com/article/1743</a></td>
</tr>
<tr>
<td style="text-align:center">2016校招内推 – 阿里巴巴前端 – 三面面试经历</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/imwtr/p/4685546.html" target="_blank" rel="external">http://www.cnblogs.com/imwtr/p/4685546.html</a></td>
</tr>
<tr>
<td style="text-align:center">年后跳槽那点事：乐视+金山+360面试之行</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/lvdabao/p/3660707.html" target="_blank" rel="external">http://www.cnblogs.com/lvdabao/p/3660707.html</a></td>
</tr>
<tr>
<td style="text-align:center">Interviewing a front-end developer</td>
<td style="text-align:center"><a href="http://blog.sourcing.io/interview-questions" target="_blank" rel="external">http://blog.sourcing.io/interview-questions</a></td>
</tr>
<tr>
<td style="text-align:center">拉勾网js面试题</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/52cik/p/js-question-lg.html" target="_blank" rel="external">http://www.cnblogs.com/52cik/p/js-question-lg.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端面试</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/allenxing/p/3724382.html" target="_blank" rel="external">http://www.cnblogs.com/allenxing/p/3724382.html</a></td>
</tr>
<tr>
<td style="text-align:center">Web开发笔试面试题 大全</td>
<td style="text-align:center"><a href="http://mianshiti.diandian.com" target="_blank" rel="external">http://mianshiti.diandian.com</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发面试题</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000465431" target="_blank" rel="external">http://segmentfault.com/a/1190000000465431</a></td>
</tr>
<tr>
<td style="text-align:center">2014最新前端面试题</td>
<td style="text-align:center"><a href="https://github.com/markyun/My-blog/tree/master/Front-end-Developer-Questions" target="_blank" rel="external">https://github.com/markyun/My-blog/tree/master/Front-end-Developer-Questions</a></td>
</tr>
<tr>
<td style="text-align:center">百度面试</td>
<td style="text-align:center"><a href="https://github.com/fex-team/interview-questions" target="_blank" rel="external">https://github.com/fex-team/interview-questions</a></td>
</tr>
<tr>
<td style="text-align:center">面试题</td>
<td style="text-align:center"><a href="http://www.w3cfuns.com/forum.php?mod=forumdisplay&amp;fid=51&amp;filter=typeid&amp;typeid=177" target="_blank" rel="external">http://www.w3cfuns.com/forum.php?mod=forumdisplay&amp;fid=51&amp;filter=typeid&amp;typeid=177</a></td>
</tr>
<tr>
<td style="text-align:center">前端工作面试问题</td>
<td style="text-align:center"><a href="https://github.com/darcyclarke/Front-end-Developer-Interview-Questions/tree/master/Chinese" target="_blank" rel="external">https://github.com/darcyclarke/Front-end-Developer-Interview-Questions/tree/master/Chinese</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发面试题</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000465431" target="_blank" rel="external">http://segmentfault.com/a/1190000000465431</a></td>
</tr>
<tr>
<td style="text-align:center">5个经典的前端面试问题</td>
<td style="text-align:center"><a href="http://ourjs.com/detail/5%E4%B8%AA%E7%BB%8F%E5%85%B8%E7%9A%84%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98" target="_blank" rel="external">5个经典的前端面试问题</a></td>
</tr>
<tr>
<td style="text-align:center">最全前端面试问题及答案总结</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000002562454" target="_blank" rel="external">http://segmentfault.com/a/1190000002562454</a></td>
</tr>
<tr>
<td style="text-align:center">如何面试一名前端开发工程师？</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/Large-search-front-team-column%202961" target="_blank" rel="external">http://www.html-js.com/article/Large-search-front-team-column%202961</a></td>
</tr>
<tr>
<td style="text-align:center">史上最全 前端开发面试问题及答案整理</td>
<td style="text-align:center"><a href="https://github.com/hawx1993/Front-end-Interview-questions" target="_blank" rel="external">https://github.com/hawx1993/Front-end-Interview-questions</a></td>
</tr>
<tr>
<td style="text-align:center">前端实习生面试总结</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/xiaoruo/p/4665163.html" target="_blank" rel="external">http://www.cnblogs.com/xiaoruo/p/4665163.html</a></td>
</tr>
<tr>
<td style="text-align:center">史上最全 前端开发面试问题及答案整理</td>
<td style="text-align:center"><a href="https://github.com/hawx1993/Front-end-Interview-questions" target="_blank" rel="external">https://github.com/hawx1993/Front-end-Interview-questions</a></td>
</tr>
<tr>
<td style="text-align:center">BAT及各大互联网公司2014前端笔试面试题：JavaScript篇</td>
<td style="text-align:center"><a href="http://blog.jobbole.com/78738" target="_blank" rel="external">http://blog.jobbole.com/78738</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发面试题大收集</td>
<td style="text-align:center"><a href="https://github.com/paddingme/Front-end-Web-Development-Interview-Question" target="_blank" rel="external">https://github.com/paddingme/Front-end-Web-Development-Interview-Question</a></td>
</tr>
<tr>
<td style="text-align:center">收集的前端面试题和答案</td>
<td style="text-align:center"><a href="https://github.com/qiu-deqing/FE-interview" target="_blank" rel="external">https://github.com/qiu-deqing/FE-interview</a></td>
</tr>
<tr>
<td style="text-align:center">如何面试前端工程师</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/19568008" target="_blank" rel="external">http://www.zhihu.com/question/19568008</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发面试题</td>
<td style="text-align:center"><a href="https://github.com/markyun/My-blog/blob/master/Front-end-Developer-Questions/Questions-and-Answers/README.md" target="_blank" rel="external">https://github.com/markyun/My-blog/blob/master/Front-end-Developer-Questions/Questions-and-Answers/README.md</a></td>
</tr>
<tr>
<td style="text-align:center">牛客网-笔试面经</td>
<td style="text-align:center"><a href="http://www.nowcoder.com/discuss?type=2" target="_blank" rel="external">http://www.nowcoder.com/discuss?type=2</a></td>
</tr>
</tbody>
</table>
<h2 id="iconfont"><a href="#iconfont" class="headerlink" title="iconfont"></a><strong>iconfont</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">iconfont</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">中文字体</td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/21253343" target="_blank" rel="external">http://www.zhihu.com/question/21253343</a></td>
</tr>
<tr>
<td style="text-align:center">淘宝字库</td>
<td style="text-align:center"><a href="http://iconfont.cn" target="_blank" rel="external">http://iconfont.cn</a></td>
</tr>
<tr>
<td style="text-align:center">字体</td>
<td style="text-align:center"><a href="http://mux.alimama.com/fonts" target="_blank" rel="external">http://mux.alimama.com/fonts</a></td>
</tr>
<tr>
<td style="text-align:center">制作教程</td>
<td style="text-align:center"><a href="http://iconfont.cn/help/platform.html" target="_blank" rel="external">http://iconfont.cn/help/platform.html</a></td>
</tr>
<tr>
<td style="text-align:center">zhangxinxu-icommon</td>
<td style="text-align:center"><a href="http://www.zhangxinxu.com/wordpress/?s=icomoon" target="_blank" rel="external">http://www.zhangxinxu.com/wordpress/?s=icomoon</a></td>
</tr>
<tr>
<td style="text-align:center">icommon</td>
<td style="text-align:center"><a href="https://icomoon.io/app" target="_blank" rel="external">https://icomoon.io/app</a></td>
</tr>
<tr>
<td style="text-align:center">用字体在网页中画ICON图标(推荐教程</td>
<td style="text-align:center"><a href="http://imooc.com/learn/243" target="_blank" rel="external">http://imooc.com/learn/243</a></td>
</tr>
<tr>
<td style="text-align:center">字体压缩工具</td>
<td style="text-align:center"><a href="http://font-spider.org" target="_blank" rel="external">http://font-spider.org</a></td>
</tr>
</tbody>
</table>
<h2 id="Fiddler"><a href="#Fiddler" class="headerlink" title="Fiddler"></a><strong>Fiddler</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Fiddler</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Fiddler调式使用知多少(一深入研究</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/tugenhua0707/p/4623317.html" target="_blank" rel="external">http://www.cnblogs.com/tugenhua0707/p/4623317.html</a></td>
</tr>
<tr>
<td style="text-align:center">微信fiddle</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/strick/p/4570006.html" target="_blank" rel="external">http://www.cnblogs.com/strick/p/4570006.html</a></td>
</tr>
<tr>
<td style="text-align:center">微信fiddle</td>
<td style="text-align:center"><a href="http://gaoboy.com/article/26.html" target="_blank" rel="external">http://gaoboy.com/article/26.html</a></td>
</tr>
</tbody>
</table>
<h2 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a><strong>Chrome</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Google Chrome 官方</td>
<td style="text-align:center"><a href="https://developer.chrome.com/devtools" target="_blank" rel="external">https://developer.chrome.com/devtools</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 基础</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/constantince/p/4565261.html" target="_blank" rel="external">http://www.cnblogs.com/constantince/p/4565261.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 进阶</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/constantince/p/4579121.html" target="_blank" rel="external">http://www.cnblogs.com/constantince/p/4579121.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 性能</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/constantince/p/4585983.html" target="_blank" rel="external">http://www.cnblogs.com/constantince/p/4585983.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 性能进阶</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/constantince/p/4607497.html" target="_blank" rel="external">http://www.cnblogs.com/constantince/p/4607497.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 移动</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/constantince/p/4624241.html" target="_blank" rel="external">http://www.cnblogs.com/constantince/p/4624241.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - 使用技巧</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/liyunhua/p/4544738.html" target="_blank" rel="external">http://www.cnblogs.com/liyunhua/p/4544738.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - Console控制台不完全指南</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/Wayou/p/chrome-console-tips-and-tricks.html" target="_blank" rel="external">http://www.cnblogs.com/Wayou/p/chrome-console-tips-and-tricks.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome - Workspace使浏览器变成IDE</td>
<td style="text-align:center"><a href="http://c7sky.com/chrome-devtools-workspace.html" target="_blank" rel="external">http://c7sky.com/chrome-devtools-workspace.html</a></td>
</tr>
<tr>
<td style="text-align:center">network面板</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/Nothing-blind%202975" target="_blank" rel="external">http://www.html-js.com/article/Nothing-blind%202975</a></td>
</tr>
<tr>
<td style="text-align:center">chrome开发工具快捷键</td>
<td style="text-align:center"><a href="http://anti-code.com/devtools-cheatsheet" target="_blank" rel="external">http://anti-code.com/devtools-cheatsheet</a></td>
</tr>
<tr>
<td style="text-align:center">chrome调试工具常用功能整理</td>
<td style="text-align:center"><a href="http://www.html-js.com/article/2327" target="_blank" rel="external">http://www.html-js.com/article/2327</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome 开发工具 Workspace 使用</td>
<td style="text-align:center"><a href="http://www.iinterest.net/2014/05/09/chrome-dev-tool-workspace" target="_blank" rel="external">http://www.iinterest.net/2014/05/09/chrome-dev-tool-workspace</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome神器Vimium快捷键学习记录</td>
<td style="text-align:center"><a href="http://www.cppblog.com/deercoder/archive/2011/10/22/158886.html" target="_blank" rel="external">http://www.cppblog.com/deercoder/archive/2011/10/22/158886.html</a></td>
</tr>
<tr>
<td style="text-align:center">sass调试-w3cplus</td>
<td style="text-align:center"><a href="http://www.w3cplus.com/sassguide/debug.html" target="_blank" rel="external">http://www.w3cplus.com/sassguide/debug.html</a></td>
</tr>
<tr>
<td style="text-align:center">如何更专业的使用Chrome开发者工具-w3cplus</td>
<td style="text-align:center"><a href="http://www.w3cplus.com/tools/how-to-use-chrome-devtools-like-a-pro.html" target="_blank" rel="external">http://www.w3cplus.com/tools/how-to-use-chrome-devtools-like-a-pro.html</a></td>
</tr>
<tr>
<td style="text-align:center">chrome调试canvas</td>
<td style="text-align:center"><a href="http://sentsin.com/web/253.html" target="_blank" rel="external">http://sentsin.com/web/253.html</a></td>
</tr>
<tr>
<td style="text-align:center">chrome profiles1</td>
<td style="text-align:center"><a href="https://developer.chrome.com/devtools/index" target="_blank" rel="external">https://developer.chrome.com/devtools/index</a></td>
</tr>
<tr>
<td style="text-align:center">chrome profiles2</td>
<td style="text-align:center"><a href="http://h5dev.uc.cn/article-25-1.html" target="_blank" rel="external">http://h5dev.uc.cn/article-25-1.html</a></td>
</tr>
<tr>
<td style="text-align:center">chrome profiles3</td>
<td style="text-align:center"><a href="http://www.oschina.net/translate/performance-optimisation-with-timeline-profiles" target="_blank" rel="external">http://www.oschina.net/translate/performance-optimisation-with-timeline-profiles</a></td>
</tr>
<tr>
<td style="text-align:center">chrome移动版调试</td>
<td style="text-align:center"><a href="https://developer.chrome.com/devtools/docs/mobile-emulation" target="_blank" rel="external">https://developer.chrome.com/devtools/docs/mobile-emulation</a></td>
</tr>
<tr>
<td style="text-align:center">chrome调试</td>
<td style="text-align:center"><a href="http://ued.taobao.org/blog/2012/06/debug-with-chrome-dev-tool" target="_blank" rel="external">http://ued.taobao.org/blog/2012/06/debug-with-chrome-dev-tool</a></td>
</tr>
<tr>
<td style="text-align:center">chrome的调试</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/QLeelulu/archive/2011/08/28/2156402.html" target="_blank" rel="external">http://www.cnblogs.com/QLeelulu/archive/2011/08/28/2156402.html</a></td>
</tr>
<tr>
<td style="text-align:center">chrome console 命令详解</td>
<td style="text-align:center"><a href="https://developer.chrome.com/devtools/docs/commandline-api" target="_blank" rel="external">https://developer.chrome.com/devtools/docs/commandline-api</a></td>
</tr>
<tr>
<td style="text-align:center">查看事件绑定1</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/leonkao/p/3809655.html" target="_blank" rel="external">http://www.cnblogs.com/leonkao/p/3809655.html</a></td>
</tr>
<tr>
<td style="text-align:center">查看事件绑定2</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/xiaoyao2011/p/3447421.html" target="_blank" rel="external">http://www.cnblogs.com/xiaoyao2011/p/3447421.html</a></td>
</tr>
<tr>
<td style="text-align:center">神器——Chrome开发者工具(一</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000000683599" target="_blank" rel="external">http://segmentfault.com/a/1190000000683599</a></td>
</tr>
<tr>
<td style="text-align:center">奇趣百科性能优化(Chrome DevTools 中的 Timeline Profils 等工具使用介绍</td>
<td style="text-align:center"><a href="https://xinranliu.me/2015-05-22-qiqu-performance" target="_blank" rel="external">https://xinranliu.me/2015-05-22-qiqu-performance</a></td>
</tr>
<tr>
<td style="text-align:center">chrome 开发者工具的 15 个小技巧</td>
<td style="text-align:center"><a href="http://frontenddev.org/link/15-tips-of-chrome-developer-tools.html" target="_blank" rel="external">http://frontenddev.org/link/15-tips-of-chrome-developer-tools.html</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome开发者工具不完全指南</td>
<td style="text-align:center"><a href="http://1ke.co/course/361" target="_blank" rel="external">http://1ke.co/course/361</a></td>
</tr>
<tr>
<td style="text-align:center">Chrome 开发者工具使用技巧</td>
<td style="text-align:center"><a href="http://segmentfault.com/a/1190000003882567" target="_blank" rel="external">http://segmentfault.com/a/1190000003882567</a></td>
</tr>
</tbody>
</table>
<h2 id="Firebug"><a href="#Firebug" class="headerlink" title="Firebug"></a><strong>Firebug</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Firebug</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">firebug视频教程</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/137" target="_blank" rel="external">http://www.imooc.com/learn/137</a></td>
</tr>
<tr>
<td style="text-align:center">firefox 模拟器</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/zh-CN/docs/Tools/WebIDE" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Tools/WebIDE</a></td>
</tr>
<tr>
<td style="text-align:center">console.log 命令详解</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/ctriphire/p/4116207.html" target="_blank" rel="external">http://www.cnblogs.com/ctriphire/p/4116207.html</a></td>
</tr>
<tr>
<td style="text-align:center">Firebug入门指南</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2008/06/firebug_tutorial.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2008/06/firebug_tutorial.html</a></td>
</tr>
<tr>
<td style="text-align:center">Firebug控制台详解</td>
<td style="text-align:center"><a href="http://www.ruanyifeng.com/blog/2011/03/firebug_console_tutorial.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2011/03/firebug_console_tutorial.html</a></td>
</tr>
</tbody>
</table>
<h2 id="移动-微信调试"><a href="#移动-微信调试" class="headerlink" title="移动,微信调试"></a><strong>移动,微信调试</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">移动,微信调试</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">浏览器端调试安卓</td>
<td style="text-align:center"><a href="https://openstf.github.io" target="_blank" rel="external">https://openstf.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">移动端前端开发调试</td>
<td style="text-align:center"><a href="http://yujiangshui.com/multidevice-frontend-debug" target="_blank" rel="external">http://yujiangshui.com/multidevice-frontend-debug</a></td>
</tr>
<tr>
<td style="text-align:center">使用 Chrome 远程调试 Android 设备</td>
<td style="text-align:center"><a href="https://github.com/yujiangshui/CN-Chrome-DevTools/blob/remote-debugging/md/Use-Tools/remote-debugging.md" target="_blank" rel="external">https://github.com/yujiangshui/CN-Chrome-DevTools/blob/remote-debugging/md/Use-Tools/remote-debugging.md</a></td>
</tr>
<tr>
<td style="text-align:center">mac移动端调试</td>
<td style="text-align:center"><a href="http://plus.uc.cn/document/webapp/doc5.html" target="_blank" rel="external">http://plus.uc.cn/document/webapp/doc5.html</a></td>
</tr>
<tr>
<td style="text-align:center">mac移动端调试</td>
<td style="text-align:center"><a href="http://www.mihtool.com" target="_blank" rel="external">http://www.mihtool.com</a></td>
</tr>
<tr>
<td style="text-align:center">无线调试攻略</td>
<td style="text-align:center"><a href="http://thx.github.io/mobile/debugging-in-mobile" target="_blank" rel="external">http://thx.github.io/mobile/debugging-in-mobile</a></td>
</tr>
<tr>
<td style="text-align:center">无线调试攻略</td>
<td style="text-align:center"><a href="http://yanhaijing.com/mobile/2014/12/17/web-debug-for-mobile" target="_blank" rel="external">http://yanhaijing.com/mobile/2014/12/17/web-debug-for-mobile</a></td>
</tr>
<tr>
<td style="text-align:center">屌爆了,完美调试 微信webview(x5</td>
<td style="text-align:center"><a href="http://www.jianshu.com/p/ccf124f1f74b" target="_blank" rel="external">http://www.jianshu.com/p/ccf124f1f74b</a></td>
</tr>
<tr>
<td style="text-align:center">微信调试的那些事</td>
<td style="text-align:center"><a href="http://liyaodong.com/2015/07/06/%E5%BE%AE%E4%BF%A1%E8%B0%83%E8%AF%95%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B" target="_blank" rel="external">微信调试的那些事</a></td>
</tr>
<tr>
<td style="text-align:center">远程console</td>
<td style="text-align:center"><a href="http://jsconsole.com" target="_blank" rel="external">http://jsconsole.com</a></td>
</tr>
<tr>
<td style="text-align:center">微信调试工具</td>
<td style="text-align:center"><a href="http://blog.qqbrowser.cc" target="_blank" rel="external">http://blog.qqbrowser.cc</a></td>
</tr>
<tr>
<td style="text-align:center">各种真机远程调试方法汇总</td>
<td style="text-align:center"><a href="https://github.com/jieyou/remote_inspect_web_on_real_device" target="_blank" rel="external">https://github.com/jieyou/remote_inspect_web_on_real_device</a></td>
</tr>
</tbody>
</table>
<h2 id="iOS-Simulator"><a href="#iOS-Simulator" class="headerlink" title="iOS Simulator"></a><strong>iOS Simulator</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">iOS Simulator</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Simulator</td>
<td style="text-align:center"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/iOS_Simulator_Guide/Introduction/Introduction.html" target="_blank" rel="external">iOS_Simulator_Guide-Introduction</a></td>
</tr>
<tr>
<td style="text-align:center">iOS Simulator的介绍和使用心得</td>
<td style="text-align:center"><a href="http://www.crifan.com/intro_ios_simulator_in_xcode_and_usage_summary" target="_blank" rel="external">http://www.crifan.com/intro_ios_simulator_in_xcode_and_usage_summary</a></td>
</tr>
</tbody>
</table>
<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a><strong>Image</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">img</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">loading img</td>
<td style="text-align:center"><a href="http://preloaders.net/en/circular" target="_blank" rel="external">http://preloaders.net/en/circular</a></td>
</tr>
<tr>
<td style="text-align:center">智图-图片优化平台</td>
<td style="text-align:center"><a href="http://zhitu.isux.us" target="_blank" rel="external">http://zhitu.isux.us</a></td>
</tr>
<tr>
<td style="text-align:center">在线png优化</td>
<td style="text-align:center"><a href="https://tinypng.com" target="_blank" rel="external">https://tinypng.com</a></td>
</tr>
<tr>
<td style="text-align:center">SM.MS(图床工具～简易好用)</td>
<td style="text-align:center"><a href="https://sm.ms/" target="_blank" rel="external">https://sm.ms/</a></td>
</tr>
<tr>
<td style="text-align:center">yutuku：极简图床</td>
<td style="text-align:center"><a href="http://yotuku.cn/" target="_blank" rel="external">http://yotuku.cn/</a></td>
</tr>
<tr>
<td style="text-align:center">Qchan图床</td>
<td style="text-align:center"><a href="http://tuchuang.org/" target="_blank" rel="external">http://tuchuang.org/</a></td>
</tr>
</tbody>
</table>
<h2 id="浏览器同步"><a href="#浏览器同步" class="headerlink" title="浏览器同步"></a><strong>浏览器同步</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">浏览器同步</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">puer</td>
<td style="text-align:center"><a href="https://github.com/leeluolee/puer" target="_blank" rel="external">https://github.com/leeluolee/puer</a></td>
</tr>
<tr>
<td style="text-align:center">liveReload</td>
<td style="text-align:center"><a href="http://livereload.com" target="_blank" rel="external">http://livereload.com</a></td>
</tr>
<tr>
<td style="text-align:center">f5</td>
<td style="text-align:center"><a href="http://getf5.com" target="_blank" rel="external">http://getf5.com</a></td>
</tr>
<tr>
<td style="text-align:center">File Watchers</td>
<td style="text-align:center"><a href="http://geek100.com/2608" target="_blank" rel="external">http://geek100.com/2608</a></td>
</tr>
</tbody>
</table>
<h2 id="在线PPT制作"><a href="#在线PPT制作" class="headerlink" title="在线PPT制作"></a><strong>在线PPT制作</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">在线PPT制作</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">nodePPT</td>
<td style="text-align:center"><a href="http://js8.in/2013/11/16/%E6%8E%A8%E8%8D%90nodeppt%EF%BC%9A%E4%BD%BF%E7%94%A8markdown%E8%AF%AD%E6%B3%95%E6%9D%A5%E5%86%99%E7%BD%91%E9%A1%B5ppt" target="_blank" rel="external">nodePPT</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>Cleaver快速制作网页PPT</strong></td>
<td style="text-align:center"><a href="http://www.jeffjade.com/2015/10/15/2015-10-16-cleaver-make-ppt/" target="_blank" rel="external">http://www.jeffjade.com/2015/10/15/2015-10-16-cleaver-make-ppt/</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>impress.js</strong></td>
<td style="text-align:center"><a href="http://www.cnblogs.com/Darren_code/archive/2013/01/04/impressjs.html" target="_blank" rel="external">http://www.cnblogs.com/Darren_code/archive/2013/01/04/impressjs.html</a></td>
</tr>
<tr>
<td style="text-align:center">PPT</td>
<td style="text-align:center"><a href="https://github.com/ksky521/nodePPT" target="_blank" rel="external">https://github.com/ksky521/nodePPT</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>reveal</strong></td>
<td style="text-align:center"><a href="https://github.com/hakimel/reveal.js" target="_blank" rel="external">https://github.com/hakimel/reveal.js</a></td>
</tr>
<tr>
<td style="text-align:center">bespoke-fx</td>
<td style="text-align:center"><a href="https://github.com/ebow/bespoke-fx" target="_blank" rel="external">https://github.com/ebow/bespoke-fx</a></td>
</tr>
<tr>
<td style="text-align:center">slippy</td>
<td style="text-align:center"><a href="https://github.com/Seldaek/slippy" target="_blank" rel="external">https://github.com/Seldaek/slippy</a></td>
</tr>
</tbody>
</table>
<h2 id="前端导航网站"><a href="#前端导航网站" class="headerlink" title="前端导航网站"></a><strong>前端导航网站</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">前端导航网站</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">界面清爽的前端导航</td>
<td style="text-align:center"><a href="http://uxbees.com/index.html" target="_blank" rel="external">http://uxbees.com/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">前端导航</td>
<td style="text-align:center"><a href="http://whycss.com" target="_blank" rel="external">http://whycss.com</a></td>
</tr>
<tr>
<td style="text-align:center">前端网址导航</td>
<td style="text-align:center"><a href="http://www.daqianduan.com/nav" target="_blank" rel="external">http://www.daqianduan.com/nav</a></td>
</tr>
<tr>
<td style="text-align:center">前端名录</td>
<td style="text-align:center"><a href="http://sentsin.com/daohang" target="_blank" rel="external">http://sentsin.com/daohang</a></td>
</tr>
<tr>
<td style="text-align:center">前端导航</td>
<td style="text-align:center"><a href="http://123.jser.us" target="_blank" rel="external">http://123.jser.us</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发资源</td>
<td style="text-align:center"><a href="http://www.css88.com/nav" target="_blank" rel="external">http://www.css88.com/nav</a></td>
</tr>
<tr>
<td style="text-align:center">网址导航</td>
<td style="text-align:center"><a href="http://www.haourl.cn" target="_blank" rel="external">http://www.haourl.cn</a></td>
</tr>
<tr>
<td style="text-align:center">前端开发仓库 - 众多效果的收集地</td>
<td style="text-align:center"><a href="http://code.ciaoca.com" target="_blank" rel="external">http://code.ciaoca.com</a> </td>
</tr>
<tr>
<td style="text-align:center">前端资源导航</td>
<td style="text-align:center"><a href="https://github.com/jnoodle/f2e-collect" target="_blank" rel="external">https://github.com/jnoodle/f2e-collect</a></td>
</tr>
<tr>
<td style="text-align:center">F2E 前端导航</td>
<td style="text-align:center"><a href="http://f2e.im/static/pages/nav/index.html" target="_blank" rel="external">http://f2e.im/static/pages/nav/index.html</a></td>
</tr>
</tbody>
</table>
<h2 id="常用CDN"><a href="#常用CDN" class="headerlink" title="常用CDN"></a><strong>常用CDN</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">常用CDN</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">新浪CDN</td>
<td style="text-align:center"><a href="http://lib.sinaapp.com" target="_blank" rel="external">http://lib.sinaapp.com</a></td>
</tr>
<tr>
<td style="text-align:center">百度静态资源公共库</td>
<td style="text-align:center"><a href="http://cdn.code.baidu.com" target="_blank" rel="external">http://cdn.code.baidu.com</a></td>
</tr>
<tr>
<td style="text-align:center">360网站卫士常用前端公共库CDN服务</td>
<td style="text-align:center"><a href="http://libs.useso.com" target="_blank" rel="external">http://libs.useso.com</a></td>
</tr>
<tr>
<td style="text-align:center">Bootstrap中文网开源项目免费 CDN 服务</td>
<td style="text-align:center"><a href="http://www.bootcdn.cn" target="_blank" rel="external">http://www.bootcdn.cn</a></td>
</tr>
<tr>
<td style="text-align:center">开放静态文件 CDN - 七牛</td>
<td style="text-align:center"><a href="http://staticfile.org" target="_blank" rel="external">http://staticfile.org</a></td>
</tr>
<tr>
<td style="text-align:center">CDN加速 - jq22</td>
<td style="text-align:center"><a href="http://www.jq22.com/cdn" target="_blank" rel="external">http://www.jq22.com/cdn</a></td>
</tr>
<tr>
<td style="text-align:center">jQuery CDN</td>
<td style="text-align:center"><a href="http://code.jquery.com" target="_blank" rel="external">http://code.jquery.com</a></td>
</tr>
<tr>
<td style="text-align:center">Google jQuery CDN</td>
<td style="text-align:center"><a href="http://www.google-jquery-cdn.com" target="_blank" rel="external">http://www.google-jquery-cdn.com</a></td>
</tr>
<tr>
<td style="text-align:center">微软CDN</td>
<td style="text-align:center"><a href="http://www.asp.net/ajax/cdn" target="_blank" rel="external">http://www.asp.net/ajax/cdn</a></td>
</tr>
</tbody>
</table>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a><strong>Git</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Git</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">git-scm</td>
<td style="text-align:center"><a href="http://git-scm.com" target="_blank" rel="external">http://git-scm.com</a></td>
</tr>
<tr>
<td style="text-align:center">廖雪峰-Git教程</td>
<td style="text-align:center"><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰-Git教程</a></td>
</tr>
<tr>
<td style="text-align:center">git-for-windows</td>
<td style="text-align:center"><a href="https://git-for-windows.github.io" target="_blank" rel="external">https://git-for-windows.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">GitHub 添加 SSH keys</td>
<td style="text-align:center"><a href="http://daemon369.github.io/git/2015/03/10/add-ssh-keys-for-github" target="_blank" rel="external">http://daemon369.github.io/git/2015/03/10/add-ssh-keys-for-github</a></td>
</tr>
<tr>
<td style="text-align:center">gogithub</td>
<td style="text-align:center"><a href="http://www.worldhello.net/gotgithub/index.html" target="_blank" rel="external">http://www.worldhello.net/gotgithub/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">git常规命令练习</td>
<td style="text-align:center"><a href="http://pcottle.github.io/learnGitBranching" target="_blank" rel="external">http://pcottle.github.io/learnGitBranching</a></td>
</tr>
<tr>
<td style="text-align:center">git的资料整理</td>
<td style="text-align:center"><a href="https://github.com/xirong/my-git" target="_blank" rel="external">https://github.com/xirong/my-git</a></td>
</tr>
<tr>
<td style="text-align:center">我所记录的git命令（非常实用）</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/fanfan259/p/4810517.html" target="_blank" rel="external">http://www.cnblogs.com/fanfan259/p/4810517.html</a></td>
</tr>
<tr>
<td style="text-align:center">企业开发git工作流模式探索部分休整</td>
<td style="text-align:center"><a href="https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md" target="_blank" rel="external">https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md</a></td>
</tr>
<tr>
<td style="text-align:center">GitHub 漫游指南</td>
<td style="text-align:center"><a href="https://github.com/phodal/github-roam" target="_blank" rel="external">https://github.com/phodal/github-roam</a></td>
</tr>
<tr>
<td style="text-align:center">GitHub秘籍</td>
<td style="text-align:center"><a href="https://github.com/tiimgreen/github-cheat-sheet/blob/master/README.zh-cn.md" target="_blank" rel="external">https://github.com/tiimgreen/github-cheat-sheet/blob/master/README.zh-cn.md</a></td>
</tr>
<tr>
<td style="text-align:center">使用git和github进行协同开发流程</td>
<td style="text-align:center"><a href="http://livoras.com/post/28" target="_blank" rel="external">http://livoras.com/post/28</a></td>
</tr>
<tr>
<td style="text-align:center">动画方式练习git</td>
<td style="text-align:center"><a href="http://onlywei.github.io/explain-git-with-d3" target="_blank" rel="external">http://onlywei.github.io/explain-git-with-d3</a></td>
</tr>
</tbody>
</table>
<h2 id="各种日期日历"><a href="#各种日期日历" class="headerlink" title="各种日期日历"></a><strong>各种日期日历</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">各种日期日历</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">经典my97</td>
<td style="text-align:center"><a href="http://www.my97.net/dp/demo/index.htm" target="_blank" rel="external">http://www.my97.net/dp/demo/index.htm</a></td>
</tr>
<tr>
<td style="text-align:center">强大的独立日期选择器</td>
<td style="text-align:center"><a href="http://www.cnblogs.com/gbin1/archive/2012/04/16/2452105.html" target="_blank" rel="external">http://www.cnblogs.com/gbin1/archive/2012/04/16/2452105.html</a></td>
</tr>
<tr>
<td style="text-align:center">fullcalendar</td>
<td style="text-align:center"><a href="http://fullcalendar.io" target="_blank" rel="external">http://fullcalendar.io</a></td>
</tr>
<tr>
<td style="text-align:center">fullcalendar日历控件知识点集合</td>
<td style="text-align:center"><a href="http://blog.csdn.net/francislaw/article/details/7740630" target="_blank" rel="external">http://blog.csdn.net/francislaw/article/details/7740630</a></td>
</tr>
<tr>
<td style="text-align:center">中文api</td>
<td style="text-align:center"><a href="http://blog.sina.com.cn/s/blog_9475b1c101012c5f.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_9475b1c101012c5f.html</a></td>
</tr>
<tr>
<td style="text-align:center">农历日历</td>
<td style="text-align:center"><a href="https://github.com/zzyss86/LunarCalendar" target="_blank" rel="external">https://github.com/zzyss86/LunarCalendar</a></td>
</tr>
<tr>
<td style="text-align:center">超酷的仿百度带节日日历老黄历控件</td>
<td style="text-align:center"><a href="http://www.sucaisj.com/jiaoben/date/201509/16856.html" target="_blank" rel="external">http://www.sucaisj.com/jiaoben/date/201509/16856.html</a></td>
</tr>
<tr>
<td style="text-align:center">日期格式化</td>
<td style="text-align:center"><a href="http://momentjs.com" target="_blank" rel="external">http://momentjs.com</a></td>
</tr>
<tr>
<td style="text-align:center">大牛日历控件</td>
<td style="text-align:center"><a href="https://github.com/Johnqing/QPAYCalendar" target="_blank" rel="external">https://github.com/Johnqing/QPAYCalendar</a></td>
</tr>
<tr>
<td style="text-align:center">我群某管理作品</td>
<td style="text-align:center"><a href="https://github.com/Iamlars/dateMarker" target="_blank" rel="external">https://github.com/Iamlars/dateMarker</a></td>
</tr>
<tr>
<td style="text-align:center">input按位替换-官网</td>
<td style="text-align:center"><a href="http://digitalbush.com/projects/masked-input-plugin" target="_blank" rel="external">http://digitalbush.com/projects/masked-input-plugin</a></td>
</tr>
<tr>
<td style="text-align:center">input按位替换-github</td>
<td style="text-align:center"><a href="https://github.com/digitalBush/jquery.maskedinput/tree/1.2.2" target="_blank" rel="external">https://github.com/digitalBush/jquery.maskedinput/tree/1.2.2</a></td>
</tr>
<tr>
<td style="text-align:center">bootstrap-daterangepicker</td>
<td style="text-align:center"><a href="https://github.com/dangrossman/bootstrap-daterangepicker" target="_blank" rel="external">https://github.com/dangrossman/bootstrap-daterangepicker</a></td>
</tr>
<tr>
<td style="text-align:center">国外30个插件集合</td>
<td style="text-align:center"><a href="http://www.vandelaydesign.com/30-best-free-jquery-plugins" target="_blank" rel="external">http://www.vandelaydesign.com/30-best-free-jquery-plugins</a></td>
</tr>
<tr>
<td style="text-align:center">JavaScript datepicker</td>
<td style="text-align:center"><a href="http://dbushell.com/2012/10/09/pikaday-javascript-datepicker" target="_blank" rel="external">http://dbushell.com/2012/10/09/pikaday-javascript-datepicker</a></td>
</tr>
<tr>
<td style="text-align:center">Datepair.js</td>
<td style="text-align:center"><a href="http://jonthornton.github.io/Datepair.js" target="_blank" rel="external">http://jonthornton.github.io/Datepair.js</a></td>
</tr>
<tr>
<td style="text-align:center">一个风格多样的日历</td>
<td style="text-align:center"><a href="https://github.com/glad/glDatePicker" target="_blank" rel="external">https://github.com/glad/glDatePicker</a></td>
</tr>
<tr>
<td style="text-align:center">弹出层式的全日历</td>
<td style="text-align:center"><a href="http://amsul.ca/pickadate.js/date" target="_blank" rel="external">http://amsul.ca/pickadate.js/date</a></td>
</tr>
<tr>
<td style="text-align:center">jquery双日历</td>
<td style="text-align:center"><a href="http://www.daterangepicker.com" target="_blank" rel="external">http://www.daterangepicker.com</a></td>
</tr>
<tr>
<td style="text-align:center">大气实用jQuery手机移动端日历日期选择插件</td>
<td style="text-align:center"><a href="http://www.frankdemo.cn/index.php?c=content&amp;a=show&amp;id=115" target="_blank" rel="external">http://www.frankdemo.cn/index.php?c=content&amp;a=show&amp;id=115</a></td>
</tr>
<tr>
<td style="text-align:center">jQuery Mobile 移动开发中的日期插件Mobiscroll</td>
<td style="text-align:center"><a href="https://mobiscroll.com" target="_blank" rel="external">https://mobiscroll.com</a></td>
</tr>
</tbody>
</table>
<h2 id="Date-library"><a href="#Date-library" class="headerlink" title="Date library"></a><strong>Date library</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">Date library</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Datejs</td>
<td style="text-align:center"><a href="https://github.com/datejs/Datejs" target="_blank" rel="external">https://github.com/datejs/Datejs</a></td>
</tr>
<tr>
<td style="text-align:center">sugarjs</td>
<td style="text-align:center"><a href="http://sugarjs.com/api/Date" target="_blank" rel="external">http://sugarjs.com/api/Date</a></td>
</tr>
</tbody>
</table>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a><strong>其它</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">其它</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Mock.js 是一款模拟数据生成器</td>
<td style="text-align:center"><a href="http://mockjs.com" target="_blank" rel="external">http://mockjs.com</a></td>
</tr>
<tr>
<td style="text-align:center">特色的HTML框架可以创建精美的iOS应用</td>
<td style="text-align:center"><a href="http://framework7.taobao.org" target="_blank" rel="external">http://framework7.taobao.org</a></td>
</tr>
<tr>
<td style="text-align:center">淘宝SUI</td>
<td style="text-align:center"><a href="http://m.sui.taobao.org" target="_blank" rel="external">http://m.sui.taobao.org</a></td>
</tr>
<tr>
<td style="text-align:center">avalonjs</td>
<td style="text-align:center"><a href="http://avalonjs.github.io" target="_blank" rel="external">http://avalonjs.github.io</a></td>
</tr>
<tr>
<td style="text-align:center">Avalon新一代UI库： OniUI</td>
<td style="text-align:center"><a href="http://ued.qunar.com/oniui/index.html" target="_blank" rel="external">http://ued.qunar.com/oniui/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">avalon.oniui-基于avalon的组件库</td>
<td style="text-align:center"><a href="https://github.com/RubyLouvre/avalon.oniui" target="_blank" rel="external">https://github.com/RubyLouvre/avalon.oniui</a></td>
</tr>
<tr>
<td style="text-align:center">生成二维码(草料)</td>
<td style="text-align:center"><a href="http://cli.im" target="_blank" rel="external">http://cli.im</a></td>
</tr>
</tbody>
</table>
<h2 id="效果类"><a href="#效果类" class="headerlink" title="效果类"></a><strong>效果类</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">效果类</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">弹出层</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/58" target="_blank" rel="external">http://www.imooc.com/learn/58</a></td>
</tr>
<tr>
<td style="text-align:center">焦点图轮播特效</td>
<td style="text-align:center"><a href="http://www.imooc.com/learn/18" target="_blank" rel="external">http://www.imooc.com/learn/18</a></td>
</tr>
<tr>
<td style="text-align:center"><strong>HTML5 有哪些让你惊艳的 demo？</strong></td>
<td style="text-align:center"><a href="http://www.zhihu.com/question/24398907" target="_blank" rel="external">http://www.zhihu.com/question/24398907</a></td>
</tr>
</tbody>
</table>
<h2 id="弹出层"><a href="#弹出层" class="headerlink" title="弹出层"></a><strong>弹出层</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">弹出层</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">artDialog 最新版</td>
<td style="text-align:center"><a href="https://github.com/aui/artDialog" target="_blank" rel="external">https://github.com/aui/artDialog</a></td>
</tr>
<tr>
<td style="text-align:center">artDialog 文档</td>
<td style="text-align:center"><a href="http://aui.github.io/artDialog/doc/index.html" target="_blank" rel="external">http://aui.github.io/artDialog/doc/index.html</a></td>
</tr>
<tr>
<td style="text-align:center">google code 下载地址</td>
<td style="text-align:center"><a href="https://code.google.com/p/artdialog/downloads/list" target="_blank" rel="external">https://code.google.com/p/artdialog/downloads/list</a></td>
</tr>
<tr>
<td style="text-align:center">贤心弹出层</td>
<td style="text-align:center"><a href="http://layer.layui.com" target="_blank" rel="external">http://layer.layui.com</a></td>
</tr>
<tr>
<td style="text-align:center">响应式用户交互组件库</td>
<td style="text-align:center"><a href="https://github.com/bh-lay/UI" target="_blank" rel="external">https://github.com/bh-lay/UI</a></td>
</tr>
<tr>
<td style="text-align:center">sweetalert-有css3动画弹出层</td>
<td style="text-align:center"><a href="http://t4t5.github.io/sweetalert" target="_blank" rel="external">http://t4t5.github.io/sweetalert</a></td>
</tr>
</tbody>
</table>
<h2 id="优秀JavaScript项目"><a href="#优秀JavaScript项目" class="headerlink" title="优秀JavaScript项目"></a><strong>优秀JavaScript项目</strong></h2><table>
<thead>
<tr>
<th style="text-align:center">优秀JavaScript项目</th>
<th style="text-align:center">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Angular和Webpack种子文件</td>
<td style="text-align:center"><a href="https://github.com/AngularClass/angular2-webpack-starter" target="_blank" rel="external">https://github.com/AngularClass/angular2-webpack-starter</a></td>
</tr>
<tr>
<td style="text-align:center">Fis3面向前端的工程构建系统</td>
<td style="text-align:center"><a href="https://github.com/fex-team/fis3" target="_blank" rel="external">https://github.com/fex-team/fis3</a></td>
</tr>
<tr>
<td style="text-align:center">Fis3 DEMO</td>
<td style="text-align:center"><a href="https://github.com/fex-team/fis3-demo" target="_blank" rel="external">https://github.com/fex-team/fis3-demo</a></td>
</tr>
<tr>
<td style="text-align:center">前端JQuery系列:源码剖析</td>
<td style="text-align:center"><a href="https://github.com/JsAaron/jQuery" target="_blank" rel="external">https://github.com/JsAaron/jQuery</a></td>
</tr>
<tr>
<td style="text-align:center">avalon框架</td>
<td style="text-align:center"><a href="https://github.com/RubyLouvre/avalon" target="_blank" rel="external">https://github.com/RubyLouvre/avalon</a></td>
</tr>
<tr>
<td style="text-align:center">Microsoft ChakraCore 微软的Chakra引擎</td>
<td style="text-align:center"><a href="https://github.com/Microsoft/ChakraCore" target="_blank" rel="external">https://github.com/Microsoft/ChakraCore</a></td>
</tr>
<tr>
<td style="text-align:center">Quintus HTML游戏引擎</td>
<td style="text-align:center"><a href="https://github.com/cykod/Quintus" target="_blank" rel="external">https://github.com/cykod/Quintus</a></td>
</tr>
<tr>
<td style="text-align:center">一个用node.js搭建的有趣博客</td>
<td style="text-align:center"><a href="https://github.com/STRML/strml.net" target="_blank" rel="external">https://github.com/STRML/strml.net</a></td>
</tr>
<tr>
<td style="text-align:center">Web前端助手–FeHelper（Chrome扩展）</td>
<td style="text-align:center"><a href="https://github.com/zxlie/FeHelper" target="_blank" rel="external">https://github.com/zxlie/FeHelper</a></td>
</tr>
<tr>
<td style="text-align:center">百度前端技术学院</td>
<td style="text-align:center"><a href="https://github.com/baidu-ife/ife" target="_blank" rel="external">https://github.com/baidu-ife/ife</a></td>
</tr>
<tr>
<td style="text-align:center">Cheerio（node.js中的jQuery）</td>
<td style="text-align:center"><a href="https://github.com/cheeriojs/cheerio" target="_blank" rel="external">https://github.com/cheeriojs/cheerio</a></td>
</tr>
<tr>
<td style="text-align:center">nodejs的一个聊天软件 类似微信</td>
<td style="text-align:center"><a href="https://github.com/BryanYang/freechat" target="_blank" rel="external">https://github.com/BryanYang/freechat</a></td>
</tr>
<tr>
<td style="text-align:center">使用html5和node.js构建的网易云音乐</td>
<td style="text-align:center"><a href="https://github.com/stkevintan/Cube" target="_blank" rel="external">https://github.com/stkevintan/Cube</a></td>
</tr>
<tr>
<td style="text-align:center">babel ES6转换为ES5</td>
<td style="text-align:center"><a href="https://github.com/babel/babel" target="_blank" rel="external">https://github.com/babel/babel</a></td>
</tr>
<tr>
<td style="text-align:center">一个JS富文本编辑器</td>
<td style="text-align:center"><a href="https://github.com/fex-team/ueditor" target="_blank" rel="external">https://github.com/fex-team/ueditor</a></td>
</tr>
<tr>
<td style="text-align:center">一个JS脑图可视化工具</td>
<td style="text-align:center"><a href="https://github.com/fex-team/kityminder-core" target="_blank" rel="external">https://github.com/fex-team/kityminder-core</a></td>
</tr>
<tr>
<td style="text-align:center">一个JS写的Flappy Bird Game</td>
<td style="text-align:center"><a href="https://github.com/ellisonleao/clumsy-bird" target="_blank" rel="external">https://github.com/ellisonleao/clumsy-bird</a></td>
</tr>
<tr>
<td style="text-align:center">一个JS写的GBA模拟器</td>
<td style="text-align:center"><a href="https://github.com/taisel/IodineGBA" target="_blank" rel="external">https://github.com/taisel/IodineGBA</a></td>
</tr>
<tr>
<td style="text-align:center">SegmentFault写的Markdown解析器</td>
<td style="text-align:center"><a href="https://github.com/SegmentFault/HyperDown.js" target="_blank" rel="external">https://github.com/SegmentFault/HyperDown.js</a></td>
</tr>
<tr>
<td style="text-align:center">基于node.js的Ghost博客</td>
<td style="text-align:center"><a href="https://github.com/TryGhost/Ghost" target="_blank" rel="external">https://github.com/TryGhost/Ghost</a></td>
</tr>
<tr>
<td style="text-align:center">学习react的demos</td>
<td style="text-align:center"><a href="https://github.com/ruanyf/react-demos" target="_blank" rel="external">https://github.com/ruanyf/react-demos</a></td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> 前端学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[ssh-add 执行出错]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/08/23/linux%E5%AD%A6%E4%B9%A0-2016-08-23-ssh-add%E9%94%99%E8%AF%AF/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
版本: V 0.0.1
日期: 2016年8月23日
</code></pre><a id="more"></a>
<ul>
<li><strong><em>Could not open a connection to your authentication agenty</em></strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">若执行ssh-add /path/to/xxx 时出现这个错误:Could not open a connection to your authentication agent，则先执行如下命令即可：</div><div class="line">ssh-agent bash</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[wget命令学习]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/07/19/linux%E5%AD%A6%E4%B9%A0-2015-01-28-wget%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
时间: 2016年7月19日
版本: 0.0.2
</code></pre><a id="more"></a>
<hr>
<h2 id="Wget-的使用"><a href="#Wget-的使用" class="headerlink" title="Wget 的使用"></a><strong><em>Wget 的使用</em></strong></h2><ul>
<li>支持断点下传功能;</li>
<li>同时支持FTP和HTTP下载方式;</li>
<li>支持代理服务器;</li>
<li>设置方便简单;</li>
<li>程序小，完全免费;</li>
</ul>
<p><strong><em>命令格式：</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget [参数列表] [目标软件、网页的网址]</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">wget -r -p -np -k http://xxx.com/xxx</div><div class="line">-r,  --recursive（递归）          specify recursive download.（指定递归下载）</div><div class="line">-k,  --convert-links（转换链接）      make links <span class="keyword">in</span> downloaded HTML point to <span class="built_in">local</span> files.（将下载的HTML页面中的链接转换为相对链接即本地链接）</div><div class="line">-p,  --page-requisites（页面必需元素）    get all images, etc. needed to display HTML page.（下载所有的图片等页面显示所需的内容）</div><div class="line">-np, --no-parent（不追溯至父级）          don<span class="string">'t ascend to the parent directory.</span></div><div class="line">另外断点续传用-nc参数 日志 用-o参数</div></pre></td></tr></table></figure>
<h3 id="1、启动类参数"><a href="#1、启动类参数" class="headerlink" title="1、启动类参数"></a><strong><em>1、启动类参数</em></strong></h3><p>这一类参数主要提供软件的一些基本信息:</p>
<ul>
<li>-V,–version 显示软件版本号然后退出；</li>
<li>-h,–help显示软件帮助信息；</li>
<li>-e,–execute=COMMAND 执行一个 “.wgetrc”命令</li>
</ul>
<p>以上每一个功能有长短两个参数，长短功能一样，都可以使用。需要注意的是，这里的-e参数是执行一个.wgettrc的命令，.wgettrc命令其实是一个参数列表，直接将软件需要的参数写在一起就可以了。</p>
<h3 id="2、文件处理参数"><a href="#2、文件处理参数" class="headerlink" title="2、文件处理参数"></a><strong><em>2、文件处理参数</em></strong></h3><p>这类参数定义软件log文件的输出方式等；</p>
<ul>
<li>-o,–output-file=FILE 将软件输出信息保存到文件；</li>
<li>-a,–append-output=FILE将软件输出信息追加到文件；</li>
<li>-d,–debug显示输出信息；</li>
<li>-q,–quiet 不显示输出信息；</li>
<li>-i,–input-file=FILE 从文件中取得URL；</li>
</ul>
<p>示例1：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载192.168.1.168首页并且显示下载信息</span></div><div class="line">wget <span class="_">-d</span> http://192.168.1.168</div></pre></td></tr></table></figure>
<p>示例2:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载 192.168.1.168首页并且不显示任何信息</span></div><div class="line">wget -q http://192.168.1.168</div></pre></td></tr></table></figure>
<p>示例3:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载 filelist.txt中所包含的链接的所有文件</span></div><div class="line">wget -i filelist.txt</div></pre></td></tr></table></figure>
<h3 id="下载参数"><a href="#下载参数" class="headerlink" title="下载参数"></a><strong><em>下载参数</em></strong></h3><p>下载参数定义下载重复次数、保存文件名等；</p>
<ul>
<li>-t,–tries=NUMBER 是否下载次数（0表示无穷次）</li>
<li>-O –output-document=FILE下载文件保存为别的文件名</li>
<li>-nc, –no-clobber 不要覆盖已经存在的文件</li>
<li>-N,–timestamping只下载比本地新的文件</li>
<li>-T,–timeout=SECONDS 设置超时时间</li>
<li>-Y,–proxy=on/off 关闭代理</li>
</ul>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载192.168.1.168的首页并将下载过程中的的输入信息保存到 test.htm文件中</span></div><div class="line">wget -o test.htm http://192.168.1.168</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Qt给应用程序添加版本信息]]></title>
      <url>/Qt%E5%AD%A6%E4%B9%A0/2016/07/11/Qt%E5%AD%A6%E4%B9%A0-2016-07-11-Qt%E7%BB%99%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者:daodaoliang
时间:2016年7月11日16:12:09
版本:V 0.0.4
邮箱:daodaoliang@yeah.net
</code></pre><a id="more"></a>
<h3 id="0-环境说明"><a href="#0-环境说明" class="headerlink" title="0. 环境说明"></a>0. 环境说明</h3><ul>
<li>系统环境: win10 64位</li>
<li>Qt环境: Qt-lib 5.6.0</li>
<li>QCreat0r 3.6.1</li>
</ul>
<h3 id="1-使用-rc文件"><a href="#1-使用-rc文件" class="headerlink" title="1. 使用.rc文件"></a>1. 使用.rc文件</h3><h4 id="1-1-在工程项目下创建-rc-文件"><a href="#1-1-在工程项目下创建-rc-文件" class="headerlink" title="1.1 在工程项目下创建 .rc 文件"></a>1.1 在工程项目下创建 <code>.rc</code> 文件</h4><p> 例如 <code>version.rc</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"># if defined(UNDER_CE)</div><div class="line">#  include &lt;winbase.h&gt;</div><div class="line"># else</div><div class="line">#  include &lt;windows.h&gt;</div><div class="line"># endif</div><div class="line"></div><div class="line">VS_VERSION_INFO VERSIONINFO</div><div class="line">	FILEVERSION 1,0,2,0</div><div class="line">	PRODUCTVERSION 1,0,2,0</div><div class="line">	FILEFLAGSMASK 0x3fL</div><div class="line">#ifdef _DEBUG</div><div class="line">	FILEFLAGS VS_FF_DEBUG</div><div class="line">#else</div><div class="line">	FILEFLAGS 0x0L</div><div class="line">#endif</div><div class="line">	FILEOS VOS__WINDOWS32</div><div class="line">	FILETYPE VFT_DLL</div><div class="line">	FILESUBTYPE 0x0L</div><div class="line">	BEGIN</div><div class="line">		BLOCK &quot;StringFileInfo&quot;</div><div class="line">		BEGIN</div><div class="line">			BLOCK &quot;040904b0&quot;</div><div class="line">			BEGIN</div><div class="line">				VALUE &quot;CompanyName&quot;, &quot;NS\0&quot;</div><div class="line">				VALUE &quot;FileDescription&quot;, &quot;数据库测试类库\0&quot;</div><div class="line">				VALUE &quot;FileVersion&quot;, &quot;1.0.1.0\0&quot;</div><div class="line">				VALUE &quot;LegalCopyright&quot;, &quot;@2016\0&quot;</div><div class="line">				VALUE &quot;OriginalFilename&quot;, &quot;NDBPool1.dll\0&quot;</div><div class="line">				VALUE &quot;ProductName&quot;, &quot;NDBPool\0&quot;</div><div class="line">				VALUE &quot;ProductVersion&quot;, &quot;1.0.1.0\0&quot;</div><div class="line">			END</div><div class="line">		END</div><div class="line">		BLOCK &quot;VarFileInfo&quot;</div><div class="line">		BEGIN</div><div class="line">			VALUE &quot;Translation&quot;, 0x0409, 1200</div><div class="line">		END</div><div class="line">	END</div><div class="line">/* End of Version info */</div></pre></td></tr></table></figure>
<h4 id="1-2-修改-pro-文件"><a href="#1-2-修改-pro-文件" class="headerlink" title="1.2 修改 pro 文件"></a>1.2 修改 <code>pro</code> 文件</h4><p>在项目的工程文件里面添加 <code>RC_FILE += ./version.rc</code></p>
<h3 id="2-使用内置变量"><a href="#2-使用内置变量" class="headerlink" title="2. 使用内置变量"></a>2. 使用内置变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">VERSION = 1.2.3</div><div class="line">QMAKE_TARGET_PRODUCT = 产品名称</div><div class="line">QMAKE_TARGET_COMPANY = 公司</div><div class="line">QMAKE_TARGET_DESCRIPTION = 文件描述</div><div class="line">QMAKE_TARGET_COPYRIGHT = 版权</div></pre></td></tr></table></figure>
<h3 id="3-防坑提示"><a href="#3-防坑提示" class="headerlink" title="3. 防坑提示"></a>3. 防坑提示</h3><p><strong>一定要确保rc文件为GBK的格式,不然会乱码,生成的rc文件默认都是UTF-8格式</strong></p>
]]></content>
      
        <categories>
            
            <category> Qt学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Linux配置秘钥登录ssh]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/06/01/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-6-1-Linux%E9%85%8D%E7%BD%AE%E7%A7%98%E9%92%A5%E7%99%BB%E5%BD%95ssh/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: aodaoliang
原文: https://hyjk2000.github.io/2012/03/16/how-to-set-up-ssh-keys/
时间: 2016-6-1
版本: 0.0.1
邮箱: daodaoliang@yeah.net
</code></pre><a id="more"></a>
<p>我们一般使用 PuTTY 等 SSH 客户端来远程管理 Linux 服务器。但是，一般的密码方式登录，容易有密码被暴力破解的问题。所以，一般我们会将 SSH 的端口设置为默认的 22 以外的端口，或者禁用 root 账户登录。其实，有一个更好的办法来保证安全，而且让你可以放心地用 root 账户从远程登录——那就是通过密钥方式登录。</p>
<p>密钥形式登录的原理是：利用密钥生成器制作一对密钥——一只公钥和一只私钥。将公钥添加到服务器的某个账户上，然后在客户端利用私钥即可完成认证并登录。这样一来，没有私钥，任何人都无法通过 SSH 暴力破解你的密码来远程登录到系统。此外，如果将公钥复制到其他账户甚至主机，利用私钥也可以登录。</p>
<p>下面来讲解如何在 Linux 服务器上制作密钥对，将公钥添加给账户，设置 SSH，最后通过客户端登录。</p>
<h2 id="1-制作密钥对"><a href="#1-制作密钥对" class="headerlink" title="1. 制作密钥对"></a>1. 制作密钥对</h2><p>首先在服务器上制作密钥对。首先用密码登录到你打算使用密钥登录的账户，然后执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@host ~]$ ssh-keygen  &lt;== 建立密钥对</div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file in which to save the key (/root/.ssh/id_rsa): &lt;== 按 Enter</div><div class="line">Created directory &apos;/root/.ssh&apos;.</div><div class="line">Enter passphrase (empty for no passphrase): &lt;== 输入密钥锁码，或直接按 Enter 留空</div><div class="line">Enter same passphrase again: &lt;== 再输入一遍密钥锁码</div><div class="line">Your identification has been saved in /root/.ssh/id_rsa. &lt;== 私钥</div><div class="line">Your public key has been saved in /root/.ssh/id_rsa.pub. &lt;== 公钥</div><div class="line">The key fingerprint is:</div><div class="line">0f:d3:e7:1a:1c:bd:5c:03:f1:19:f1:22:df:9b:cc:08 root@host</div></pre></td></tr></table></figure>
<p>密钥锁码在使用私钥时必须输入，这样就可以保护私钥不被盗用。当然，也可以留空，实现无密码登录。</p>
<p>现在，在 root 用户的家目录中生成了一个 .ssh 的隐藏目录，内含两个密钥文件。id_rsa 为私钥，id_rsa.pub 为公钥。</p>
<h2 id="2-在服务器上安装公钥"><a href="#2-在服务器上安装公钥" class="headerlink" title="2. 在服务器上安装公钥"></a>2. 在服务器上安装公钥</h2><p>键入以下命令，在服务器上安装公钥：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@host ~]$ cd .ssh</div><div class="line">[root@host .ssh]$ cat id_rsa.pub &gt;&gt; authorized_keys</div></pre></td></tr></table></figure>
<p>如此便完成了公钥的安装。为了确保连接成功，请保证以下文件权限正确：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@host .ssh]$ chmod 600 authorized_keys</div><div class="line">[root@host .ssh]$ chmod 700 ~/.ssh</div></pre></td></tr></table></figure>
<h2 id="3-设置-SSH，打开密钥登录功能"><a href="#3-设置-SSH，打开密钥登录功能" class="headerlink" title="3. 设置 SSH，打开密钥登录功能"></a>3. 设置 SSH，打开密钥登录功能</h2><p>编辑 /etc/ssh/sshd_config 文件，进行如下设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">RSAAuthentication yes</div><div class="line">PubkeyAuthentication yes</div></pre></td></tr></table></figure>
<p>另外，请留意 root 用户能否通过 SSH 登录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PermitRootLogin yes</div></pre></td></tr></table></figure>
<p>当你完成全部设置，并以密钥方式登录成功后，再禁用密码登录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PasswordAuthentication no</div></pre></td></tr></table></figure>
<p>最后，重启 SSH 服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@host .ssh]$ service sshd restart</div></pre></td></tr></table></figure>
<h2 id="4-将私钥下载到客户端，然后转换为-PuTTY-能使用的格式"><a href="#4-将私钥下载到客户端，然后转换为-PuTTY-能使用的格式" class="headerlink" title="4. 将私钥下载到客户端，然后转换为 PuTTY 能使用的格式"></a>4. 将私钥下载到客户端，然后转换为 PuTTY 能使用的格式</h2><p>使用 WinSCP、SFTP 等工具将私钥文件 id_rsa 下载到客户端机器上。然后打开 PuTTYGen，单击 Actions 中的 Load 按钮，载入你刚才下载到的私钥文件。如果你刚才设置了密钥锁码，这时则需要输入。</p>
<p>载入成功后，PuTTYGen 会显示密钥相关的信息。在 Key comment 中键入对密钥的说明信息，然后单击 Save private key 按钮即可将私钥文件存放为 PuTTY 能使用的格式。</p>
<p>今后，当你使用 PuTTY 登录时，可以在左侧的 Connection -&gt; SSH -&gt; Auth 中的 Private key file for authentication: 处选择你的私钥文件，然后即可登录了，过程中只需输入密钥锁码即可。</p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[日常linux命令之iftop]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/05/23/linux%E5%AD%A6%E4%B9%A0-2016-05-23-%E6%97%A5%E5%B8%B8linux%E5%91%BD%E4%BB%A4%E4%B9%8Biftop/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者: daodaoliang
时间: 2016年5月23日
版本: v0.0.1
邮箱: daodaoliang@yeah.net
</code></pre><a id="more"></a>
<p>日常用的网络流量查看工具为 <code>iftop</code>， 但是他仅仅只能简单的查看网络的流量情况，若是想要查看某个链接的流量情况就比较困难了，因此再次推荐<code>iftop</code> 这个工具</p>
<h3 id="0x01-安装-iftop"><a href="#0x01-安装-iftop" class="headerlink" title="0x01 安装 iftop"></a>0x01 安装 iftop</h3><p><a href="http://www.ex-parrot.com/pdw/iftop/" target="_blank" rel="external">我是官方网站</a></p>
<p><strong>编译安装iftop示例:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># centos</span></div><div class="line">yum install flex byacc  libpcap ncurses ncurses-devel libpcap-devel</div><div class="line"></div><div class="line"><span class="comment"># debian</span></div><div class="line">apt-get install flex byacc  libpcap0.8 libncurses5</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">wget http://www.ex-parrot.com/pdw/iftop/download/iftop-0.17.tar.gz</div><div class="line"></div><div class="line">tar zxvf iftop-0.17.tar.gz</div><div class="line"></div><div class="line"><span class="built_in">cd</span> iftop-0.17</div><div class="line"></div><div class="line">./configure</div><div class="line"></div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<p><strong>一键安装iftop 示例:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 安装EPEL源</span></div><div class="line"></div><div class="line"><span class="comment"># CentOS/RHEL 5 ：</span></div><div class="line">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-5.noarch.rpm</div><div class="line"></div><div class="line"><span class="comment"># CentOS/RHEL 6 ：</span></div><div class="line">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm</div><div class="line"></div><div class="line"><span class="comment"># CentOS/RHEL 7 ：</span></div><div class="line">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># centos</span></div><div class="line">yum install iftop</div><div class="line"></div><div class="line"><span class="comment"># debian</span></div><div class="line">apt-get install iftop</div></pre></td></tr></table></figure>
<h3 id="0x02-iftop-界面说明"><a href="#0x02-iftop-界面说明" class="headerlink" title="0x02  iftop 界面说明"></a>0x02  iftop 界面说明</h3><p>直接执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iftop -i eth1</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/linux学习/iftop.png" alt="iftop"></p>
<p><strong>界面说明:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 顶部: 带宽显示， 可以通过按键 `L` 进行切换流量的刻度;</span></div><div class="line"></div><div class="line"><span class="comment"># 中间部分: 外部链接列表，列出所有和本机有网络交互的链接信息, 其中右边部分的数字分别为 2s、10s、40s平均流量，=&gt;代表发送数据，&lt;= 代表接收数据;</span></div><div class="line"></div><div class="line"><span class="comment"># 底部: TX-发送流量 、RX-接收流量、TOTAL-总流量、Cumm-运行iftop到目前时间的总流量、peak-流量峰值、rates-分别表示过去 2s 10s 40s 的平均流量</span></div></pre></td></tr></table></figure>
<h3 id="0x03-iftop-常用参数"><a href="#0x03-iftop-常用参数" class="headerlink" title="0x03 iftop 常用参数"></a>0x03 iftop 常用参数</h3><p><strong>-i:</strong>  设定监测的网卡，如：# iftop -i eth1</p>
<p><strong>-B:</strong>  以bytes为单位显示流量(默认是bits)，如：# iftop -B</p>
<p><strong>-n:</strong> 使host信息默认直接都显示IP，如：# iftop -n</p>
<p><strong>-N:</strong> 使端口信息默认直接都显示端口号，如: # iftop -N</p>
<p><strong>-F:</strong> 显示特定网段的进出流量，如# iftop -F 10.10.1.0/24或# iftop -F 10.10.1.0/255.255.255.0</p>
<p><strong>-h:</strong> （display this message），帮助，显示参数信息</p>
<p><strong>-p:</strong> 使用这个参数后，中间的列表显示的本地主机信息，出现了本机以外的IP信息;</p>
<p><strong>-b:</strong> 使流量图形条默认就显示;</p>
<p><strong>-f:</strong> 这个暂时还不太会用，过滤计算包用的;</p>
<p><strong>-P:</strong> 使host信息及端口信息默认就都显示;</p>
<p><strong>-m:</strong> 设置界面最上边的刻度的最大值，刻度分五个大段显示，例：# iftop -m 100M;</p>
<h3 id="0x04-iftop画面上一些操作命令"><a href="#0x04-iftop画面上一些操作命令" class="headerlink" title="0x04 iftop画面上一些操作命令"></a>0x04 iftop画面上一些操作命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">按h切换是否显示帮助;</div><div class="line"></div><div class="line">按n切换显示本机的IP或主机名;</div><div class="line"></div><div class="line">按s切换是否显示本机的host信息;</div><div class="line"></div><div class="line">按d切换是否显示远端目标主机的host信息;</div><div class="line"></div><div class="line">按t切换显示格式为2行/1行/只显示发送流量/只显示接收流量;</div><div class="line"></div><div class="line">按N切换显示端口号或端口服务名称;</div><div class="line"></div><div class="line">按S切换是否显示本机的端口信息;</div><div class="line"></div><div class="line">按D切换是否显示远端目标主机的端口信息;</div><div class="line"></div><div class="line">按p切换是否显示端口信息;</div><div class="line"></div><div class="line">按P切换暂停/继续显示;</div><div class="line"></div><div class="line">按b切换是否显示平均流量图形条;</div><div class="line"></div><div class="line">按B切换计算2秒或10秒或40秒内的平均流量;</div><div class="line"></div><div class="line">按T切换是否显示每个连接的总流量;</div><div class="line"></div><div class="line">按l打开屏幕过滤功能，输入要过滤的字符，比如ip,按回车后，屏幕就只显示这个IP相关的流量信息;</div><div class="line"></div><div class="line">按L切换显示画面上边的刻度;刻度不同，流量图形条会有变化;</div><div class="line"></div><div class="line">按j或按k可以向上或向下滚动屏幕显示的连接记录;</div><div class="line"></div><div class="line">按1或2或3可以根据右侧显示的三列流量数据进行排序;</div><div class="line"></div><div class="line">按&lt;根据左边的本机名或IP排序;</div><div class="line"></div><div class="line">按&gt;根据远端目标主机的主机名或IP排序;</div><div class="line"></div><div class="line">按o切换是否固定只显示当前的连接;</div><div class="line"></div><div class="line">按f可以编辑过滤代码，这是翻译过来的说法，我还没用过这个！</div><div class="line"></div><div class="line">按!可以使用shell命令，这个没用过！没搞明白啥命令在这好用呢！</div><div class="line"></div><div class="line">按q退出监控。</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[iptables禁用IP]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/05/23/linux%E5%AD%A6%E4%B9%A0-2016-5-23-iptables%E7%A6%81%E7%94%A8IP/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang
时间: 2016-5-23
版本: V0.0.1
邮箱: daodaoliang@yeah.net
</code></pre><a id="more"></a>
<hr>
<h3 id="0x01-确保服务启动"><a href="#0x01-确保服务启动" class="headerlink" title="0x01 确保服务启动"></a>0x01 确保服务启动</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">service iptables status</div><div class="line">/etc/init.d/iptables stop</div><div class="line">/etc/init.d/iptables start</div></pre></td></tr></table></figure>
<h3 id="0x02-禁用IP"><a href="#0x02-禁用IP" class="headerlink" title="0x02 禁用IP"></a>0x02 禁用IP</h3><p><strong>禁用单个IP:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iptables -I INPUT <span class="_">-s</span> 114.113.112.111 -j DROP</div></pre></td></tr></table></figure>
<p><strong>禁用IP段的命令:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">iptables -I INPUT <span class="_">-s</span> 114.113.0.0/16 -j DROP</div><div class="line">iptables -I INPUT <span class="_">-s</span> 114.112.0.0/16 -j DROP</div><div class="line">iptables -I INPUT <span class="_">-s</span> 114.111.1.0/24 -j DROP</div><div class="line">iptables -I INPUT <span class="_">-s</span> 114.111.2.0/24 -j DROP</div></pre></td></tr></table></figure>
<p><strong>禁用整个IP段的命令:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iptables -I INPUT <span class="_">-s</span> 114.0.0.0/8 -j DROP</div></pre></td></tr></table></figure>
<h3 id="0x03-服务器自启动"><a href="#0x03-服务器自启动" class="headerlink" title="0x03 服务器自启动"></a>0x03 服务器自启动</h3><ul>
<li>把它加到/etc/rc.local中</li>
<li><code>iptables-save &gt;/etc/sysconfig/iptables</code> 可以把你当前的 iptables 规则放到 <code>/etc/sysconfig/iptables</code> 中，系统启动 iptables 时自动执行。</li>
<li><code>service   iptables   save</code> 也可以把你当前的 iptables 规则放 <code>/etc/sysconfig/iptables</code> 中，系统启动 iptables 时自动执行。</li>
</ul>
<h3 id="0x04-解封IP"><a href="#0x04-解封IP" class="headerlink" title="0x04 解封IP"></a>0x04 解封IP</h3><ul>
<li>iptables -L –line-numbers 然后iptables -D INPUT 序号</li>
</ul>
<h3 id="0x04-开启端口"><a href="#0x04-开启端口" class="headerlink" title="0x04 开启端口"></a>0x04 开启端口</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">iptables -I INPUT -p tcp --dport 80 -j ACCEPT</div><div class="line">iptables -I INPUT -p tcp --dport 22 -j ACCEPT</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/etc/rc.d/init.d/iptables save</div><div class="line">or</div><div class="line">iptables-save</div></pre></td></tr></table></figure>
<h3 id="0x05-关闭端口"><a href="#0x05-关闭端口" class="headerlink" title="0x05 关闭端口"></a>0x05 关闭端口</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">iptables -I INPUT -p tcp --dport 80 -j DROP</div><div class="line">iptables -I INPUT -p tcp --dport 22 -j DROP</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/etc/rc.d/init.d/iptables save</div><div class="line">or</div><div class="line">iptables-save</div></pre></td></tr></table></figure>
<h3 id="0x06-简单例子"><a href="#0x06-简单例子" class="headerlink" title="0x06 简单例子"></a>0x06 简单例子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">*filter</div><div class="line">:INPUT ACCEPT [0:0]</div><div class="line">:FORWARD ACCEPT [0:0]</div><div class="line">:OUTPUT ACCEPT [0:0]</div><div class="line">-A INPUT -s 49.70.70.38/32 -j DROP</div><div class="line">-A INPUT -s 112.232.74.87/32 -j DROP</div><div class="line">-A INPUT -i lo -j ACCEPT</div><div class="line">-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 443 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 3000 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 5000 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 1022 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 5555 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 5556 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 10022 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT</div><div class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 3013 -j ACCEPT</div><div class="line">-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT</div><div class="line">-A INPUT -j REJECT --reject-with icmp-port-unreachable</div><div class="line">-A FORWARD -j REJECT --reject-with icmp-port-unreachable</div><div class="line">-A OUTPUT -o lo -j ACCEPT</div><div class="line">-A OUTPUT -j ACCEPT</div><div class="line">COMMIT</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql权限说明]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2016/05/18/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2016-05-18-mysql%E6%9D%83%E9%99%90%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<pre><code>作者：daodaoliang
时间：2016年5月18日
版本：0.0.1
邮箱：daodaoliang@yeah.net
</code></pre><p><a href="http://dev.mysql.com/doc/refman/5.6/en/privileges-provided.html#priv_references" target="_blank" rel="external">官网相关文档</a></p>
<a id="more"></a>
<h2 id="1-mysql-权限概述"><a href="#1-mysql-权限概述" class="headerlink" title="1.mysql 权限概述"></a>1.mysql 权限概述</h2><p>mysql允许以下几种类别的权限操作：</p>
<ul>
<li>管理员权限，使用户能够管理mysql服务器的相关操作，这些权限都是全局的因为并不针对指定数据库做权限；</li>
<li>数据库权限，可以管理数据库以及包含在数据库里面的对象内容，可以对特定数据库，也可以对全部数据库进行权限操作；</li>
<li>数据库对象权限例如数据表、索引、视图和存储过程中，可以管理指定数据库的指定对象，也可以管理指定数据库的所有对象，也可以管理所有数据库的所有对象；</li>
</ul>
<p>mysql 和权限相关的信息都存储在mysql数据库里面的 <code>user</code> 、 <code>db</code>、 <code>tables_priv</code> 、 <code>columns_priv</code> 和 <code>procs_priv</code>, mysql 数据库在启动时或者reload时都会把权限内容读取到内存中；</p>
<h2 id="2-mysql-权限列表"><a href="#2-mysql-权限列表" class="headerlink" title="2.mysql 权限列表"></a>2.mysql 权限列表</h2><table>
<thead>
<tr>
<th style="text-align:left">权限名字</th>
<th style="text-align:left">权限表中列的名字</th>
<th style="text-align:left">权限级别</th>
<th style="text-align:left">权限内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CREATE</td>
<td style="text-align:left">Create_priv</td>
<td style="text-align:left">数据库、表、索引</td>
<td style="text-align:left">允许创建新的数据库、表、索引</td>
</tr>
<tr>
<td style="text-align:left">DROP</td>
<td style="text-align:left">Drop_priv</td>
<td style="text-align:left">数据库、表</td>
<td style="text-align:left">允许删除存在的数据库、表、视图</td>
</tr>
<tr>
<td style="text-align:left">GRANT OPTION</td>
<td style="text-align:left">Grant_priv</td>
<td style="text-align:left">数据库、表、存储过程</td>
<td style="text-align:left">允许赋予或者移除其他用户你已经有的权限</td>
</tr>
<tr>
<td style="text-align:left">LOCK TABLES</td>
<td style="text-align:left">Lock_tables_priv</td>
<td style="text-align:left">数据库</td>
<td style="text-align:left">允许使用LOCK TABLES显式锁定用户表</td>
</tr>
<tr>
<td style="text-align:left">REFERENCES</td>
<td style="text-align:left">References_priv</td>
<td style="text-align:left">数据库、表</td>
<td style="text-align:left">官网也没有说清楚，貌似和外键有关</td>
</tr>
<tr>
<td style="text-align:left">EVENT</td>
<td style="text-align:left">Event_priv</td>
<td style="text-align:left">数据库</td>
<td style="text-align:left">允许创建和查看event，同时create, alter, drop也需要该权限</td>
</tr>
<tr>
<td style="text-align:left">ALTER</td>
<td style="text-align:left">Alter_priv</td>
<td style="text-align:left">表</td>
<td style="text-align:left">允许使用 ALTER TABLE该表表结构</td>
</tr>
<tr>
<td style="text-align:left">DELETE</td>
<td style="text-align:left">Delete_priv</td>
<td style="text-align:left">表</td>
<td style="text-align:left">允许在表中删除列</td>
</tr>
<tr>
<td style="text-align:left">INDEX</td>
<td style="text-align:left">Index_priv</td>
<td style="text-align:left">表</td>
<td style="text-align:left">允许在表中创建和删除索引，如果有create 权限可以在 create table时定义索引</td>
</tr>
<tr>
<td style="text-align:left">INSERT</td>
<td style="text-align:left">Insert_priv</td>
<td style="text-align:left">表、列</td>
<td style="text-align:left">允许在数据表中插入数据</td>
</tr>
<tr>
<td style="text-align:left">SELECT</td>
<td style="text-align:left">Select_priv</td>
<td style="text-align:left">表、列</td>
<td style="text-align:left">允许查询数据库，注意update和delete在where 子句中也是需要select 权限</td>
</tr>
<tr>
<td style="text-align:left">UPDATE</td>
<td style="text-align:left">Update_priv</td>
<td style="text-align:left">表、列</td>
<td style="text-align:left">允许更新数据库里面的列信息</td>
</tr>
<tr>
<td style="text-align:left">CREATE TEMPORARY TABLES</td>
<td style="text-align:left">Create_tmp_table_priv</td>
<td style="text-align:left">表</td>
<td style="text-align:left">允许创建临时表</td>
</tr>
<tr>
<td style="text-align:left">TRIGGER</td>
<td style="text-align:left">Trigger_priv</td>
<td style="text-align:left">表</td>
<td style="text-align:left">允许触发操作</td>
</tr>
<tr>
<td style="text-align:left">CREATE VIEW</td>
<td style="text-align:left">Create_view_priv</td>
<td style="text-align:left">视图</td>
<td style="text-align:left">允许创建视图</td>
</tr>
<tr>
<td style="text-align:left">SHOW VIEW</td>
<td style="text-align:left">Show_view_priv</td>
<td style="text-align:left">视图</td>
<td style="text-align:left">允许允许使用SHOW CREATE VIEW</td>
</tr>
<tr>
<td style="text-align:left">ALTER ROUTINE</td>
<td style="text-align:left">Alter_routine_priv</td>
<td style="text-align:left">存储过程</td>
<td style="text-align:left">允许修改和删除存储过程或者函数</td>
</tr>
<tr>
<td style="text-align:left">CREATE ROUTINE</td>
<td style="text-align:left">Create_routine_priv</td>
<td style="text-align:left">存储过程</td>
<td style="text-align:left">允许创建存储过程</td>
</tr>
<tr>
<td style="text-align:left">EXECUTE</td>
<td style="text-align:left">Execute_priv</td>
<td style="text-align:left">存储过程</td>
<td style="text-align:left">允许执行存储过程</td>
</tr>
<tr>
<td style="text-align:left">FILE</td>
<td style="text-align:left">File_priv</td>
<td style="text-align:left">服务器上关联的数据文件</td>
<td style="text-align:left">允许读写相关文件</td>
</tr>
<tr>
<td style="text-align:left">CREATE TABLESPACE</td>
<td style="text-align:left">Create_tablespace_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许 create, alter, or drop tablespaces</td>
</tr>
<tr>
<td style="text-align:left">CREATE USER</td>
<td style="text-align:left">Create_user_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许 ALTER USER, CREATE USER, DROP USER, RENAME USER, and REVOKE ALL PRIVILEGES</td>
</tr>
<tr>
<td style="text-align:left">PROCESS</td>
<td style="text-align:left">Process_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许查看进程信息权限</td>
</tr>
<tr>
<td style="text-align:left">PROXY</td>
<td style="text-align:left">see proxies_priv table</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许用户代理</td>
</tr>
<tr>
<td style="text-align:left">RELOAD</td>
<td style="text-align:left">Reload_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许使用 FLUSH 和 mysqladmin</td>
</tr>
<tr>
<td style="text-align:left">REPLICATION CLIENT</td>
<td style="text-align:left">Repl_client_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许 SHOW MASTER STATUS 、 SHOW SLAVE STATUS 和 SHOW BINARY LOGS</td>
</tr>
<tr>
<td style="text-align:left">REPLICATION SLAVE</td>
<td style="text-align:left">Repl_slave_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">复制权限</td>
</tr>
<tr>
<td style="text-align:left">SHOW DATABASES</td>
<td style="text-align:left">Show_db_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许 SHOW DATABASE</td>
</tr>
<tr>
<td style="text-align:left">SHUTDOWN</td>
<td style="text-align:left">Shutdown_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许 mysqladmin shutdown</td>
</tr>
<tr>
<td style="text-align:left">SUPER</td>
<td style="text-align:left">Super_priv</td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">允许kill 线程</td>
</tr>
<tr>
<td style="text-align:left">ALL [PRIVILEGES]</td>
<td style="text-align:left"></td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">all privileges available at a given privilege level</td>
</tr>
<tr>
<td style="text-align:left">USAGE</td>
<td style="text-align:left"></td>
<td style="text-align:left">数据库管理</td>
<td style="text-align:left">no privileges</td>
</tr>
</tbody>
</table>
<h2 id="3-mysql-权限操作示例"><a href="#3-mysql-权限操作示例" class="headerlink" title="3.mysql 权限操作示例"></a>3.mysql 权限操作示例</h2><h3 id="3-1-grant-命令使用说明"><a href="#3-1-grant-命令使用说明" class="headerlink" title="3.1 grant 命令使用说明"></a>3.1 grant 命令使用说明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grant all privileges on *.* to daodaoliang@&apos;localhost&apos; identified by &apos;mypass&apos; with grant option;</div></pre></td></tr></table></figure>
<p><strong>grant命令说明:</strong></p>
<ul>
<li><strong>all privileges :</strong> 是表示所有权限，你也可以使用select、update等权限;</li>
<li><strong>on :</strong> 用来针对哪些库和表;</li>
<li>*.*: 前面的*用来指定数据库，后面的*用来指定数据表;</li>
<li><strong>To :</strong> 将权限赋予某个用户;</li>
<li><strong>daodaoliang@’localhost’:</strong> 用户为daodaoliang，@后面表示限制的主机，可以是IP地址、IP段、域名以及%，%表示任何地方，需要注意有的%不包含本地，所以当出现其他地方可以登录而本机不可以登录时，在添加localhost即可；</li>
<li><strong>identified by :</strong> 指定用户的登录密码;</li>
<li><strong>with grant option :</strong> 这个选项表示该用户可以将自己拥有的权限授权给别人;</li>
</ul>
<p><strong><em>PS：</em></strong> grant 可以重复给用户添加权限，权限叠加；</p>
<h3 id="3-2-刷新权限"><a href="#3-2-刷新权限" class="headerlink" title="3.2 刷新权限"></a>3.2 刷新权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<p>在对权限做了修改之后要使用这个命令来使 privileges 生效；</p>
<h2 id="3-3-查看权限"><a href="#3-3-查看权限" class="headerlink" title="3.3 查看权限"></a>3.3 查看权限</h2><ul>
<li>查看当前用户的权限</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">show grants;</div></pre></td></tr></table></figure>
<ul>
<li>查看指定用户的权限</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">show grants for &apos;daodaoliang@%&apos;</div></pre></td></tr></table></figure>
<h2 id="3-4-撤销权限"><a href="#3-4-撤销权限" class="headerlink" title="3.4 撤销权限"></a>3.4 撤销权限</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">revoke delete on *.*  from daodaoliang@&apos;%&apos; identified by &apos;my pass&apos;</div></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python 在 windows 下的服务开发]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2016/05/11/Python%E5%AD%A6%E4%B9%A0-2016-05-11-python%E5%9C%A8windows%E4%B8%8B%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/</url>
      <content type="html"><![CDATA[<hr>
<pre><code>作者：daodaoliang
版本：0.0.1
邮箱：daodaoliang@yeah.net
</code></pre><a id="more"></a>
<p>[TOC]</p>
<p><a href="/res/download/windows下python服务开发.pdf">离线版本文档</a></p>
<h2 id="1-开发环境的准备"><a href="#1-开发环境的准备" class="headerlink" title="1 开发环境的准备"></a>1 开发环境的准备</h2><ul>
<li>首先要正确的安装 <code>python</code> 请<a href="https://www.python.org/downloads/" target="_blank" rel="external">点击我</a>完成所需进行安装；</li>
<li>然后安装 <code>pywin32</code> 请<a href="https://sourceforge.net/projects/pywin32/files/pywin32/" target="_blank" rel="external">点击我</a>完成所需安装；</li>
<li>最后安装 <code>py2exe</code> 请<a href="https://sourceforge.net/projects/py2exe/files/py2exe/0.6.9/" target="_blank" rel="external">点击我</a> 完成所需安装；</li>
</ul>
<p>完成上述操作后基本上就完成了服务环境的搭建了，接下来就是编写服务程序并打包发布了；</p>
<h2 id="2-项目工程文件布局"><a href="#2-项目工程文件布局" class="headerlink" title="2. 项目工程文件布局"></a>2. 项目工程文件布局</h2><ul>
<li><img src="/res/img/blog/python学习/project_map.png" alt="pro_map"></li>
</ul>
<h2 id="3-服务文件源码"><a href="#3-服务文件源码" class="headerlink" title="3. 服务文件源码"></a>3. 服务文件源码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> win32service</div><div class="line"><span class="keyword">import</span> win32event</div><div class="line"><span class="keyword">import</span> win32serviceutil</div><div class="line"><span class="keyword">import</span> servicemanager</div><div class="line"><span class="keyword">import</span> winerror</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyServer</span><span class="params">(win32serviceutil.ServiceFramework)</span>:</span></div><div class="line"></div><div class="line">    _svc_name_ = <span class="string">"sync_vip"</span></div><div class="line">    _svc_display_name_ = <span class="string">"sync_vip"</span></div><div class="line">    _svc_description_ = <span class="string">"daodaoliang@yeah.net"</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, args)</span>:</span></div><div class="line">        win32serviceutil.ServiceFramework.__init__(self, args)</div><div class="line">        self.hWaitStop = win32event.CreateEvent(<span class="keyword">None</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">None</span>)</div><div class="line">        self.isAlive = <span class="keyword">True</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SvcStop</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="comment"># 先告诉SCM停止这个过程</span></div><div class="line">        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)</div><div class="line">        <span class="comment"># 设置事件</span></div><div class="line">        win32event.SetEvent(self.hWaitStop)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SvcDoRun</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">import</span> time</div><div class="line">        <span class="keyword">import</span> win32evtlogutil</div><div class="line">        win32evtlogutil.ReportEvent(self._svc_name_, servicemanager.PYS_SERVICE_STARTED, <span class="number">0</span>,</div><div class="line">                                    servicemanager.EVENTLOG_INFORMATION_TYPE, (self._svc_name_, <span class="string">''</span>))</div><div class="line">        <span class="keyword">while</span> self.isAlive:</div><div class="line">			print(<span class="string">'你的业务逻辑'</span>)</div><div class="line">        win32evtlogutil.ReportEvent(self._svc_name_, servicemanager.PYS_SERVICE_STOPPED, <span class="number">0</span>,</div><div class="line">                                    servicemanager.EVENTLOG_INFORMATION_TYPE, (self._svc_name_, <span class="string">''</span>))</div><div class="line">        self.ReportServiceStatus(win32service.SERVICE_STOPPED)</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    <span class="keyword">import</span> os</div><div class="line">    <span class="keyword">if</span> len(sys.argv) == <span class="number">1</span>:</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            evtsrc_dll = os.path.abspath(servicemanager.__file__)</div><div class="line">            servicemanager.PrepareToHostSingle(MyServer)</div><div class="line">            servicemanager.Initialize(<span class="string">'MyServer'</span>, evtsrc_dll)</div><div class="line">            servicemanager.StartServiceCtrlDispatcher()</div><div class="line">        <span class="keyword">except</span> win32service.error, details:</div><div class="line">            <span class="keyword">if</span> details[<span class="number">0</span>] == winerror.ERROR_FAILED_SERVICE_CONTROLLER_CONNECT:</div><div class="line">                win32serviceutil.usage()</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        win32serviceutil.HandleCommandLine(MyServer)</div></pre></td></tr></table></figure>
<h2 id="4-服务的安装和启动"><a href="#4-服务的安装和启动" class="headerlink" title="4. 服务的安装和启动"></a>4. 服务的安装和启动</h2><p>在完成上述的编写后，其实服务程序就已经可以运行了，运行方式如下：</p>
<h3 id="4-1-安装服务"><a href="#4-1-安装服务" class="headerlink" title="4.1 安装服务"></a>4.1 安装服务</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py install</div></pre></td></tr></table></figure>
<h3 id="4-2-启动服务"><a href="#4-2-启动服务" class="headerlink" title="4.2 启动服务"></a>4.2 启动服务</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py start</div></pre></td></tr></table></figure>
<h3 id="4-3-重启服务"><a href="#4-3-重启服务" class="headerlink" title="4.3 重启服务"></a>4.3 重启服务</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py restart</div></pre></td></tr></table></figure>
<h3 id="4-4-关闭服务"><a href="#4-4-关闭服务" class="headerlink" title="4.4 关闭服务"></a>4.4 关闭服务</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py stop</div></pre></td></tr></table></figure>
<h3 id="4-5-卸载服务"><a href="#4-5-卸载服务" class="headerlink" title="4.5 卸载服务"></a>4.5 卸载服务</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py remove</div></pre></td></tr></table></figure>
<p><strong><em>防坑提示：</em></strong> 一定要以管理员权限运行该命令，或者在管理员账号下运行，不然会运行失败！</p>
<h2 id="5-py2exe-打包程序"><a href="#5-py2exe-打包程序" class="headerlink" title="5. py2exe 打包程序"></a>5. py2exe 打包程序</h2><p>setup.py源码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> distutils.core <span class="keyword">import</span> setup</div><div class="line"><span class="keyword">import</span> py2exe</div><div class="line"></div><div class="line">setup(console=[<span class="string">"sync_vip.py"</span>],</div><div class="line"></div><div class="line">      version=<span class="string">"0.0.2"</span>,</div><div class="line"></div><div class="line">      name=<span class="string">"my_server"</span>,</div><div class="line"></div><div class="line">      description=<span class="string">"daodaoliang@yeah.net"</span>, requires=[<span class="string">'PySQLPool'</span>]</div><div class="line"></div><div class="line">      )</div></pre></td></tr></table></figure>
<p>然后用终端进入setup.py 所在的目录执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python my_server.py py2exe</div></pre></td></tr></table></figure>
<p>执行完毕后会产生<code>build</code> 和 <code>dist</code> 文件夹，其中 <code>dist</code> 里面的内容就是待发布的文件；</p>
<h2 id="6-用innosetup-进行安装包的打包"><a href="#6-用innosetup-进行安装包的打包" class="headerlink" title="6. 用innosetup 进行安装包的打包"></a>6. 用innosetup 进行安装包的打包</h2><p>自行百度去吧，这个很简单；</p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[centos 6.5 升级git]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/03/14/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-03-14-CentOS6-5%E5%8D%87%E7%BA%A7git/</url>
      <content type="html"><![CDATA[<pre><code>作者: daodaoliang@yeah.net
版本: v 0.0.2
日期: 2017-03-14
</code></pre><hr>
<p>CentOS 6.5 的系统默认的git 版本为1.7.1 有些功能该版本是不提供支持的，比如https登陆认证的功能，而我恰巧比较喜欢该功能，所以只能升级git版本；</p>
<a id="more"></a>
<h3 id="1-安装环境准备"><a href="#1-安装环境准备" class="headerlink" title="1. 安装环境准备"></a>1. 安装环境准备</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel asciidoc</div><div class="line">yum install  gcc perl-ExtUtils-MakeMaker</div></pre></td></tr></table></figure>
<p>该过程可能会报错:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/utf8.c:463: undefined reference to `libiconv&apos;</div></pre></td></tr></table></figure>
<p>则进行下面的处理:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">wget http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.14.tar.gz</div><div class="line"></div><div class="line">tar zxvf libiconv-1.14.tar.gz </div><div class="line"></div><div class="line">cd libiconv-1.14</div><div class="line"></div><div class="line">./configure --prefix=/usr/local/libiconv</div><div class="line"></div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<h3 id="2-卸载CentOS自带的-1-7-1版本"><a href="#2-卸载CentOS自带的-1-7-1版本" class="headerlink" title="2. 卸载CentOS自带的 1.7.1版本"></a>2. 卸载CentOS自带的 1.7.1版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum remove git</div></pre></td></tr></table></figure>
<h3 id="3-下载git源码并编译安装"><a href="#3-下载git源码并编译安装" class="headerlink" title="3. 下载git源码并编译安装"></a>3. 下载git源码并编译安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">wget https://github.com/git/git/archive/v2.2.1.tar.gz</div><div class="line"></div><div class="line">tar zxvf v2.2.1.tar.gz</div><div class="line"></div><div class="line">cd git-2.2.1</div><div class="line"></div><div class="line">make configure</div><div class="line"></div><div class="line">./configure --prefix=/usr/local/git --with-iconv=/usr/local/libiconv</div><div class="line"></div><div class="line">make all doc</div><div class="line"></div><div class="line">make install install-doc install-html</div><div class="line"></div><div class="line">echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt;&gt; /etc/bashrc</div><div class="line"></div><div class="line">source /etc/bashrc</div></pre></td></tr></table></figure>
<h3 id="4-版本号确认"><a href="#4-版本号确认" class="headerlink" title="4. 版本号确认"></a>4. 版本号确认</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git --version</div></pre></td></tr></table></figure>
<h3 id="5-常见问题处理"><a href="#5-常见问题处理" class="headerlink" title="5. 常见问题处理"></a>5. 常见问题处理</h3><p><strong>git错误:</strong> Unable to find remote helper for ‘https’</p>
<p>一般因为 /usr/libexec/git-core/ 路径没在 PATH 环境变量中，导致里面的 git-remote-https, git-remote-http 这些得不到执行。所以 git 所表现出来的功能不全</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># 方式1 --- 在使用git之前 执行</div><div class="line"></div><div class="line">PATH=$PATH:/usr/libexec/git-core</div><div class="line"></div><div class="line"># 方式2 --- 增加到系统环境变量中</div><div class="line">echo &quot;export PATH=$PATH:/usr/libexec/git-core&quot; &gt;&gt; /etc/profile</div><div class="line">source /etc/profile</div></pre></td></tr></table></figure>
<p>参考链接:</p>
<p><a href="http://www.dbpoo.com/centos-65-git-update/" target="_blank" rel="external">http://www.dbpoo.com/centos-65-git-update/</a></p>
<p><a href="http://www.tuicool.com/articles/7buQNv" target="_blank" rel="external">http://www.tuicool.com/articles/7buQNv</a></p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python 库学习之 itsdangerous]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2016/03/14/Python%E5%AD%A6%E4%B9%A0-2016-03-14-python%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8Bitsdangerous/</url>
      <content type="html"><![CDATA[<p><a href="http://pythonhosted.org/itsdangerous/" target="_blank" rel="external">这是原始主页</a></p>
<a id="more"></a>
<p>有时候你想向一个不可信的环境发送数据，但是如何安全的完成这个任务呢？诀窍就是引入签名！使用只有你自己知道的秘钥进行加密，并把加密后的数据发给别人处理，当你取回数据时，你就可以确保没人篡改过这份数据；</p>
<p>虽然接受者可以解密你的数据看看里面封装的是什么内容，但他们没法修改你的内容，除非他们知道你的私钥，因此你只要保管好你的秘钥，同时使用复杂的秘钥就万事大吉了；</p>
<p>itsdangerous内部默认使用了HMAC和SHA1来签名，基于 Django 签名模块。它也支持JSON Web 签名 (JWS)。这个库采用BSD协议，由Armin Ronacher编写，而大部分设计与实现的版权归Simon Willison和其他的把这个库变为现实的Django爱好者们；</p>
<h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h2><p>你可以从 <code>PyPI</code> 上直接安装这个库：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install itsdangerous</div></pre></td></tr></table></figure>
<p><strong>适用案例：</strong></p>
<ul>
<li>在取消订阅某个通讯时，你可以在URL里序列化并且签名一个用户的ID。这种情况下你不需要生成一个一次性的token并把它们存到数据库中, 同样适用于一些激活链接等类似的情景下；</li>
<li>被签名的对象可以被保存在例如 <code>cookie</code> 等不可信来源，这意味着你不需要在服务端保存 <code>session</code> , 这样可以降低数据库读取次数；</li>
<li>通常签名后的数据可以安全的往返与服务端和客户端之间，这个特性可以用于将服务端的状态传递到客户端在传递回来；</li>
</ul>
<h2 id="2-签名接口"><a href="#2-签名接口" class="headerlink" title="2. 签名接口"></a>2. 签名接口</h2><p>最基本的接口是签名接口， <code>Signer</code> 类可以用来将一个签名附加到指定 string 上：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> Signer</div><div class="line">s = Signer(<span class="string">'secret-key'</span>)</div><div class="line">s.sign(<span class="string">'my string'</span>)</div><div class="line"><span class="string">'my string.wh6tMHxLgJqB6oY1uT73iMlyrOA'</span></div></pre></td></tr></table></figure>
<p>签名会被加在字符串尾部，中间由句号 (.)分隔。验证字符串，使用 unsign() 方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s.unsign(<span class="string">'my string.wh6tMHxLgJqB6oY1uT73iMlyrOA'</span>)</div><div class="line"><span class="string">'my string'</span></div></pre></td></tr></table></figure>
<p>如果被签名的是一个unicode字符串，那么它将隐式地被转换成utf-8。然而，在反签名时，你没法知道它原来是unicode还是字节串。</p>
<p>如果反签名失败了，将得到一个异常：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">s.unsign(<span class="string">'my string.wh6tMHxLgJqB6oY1uT73iMlyrOX'</span>)</div><div class="line"></div><div class="line">Traceback (most recent call last):</div><div class="line">  ...</div><div class="line">itsdangerous.BadSignature: Signature <span class="string">"wh6tMHxLgJqB6oY1uT73iMlyrOX"</span> does <span class="keyword">not</span> match</div></pre></td></tr></table></figure>
<h2 id="3-使用时间戳签名"><a href="#3-使用时间戳签名" class="headerlink" title="3. 使用时间戳签名"></a>3. 使用时间戳签名</h2><p>如果你想要一个可以过期的签名，可以使用 <code>TimestampSigner</code> 类，它会加入时间戳信息并签名。在反签名时，你可以验证时间戳就没有过期；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> TimestampSigner</div><div class="line">s = TimestampSigner(<span class="string">'secret-key'</span>)</div><div class="line">string = s.sign(<span class="string">'foo'</span>)</div><div class="line"><span class="comment"># 参数的意思为在签名时间后的多少秒为有效</span></div><div class="line">s.unsign(string, max_age=<span class="number">5</span>)</div><div class="line">Traceback (most recent call last):</div><div class="line">    ...</div><div class="line">itsdangerous.SignatureExpired: Signature age <span class="number">15</span> &gt; <span class="number">5</span> seconds</div></pre></td></tr></table></figure>
<h2 id="4-序列化"><a href="#4-序列化" class="headerlink" title="4. 序列化"></a>4. 序列化</h2><p>因为字符串难以处理，本模块也提供了一个与json或pickle类似的序列化接口.(它内部默认使用simplejson，但是可以通过子类进行修改),这个 <code>Serializer</code> 类实现了:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> Serializer</div><div class="line">s = Serializer(<span class="string">'secret-key'</span>)</div><div class="line">s.dumps([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line"><span class="string">'[1, 2, 3, 4].r7R9RhGgDPvvWl3iNzLuIIfELmo'</span></div></pre></td></tr></table></figure>
<p>它当然也可以加载数据:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s.loads(<span class="string">'[1, 2, 3, 4].r7R9RhGgDPvvWl3iNzLuIIfELmo'</span>)</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div></pre></td></tr></table></figure>
<p>若果你需要一个时间戳， 你可以使用 <code>TimedSerializer</code> 类</p>
<h2 id="5-URL安全序列化"><a href="#5-URL安全序列化" class="headerlink" title="5. URL安全序列化"></a>5. URL安全序列化</h2><p>如果只能向一个字符受限的环境中传递可信的字符串的话，这个功能将会十分有用。<code>itsdangerous</code> 提供了一个 <code>URL</code> 安全序列化工具:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> URLSafeSerializer</div><div class="line">s = URLSafeSerializer(<span class="string">'secret-key'</span>)</div><div class="line">s.dumps([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line"><span class="string">'WzEsMiwzLDRd.wSPHqC0gR7VUqivlSukJ0IeTDgo'</span></div><div class="line"></div><div class="line">s.loads(<span class="string">'WzEsMiwzLDRd.wSPHqC0gR7VUqivlSukJ0IeTDgo'</span>)</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div></pre></td></tr></table></figure>
<h2 id="6-JSON-WEB-签名"><a href="#6-JSON-WEB-签名" class="headerlink" title="6. JSON WEB 签名"></a>6. JSON WEB 签名</h2><p>从“itsdangerous” 0.18版本开始，也支持了JSON Web签名。它们的工作方式与原有的URL安全序列化器差不多，但是会根据当前JSON Web签名（JWS）草案（10） [draft-ietf-jose-json-web-signature] 来生成header。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> JSONWebSignatureSerializer</div><div class="line">s = JSONWebSignatureSerializer(<span class="string">'secret-key'</span>)</div><div class="line">s.dumps(&#123;<span class="string">'x'</span>: <span class="number">42</span>&#125;)</div><div class="line"><span class="string">'eyJhbGciOiJIUzI1NiJ9.eyJ4Ijo0Mn0.ZdTn1YyGz9Yx5B5wNpWRL221G1WpVE5fPCPKNuc6UAo'</span></div></pre></td></tr></table></figure>
<p>在将值加载回来时，默认会像其他序列化器一样，不会返回header。但是你可以通过传入 return_header=True 参数来得到header，定制的header会在序列化的数据外层:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">s.dumps(<span class="number">0</span>, header_fields=&#123;<span class="string">'v'</span>: <span class="number">1</span>&#125;)</div><div class="line"><span class="string">'eyJhbGciOiJIUzI1NiIsInYiOjF9.MA.wT-RZI9YU06R919VBdAfTLn82_iIQD70J_j-3F4z_aM'</span></div><div class="line"></div><div class="line">s.loads(<span class="string">'eyJhbGciOiJIUzI1NiIsInYiOjF9.MA.wT-RZI9YU06R919VBdAfTLn82_iIQD70J_j-3F4z_aM'</span>, return_header=<span class="keyword">True</span>)</div><div class="line">(<span class="number">0</span>, &#123;<span class="string">u'alg'</span>: <span class="string">u'HS256'</span>, <span class="string">u'v'</span>: <span class="number">1</span>&#125;)</div></pre></td></tr></table></figure>
<p>itsdangerous目前只提供HMAC SHA的派生算法以及不使用算法，不支持基于ECC的算法。header中的算法将与序列化器中的进行核对，如果不匹配，将引发 BadSignature 异常。</p>
<h2 id="7-盐"><a href="#7-盐" class="headerlink" title="7. 盐"></a>7. 盐</h2><p>所有的类都接受一个盐的参数。这个名字可能会误导你，因为通常你会认为，密码学中的盐会是和被签名的字符串存储在一起的东西，用来防止彩虹表查找，这种盐是公开的。</p>
<p>与Django中的原始实现类似，itsdangerous中的盐，是为了一个截然不同的目的而产生的。你可以将它视为成命名空间。就算你泄露了它，也不是很严重的问题，因为没有密钥的话，它对攻击者没什么帮助。</p>
<p>假设你想签名两个链接。你的系统有个激活链接，用来激活一个用户账户，并且你有一个升级链接，可以让一个用户账户升级为付费用户，这两个链接使用email发送。在这两种情况下，如果你签名的都是用户ID，那么该用户可以在激活账户和升级账户时，复用URL的可变部分。现在你可以在你签名的地方加上更多信息（如升级或激活的意图），但是你也可以用不同的盐：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">s1 = URLSafeSerializer(<span class="string">'secret'</span>, salt=<span class="string">'activate-salt'</span>)</div><div class="line">s1.dumps(<span class="number">42</span>)</div><div class="line"><span class="string">'NDI.kubVFOOugP5PAIfEqLJbXQbfTxs'</span></div><div class="line"></div><div class="line">s2 = URLSafeSerializer(<span class="string">'secret-key'</span>, salt=<span class="string">'upgrade-salt'</span>)</div><div class="line">s2.dumps(<span class="number">42</span>)</div><div class="line"><span class="string">'NDI.7lx-N1P-z2veJ7nT1_2bnTkjGTE'</span></div><div class="line"></div><div class="line">s2.loads(s1.dumps(<span class="number">42</span>))</div><div class="line">Traceback (most recent call last):</div><div class="line">  ...</div><div class="line">itsdangerous.BadSignature: Signature <span class="string">"kubVFOOugP5PAIfEqLJbXQbfTxs"</span> does <span class="keyword">not</span> match</div></pre></td></tr></table></figure>
<p>只有使用相同盐的序列化器才能成功把值加载出来：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s2.loads(s2.dumps(<span class="number">42</span>))</div><div class="line"><span class="number">42</span></div></pre></td></tr></table></figure>
<h2 id="8-对失败的响应"><a href="#8-对失败的响应" class="headerlink" title="8. 对失败的响应"></a>8. 对失败的响应</h2><p>从itsdangerous 0.14版本开始，异常会有一些有用的属性，可以允许你在签名检查失败时，检查你的数据。这里必须极其小心，因为这个时候，你知道有某人修改了你的数据。但这可能对你debug很有帮助。</p>
<p>示例用法:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> URLSafeSerializer, BadSignature, BadData</div><div class="line">s = URLSafeSerializer(<span class="string">'secret-key'</span>)</div><div class="line">decoded_payload = <span class="keyword">None</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    decoded_payload = s.loads(data)</div><div class="line">    <span class="comment"># This payload is decoded and safe</span></div><div class="line"><span class="keyword">except</span> BadSignature, e:</div><div class="line">    encoded_payload = e.payload</div><div class="line">    <span class="keyword">if</span> encoded_payload <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            decoded_payload = s.load_payload(encoded_payload)</div><div class="line">        <span class="keyword">except</span> BadData:</div><div class="line">            <span class="keyword">pass</span></div><div class="line">        <span class="comment"># 这里的数据可以解码出来，但不是安全的，因为有某人改动了签名。</span></div><div class="line">        <span class="comment"># 解码步骤(load_payload)是显式的，因为将数据反序列化可能是不安全的</span></div><div class="line">        <span class="comment">#（请设想被解码的不是json,而是pickle）</span></div></pre></td></tr></table></figure>
<p>如果你不想检查到底是哪里出错了，你也可以使用不安全的加载方式:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> itsdangerous <span class="keyword">import</span> URLSafeSerializer</div><div class="line">s = URLSafeSerializer(<span class="string">'secret-key'</span>)</div><div class="line">sig_okay, payload = s.loads_unsafe(data)</div></pre></td></tr></table></figure>
<p>返回的元组中第一项是一个布尔值，表明了签名是否是正确的。</p>
<h2 id="9-Python-3-提示"><a href="#9-Python-3-提示" class="headerlink" title="9. Python 3 提示"></a>9. Python 3 提示</h2><p>在Python 3中，itsdangerous的接口在一开始可能让人困扰。由于它封装在内部的序列化器，函数返回值不一定是unicode字符串还是字节对象。内置的签名器总是基于字节的。</p>
<p>这是为了允许模块操作不同的序列化器，独立于它们的实现方式。模块通过执行一个空对象的序列化，来决定使用哪种序列化器。</p>
<h2 id="10-It’s-Dangerous-的升级日志"><a href="#10-It’s-Dangerous-的升级日志" class="headerlink" title="10. It’s Dangerous 的升级日志"></a>10. It’s Dangerous 的升级日志</h2><p><a href="http://pythonhosted.org/itsdangerous/#it-s-dangerous-changelog" target="_blank" rel="external">直接看英文版本</a></p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[josn 和 jsonp (转载)]]></title>
      <url>/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/2016/03/14/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1-2016-03-14-json%E5%92%8Cjsonp/</url>
      <content type="html"><![CDATA[<hr>
<p>原文在<a href="http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html" target="_blank" rel="external">这里</a>, 为了自己温习方面，特地转载；</p>
<a id="more"></a>
<h2 id="1-前言："><a href="#1-前言：" class="headerlink" title="1. 前言："></a>1. 前言：</h2><p>说到AJAX就会不可避免的面临两个问题，第一个是AJAX以何种格式来交换数据？第二个是跨域的需求如何解决？这两个问题目前都有不同的解决方案，比如数据可以用自定义字符串或者用XML来描述，跨域可以通过服务器端代理来解决。</p>
<p>但到目前为止最被推崇或者说首选的方案还是用JSON来传数据，靠JSONP来跨域。而这就是本文将要讲述的内容。</p>
<p>JSON和JSONP虽然只有一个字母的差别，但其实他们根本不是一回事儿：JSON是一种数据交换格式，而JSONP是一种依靠开发人员的聪明才智创造出的一种非官方跨域数据交互协议。我们拿最近比较火的谍战片来打个比方，JSON是地下党们用来书写和交换情报的“暗号”，而JSONP则是把用暗号书写的情报传递给自己同志时使用的接头方式。看到没？一个是描述信息的格式，一个是信息传递双方约定的方法。</p>
<p>既然随便聊聊，那我们就不再采用教条的方式来讲述，而是把关注重心放在帮助开发人员理解是否应当选择使用以及如何使用上。</p>
<h2 id="2-什么是JSON？"><a href="#2-什么是JSON？" class="headerlink" title="2.  什么是JSON？"></a>2.  什么是JSON？</h2><p>前面简单说了一下，JSON是一种基于文本的数据交换方式，或者叫做数据描述格式，你是否该选用他首先肯定要关注它所拥有的优点。</p>
<h3 id="2-1-JSON的优点："><a href="#2-1-JSON的优点：" class="headerlink" title="2.1 JSON的优点："></a><strong>2.1 JSON的优点：</strong></h3><ol>
<li>基于纯文本，跨平台传递极其简单；</li>
</ol>
<ul>
<li><p>Javascript原生支持，后台语言几乎全部支持；</p>
</li>
<li><p>轻量级数据格式，占用字符数量极少，特别适合互联网传递；</p>
</li>
<li><p>可读性较强，虽然比不上XML那么一目了然，但在合理的依次缩进之后还是很容易识别的；</p>
</li>
<li><p>容易编写和解析，当然前提是你要知道数据结构；</p>
</li>
</ul>
<p>JSON的缺点当然也有，但在作者看来实在是无关紧要的东西，所以不再单独说明。</p>
<h3 id="2-2-JSON的格式或者叫规则："><a href="#2-2-JSON的格式或者叫规则：" class="headerlink" title="2.2 JSON的格式或者叫规则："></a><strong>2.2 JSON的格式或者叫规则：</strong></h3><p>JSON能够以非常简单的方式来描述数据结构，XML能做的它都能做，因此在跨平台方面两者完全不分伯仲。</p>
<ol>
<li>JSON只有两种数据类型描述符，大括号{}和方括号[]，其余英文冒号:是映射符，英文逗号,是分隔符，英文双引号””是定义符。</li>
</ol>
<ul>
<li>大括号{}用来描述一组“不同类型的无序键值对集合”（每个键值对可以理解为OOP的属性描述），方括号[]用来描述一组“相同类型的有序数据集合”（可对应OOP的数组）。</li>
<li>上述两种集合中若有多个子项，则通过英文逗号,进行分隔。</li>
<li>键值对以英文冒号:进行分隔，并且建议键名都加上英文双引号””，以便于不同语言的解析。</li>
<li>JSON内部常用数据类型无非就是字符串、数字、布尔、日期、null 这么几个，字符串必须用双引号引起来，其余的都不用，日期类型比较特殊，这里就不展开讲述了，只是建议如果客户端没有按日期排序功能需求的话，那么把日期时间直接作为字符串传递就好，可以省去很多麻烦。</li>
</ul>
<h3 id="JSON实例："><a href="#JSON实例：" class="headerlink" title="JSON实例："></a><strong>JSON实例：</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">// 描述一个人</div><div class="line"></div><div class="line">var person = &#123;</div><div class="line">	&quot;Name&quot;: &quot;Bob&quot;,</div><div class="line">	&quot;Age&quot;: 32,</div><div class="line">	&quot;Company&quot;: &quot;IBM&quot;,</div><div class="line">	&quot;Engineer&quot;: true</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 获取这个人的信息</div><div class="line"></div><div class="line">var personAge = person.Age;</div><div class="line"></div><div class="line">// 描述几个人</div><div class="line"></div><div class="line">var members = [</div><div class="line">	&#123;</div><div class="line">		&quot;Name&quot;: &quot;Bob&quot;,</div><div class="line">		&quot;Age&quot;: 32,</div><div class="line">		&quot;Company&quot;: &quot;IBM&quot;,</div><div class="line">		&quot;Engineer&quot;: true</div><div class="line">	&#125;,</div><div class="line">	&#123;</div><div class="line">		&quot;Name&quot;: &quot;John&quot;,</div><div class="line">		&quot;Age&quot;: 20,</div><div class="line">		&quot;Company&quot;: &quot;Oracle&quot;,</div><div class="line">		&quot;Engineer&quot;: false</div><div class="line">	&#125;,</div><div class="line">	&#123;</div><div class="line">		&quot;Name&quot;: &quot;Henry&quot;,</div><div class="line">		&quot;Age&quot;: 45,</div><div class="line">		&quot;Company&quot;: &quot;Microsoft&quot;,</div><div class="line">		&quot;Engineer&quot;: false</div><div class="line">	&#125;</div><div class="line">]</div><div class="line"></div><div class="line">// 读取其中John的公司名称</div><div class="line"></div><div class="line">var johnsCompany = members[1].Company;</div><div class="line"></div><div class="line">// 描述一次会议</div><div class="line"></div><div class="line">var conference = &#123;</div><div class="line">	&quot;Conference&quot;: &quot;Future Marketing&quot;,</div><div class="line">	&quot;Date&quot;: &quot;2012-6-1&quot;,</div><div class="line">	&quot;Address&quot;: &quot;Beijing&quot;,</div><div class="line">	&quot;Members&quot;: </div><div class="line">	[</div><div class="line">		&#123;</div><div class="line">			&quot;Name&quot;: &quot;Bob&quot;,</div><div class="line">			&quot;Age&quot;: 32,</div><div class="line">			&quot;Company&quot;: &quot;IBM&quot;,</div><div class="line">			&quot;Engineer&quot;: true</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			&quot;Name&quot;: &quot;John&quot;,</div><div class="line">			&quot;Age&quot;: 20,</div><div class="line">			&quot;Company&quot;: &quot;Oracle&quot;,</div><div class="line">			&quot;Engineer&quot;: false</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			&quot;Name&quot;: &quot;Henry&quot;,</div><div class="line">			&quot;Age&quot;: 45,</div><div class="line">			&quot;Company&quot;: &quot;Microsoft&quot;,</div><div class="line">			&quot;Engineer&quot;: false</div><div class="line">		&#125;</div><div class="line">	]</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 读取参会者Henry是否工程师</div><div class="line"></div><div class="line">var henryIsAnEngineer = conference.Members[2].Engineer;</div></pre></td></tr></table></figure>
<p>关于JSON，就说这么多，更多细节请在开发过程中查阅资料深入学习。</p>
<h2 id="3-什么是JSONP？"><a href="#3-什么是JSONP？" class="headerlink" title="3. 什么是JSONP？"></a>3. 什么是JSONP？</h2><h3 id="3-1-先说说JSONP是怎么产生的："><a href="#3-1-先说说JSONP是怎么产生的：" class="headerlink" title="3.1 先说说JSONP是怎么产生的："></a><strong>3.1 先说说JSONP是怎么产生的：</strong></h3><p>其实网上关于JSONP的讲解有很多，但却千篇一律，而且云里雾里，对于很多刚接触的人来讲理解起来有些困难，小可不才，试着用自己的方式来阐释一下这个问题，看看是否有帮助</p>
<ol>
<li>一个众所周知的问题，Ajax直接请求普通文件存在跨域无权限访问的问题，甭管你是静态页面、动态网页、web服务、WCF，只要是跨域请求，一律不准；</li>
</ol>
<ul>
<li>不过我们又发现，Web页面上调用js文件时则不受是否跨域的影响（不仅如此，我们还发现凡是拥有”src”这个属性的标签都拥有跨域的能力，比如<script>、<img>、<iframe>）；</li>
<li>于是可以判断，当前阶段如果想通过纯web端（ActiveX控件、服务端代理、属于未来的HTML5之Websocket等方式不算）跨域访问数据就只有一种可能，那就是在远程服务器上设法把数据装进js格式的文件里，供客户端调用和进一步处理；</li>
<li>恰巧我们已经知道有一种叫做JSON的纯字符数据格式可以简洁的描述复杂数据，更妙的是JSON还被js原生支持，所以在客户端几乎可以随心所欲的处理这种格式的数据；</li>
<li>这样子解决方案就呼之欲出了，web客户端通过与调用脚本一模一样的方式，来调用跨域服务器上动态生成的js格式文件（一般以JSON为后缀），显而易见，服务器之所以要动态生成JSON文件，目的就在于把客户端需要的数据装入进去。</li>
<li>客户端在对JSON文件调用成功之后，也就获得了自己所需的数据，剩下的就是按照自己需求进行处理和展现了，这种获取远程数据的方式看起来非常像AJAX，但其实并不一样。</li>
<li>为了便于客户端使用数据，逐渐形成了一种非正式传输协议，人们把它称作JSONP，该协议的一个要点就是允许用户传递一个callback参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名来包裹住JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。</li>
</ul>
<p>如果对于callback参数如何使用还有些模糊的话，我们后面会有具体的实例来讲解。</p>
<h3 id="3-2-JSONP的客户端具体实现："><a href="#3-2-JSONP的客户端具体实现：" class="headerlink" title="3.2 JSONP的客户端具体实现："></a><strong>3.2 JSONP的客户端具体实现：</strong></h3><p>不管jQuery也好，extjs也罢，又或者是其他支持jsonp的框架，他们幕后所做的工作都是一样的，下面我来循序渐进的说明一下jsonp在客户端的实现：</p>
<ol>
<li>我们知道，哪怕跨域js文件中的代码（当然指符合web脚本安全策略的），web页面也是可以无条件执行的。</li>
</ol>
<p>远程服务器remoteserver.com根目录下有个remote.js文件代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(&apos;我是远程文件&apos;);</div></pre></td></tr></table></figure>
<p>本地服务器localserver.com下有个jsonp.html页面代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div><div class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;http://remoteserver.com/remote.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>毫无疑问，页面将会弹出一个提示窗体，显示跨域调用成功。</p>
<ol>
<li>现在我们在jsonp.html页面定义一个函数，然后在远程remote.js中传入数据进行调用。</li>
</ol>
<p>jsonp.html页面代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div><div class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var localHandler = function(data)&#123;</div><div class="line">        alert(&apos;我是本地函数，可以被跨域的remote.js文件调用，远程js带来的数据是：&apos; + data.result);</div><div class="line">    &#125;;</div><div class="line">    &lt;/script&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;http://remoteserver.com/remote.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>remote.js文件代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">localHandler(&#123;&quot;result&quot;:&quot;我是远程js带来的数据&quot;&#125;);</div></pre></td></tr></table></figure>
<p>运行之后查看结果，页面成功弹出提示窗口，显示本地函数被跨域的远程js调用成功，并且还接收到了远程js带来的数据。很欣喜，跨域远程获取数据的目的基本实现了，但是又一个问题出现了，我怎么让远程js知道它应该调用的本地函数叫什么名字呢？毕竟是jsonp的服务者都要面对很多服务对象，而这些服务对象各自的本地函数都不相同啊？我们接着往下看。</p>
<ol>
<li>聪明的开发者很容易想到，只要服务端提供的js脚本是动态生成的就行了呗，这样调用者可以传一个参数过去告诉服务端“我想要一段调用XXX函数的js代码，请你返回给我”，于是服务器就可以按照客户端的需求来生成js脚本并响应了。</li>
</ol>
<p>看jsonp.html页面的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div><div class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    // 得到航班信息查询结果后的回调函数</div><div class="line">    var flightHandler = function(data)&#123;</div><div class="line">        alert(&apos;你查询的航班结果是：票价 &apos; + data.price + &apos; 元，&apos; + &apos;余票 &apos; + data.tickets + &apos; 张。&apos;);</div><div class="line">    &#125;;</div><div class="line">    // 提供jsonp服务的url地址（不管是什么类型的地址，最终生成的返回值都是一段javascript代码）</div><div class="line">    var url = &quot;http://flightQuery.com/jsonp/flightResult.aspx?code=CA1998&amp;callback=flightHandler&quot;;</div><div class="line">    // 创建script标签，设置其属性</div><div class="line">    var script = document.createElement(&apos;script&apos;);</div><div class="line">    script.setAttribute(&apos;src&apos;, url);</div><div class="line">    // 把script标签加入head，此时调用开始</div><div class="line">    document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script); </div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>这次的代码变化比较大，不再直接把远程js文件写死，而是编码实现动态查询，而这也正是jsonp客户端实现的核心部分，本例中的重点也就在于如何完成jsonp调用的全过程。</p>
<p>我们看到调用的url中传递了一个code参数，告诉服务器我要查的是CA1998次航班的信息，而callback参数则告诉服务器，我的本地回调函数叫做flightHandler，所以请把查询结果传入这个函数中进行调用。</p>
<p>OK，服务器很聪明，这个叫做flightResult.aspx的页面生成了一段这样的代码提供给jsonp.html（服务端的实现这里就不演示了，与你选用的语言无关，说到底就是拼接字符串）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">flightHandler(&#123;</div><div class="line">    &quot;code&quot;: &quot;CA1998&quot;,</div><div class="line">    &quot;price&quot;: 1780,</div><div class="line">    &quot;tickets&quot;: 5</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>我们看到，传递给flightHandler函数的是一个json，它描述了航班的基本信息。运行一下页面，成功弹出提示窗口，jsonp的执行全过程顺利完成！</p>
<ol>
<li>到这里为止的话，相信你已经能够理解jsonp的客户端实现原理了吧？剩下的就是如何把代码封装一下，以便于与用户界面交互，从而实现多次和重复调用。</li>
</ol>
<p>什么？你用的是jQuery，想知道jQuery如何实现jsonp调用？好吧，那我就好人做到底，再给你一段jQuery使用jsonp的代码（我们依然沿用上面那个航班信息查询的例子，假定返回jsonp结果不变）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div><div class="line"> &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; &gt;</div><div class="line"> &lt;head&gt;</div><div class="line">     &lt;title&gt;Untitled Page&lt;/title&gt;</div><div class="line">      &lt;script type=&quot;text/javascript&quot; src=jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">      &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">     jQuery(document).ready(function()&#123; </div><div class="line">        $.ajax(&#123;</div><div class="line">             type: &quot;get&quot;,</div><div class="line">             async: false,</div><div class="line">             url: &quot;http://flightQuery.com/jsonp/flightResult.aspx?code=CA1998&quot;,</div><div class="line">             dataType: &quot;jsonp&quot;,</div><div class="line">             jsonp: &quot;callback&quot;,//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)</div><div class="line">             jsonpCallback:&quot;flightHandler&quot;,//自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名，也可以写&quot;?&quot;，jQuery会自动为你处理数据</div><div class="line">             success: function(json)&#123;</div><div class="line">                 alert(&apos;您查询到航班信息：票价： &apos; + json.price + &apos; 元，余票： &apos; + json.tickets + &apos; 张。&apos;);</div><div class="line">             &#125;,</div><div class="line">             error: function()&#123;</div><div class="line">                 alert(&apos;fail&apos;);</div><div class="line">             &#125;</div><div class="line">         &#125;);</div><div class="line">     &#125;);</div><div class="line">     &lt;/script&gt;</div><div class="line">     &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line"> &lt;/html&gt;</div></pre></td></tr></table></figure>
<p>是不是有点奇怪？为什么我这次没有写flightHandler这个函数呢？而且竟然也运行成功了！哈哈，这就是jQuery的功劳了，jquery在处理jsonp类型的ajax时（还是忍不住吐槽，虽然jquery也把jsonp归入了ajax，但其实它们真的不是一回事儿），自动帮你生成回调函数并把数据取出来供success属性方法来调用，是不是很爽呀？</p>
</script></li></ul>]]></content>
      
        <categories>
            
            <category> 进程间通信 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python 作用域学习记录]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2016/03/11/Python%E5%AD%A6%E4%B9%A0-2016-03-11-python%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      <content type="html"><![CDATA[<h2 id="0x01-python作用域说明"><a href="#0x01-python作用域说明" class="headerlink" title="0x01 python作用域说明"></a>0x01 python作用域说明</h2><p>Python的作用域一共有4中，分别是：</p>
<ul>
<li>L (local) 局部作用域，需注意的是函数的局部命名空间是一个作用域，而类的局部命名空间不是作用域;</li>
<li>E (Enclosing) 闭包函数的作用域;</li>
<li>G (Global) 全局作用域; </li>
<li>B (Built-in) 内建作用域,Python 解释器启动时自动载入<strong>built</strong>模块后所形成的名字空间；诸如 str/list/dict…等内置对象的名称就处于这里;</li>
</ul>
<a id="more"></a>
<p>python 查找对象的顺序都是从当前层次开始依据 L -&gt; E -&gt; G -&gt; B 的顺序查找，即在局部找不到，便会去局部外部的局部去找(例如闭包)，在找不到就会去全局找，全局找不到便会去内建空间去找；</p>
<h2 id="0x02-python-中作用域的产生"><a href="#0x02-python-中作用域的产生" class="headerlink" title="0x02 python 中作用域的产生"></a>0x02 python 中作用域的产生</h2><ul>
<li>python中只有 函数(def，lambda)、类(class)、模块(import) 才会引入新的作用域;</li>
<li><code>if/elif/else/</code> 、 <code>try/except</code> 、 <code>for/while</code> 并不能产生新的作用域；</li>
</ul>
<h2 id="0x03-python-作用域中的变量产生"><a href="#0x03-python-作用域中的变量产生" class="headerlink" title="0x03 python 作用域中的变量产生"></a>0x03 python 作用域中的变量产生</h2><p>在python中，名字绑定到新的作用域时(即发生名字冲突或者第一次绑定时)会引入新的变量，同时绑定到一个对象上，名字绑定发生在如下的情况下：</p>
<ul>
<li><strong>参数声明：</strong> 参数声明会在函数的局部作用域中产生新的变量；</li>
<li><strong>赋值操作：</strong> 对一个变量的初次赋值会在当前作用域中引入一个新的变量，后续赋值操作则会重新绑定该变量；</li>
<li><strong>类和函数定义：</strong> 类和函数定义将类名和函数名作为变量引入当前作用域，类和函数体将形成另外一个作用域；</li>
<li><strong>import 语句：</strong> import语句在当前作用域中引入新的变量，一般是在全局作用域；</li>
<li><strong>for语句：</strong> for语句在当前作用域中引入新的变量(循环变量)；</li>
<li><strong>except 语句：</strong> except 语句在当前作用域中引入新的变量(异常对象)；</li>
</ul>
<p>在 python 中，类定义所引入的作用域对于成员函数是不可见的，这与 <code>c++</code> 之类的语言是不相同的，因此在 python 中，成员函数想要引用类体定义的变量，必须通过 <code>self</code> 或者类名来引用它；</p>
<h2 id="0x04-python-global-和-nonlocal-语句"><a href="#0x04-python-global-和-nonlocal-语句" class="headerlink" title="0x04 python global 和 nonlocal 语句"></a>0x04 python global 和 nonlocal 语句</h2><p>内层作用域若想直接修改上层变量，需要通过 global nonlocal 语句先声明</p>
<ul>
<li><code>global</code> 说明该符号修饰的变量来自与全局变量，但是需要注意并不能在当前层创建标示符；</li>
<li><code>nolocal</code> 说明该符号修饰的变量来自它的父作用域，同时会在该命名空间中创建与父函数变量同名的标示符；</li>
</ul>
<p>参考链接：</p>
<p><a href="https://segmentfault.com/a/1190000004519811#articleHeader8" target="_blank" rel="external">https://segmentfault.com/a/1190000004519811#articleHeader8</a></p>
<p><a href="http://www.jianshu.com/p/3bb277c2935c" target="_blank" rel="external">http://www.jianshu.com/p/3bb277c2935c</a></p>
<p><a href="https://segmentfault.com/a/1190000004461404" target="_blank" rel="external">https://segmentfault.com/a/1190000004461404</a></p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下计划任务学习记录]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/03/10/linux%E5%AD%A6%E4%B9%A0-2016-03-10-linux%E4%B8%8B%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      <content type="html"><![CDATA[<hr>
<h2 id="0x01-计划任务简介"><a href="#0x01-计划任务简介" class="headerlink" title="0x01 计划任务简介"></a><strong>0x01 计划任务简介</strong></h2><p>linux 中计划任务主要分为”循环执行”和”只执行一次”两种，分别对应的时 <code>crond</code> 服务 和 <code>atd</code> 服务；</p>
<a id="more"></a>
<h2 id="0x02-只执行一次的计划任务"><a href="#0x02-只执行一次的计划任务" class="headerlink" title="0x02 只执行一次的计划任务"></a><strong>0x02 只执行一次的计划任务</strong></h2><h3 id="0x02-1-atd-服务说明"><a href="#0x02-1-atd-服务说明" class="headerlink" title="0x02.1 atd 服务说明"></a><strong>0x02.1 atd 服务说明</strong></h3><p><code>atd</code> 服务会轮训计划任务的文件，也就是我们用<code>at</code> 或者 <code>batch</code> 命令下达的任务，都会以文件的形式存储在系统中，其中：</p>
<p>在ubuntu系统下存在：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/var/spool/cron/atjobs </div><div class="line">/var/spool/cron/atspool</div></pre></td></tr></table></figure>
<p>在Centos系统下存在：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/var/spool/at/</div></pre></td></tr></table></figure>
<p><strong>PS:</strong> 若是没有安装请用对应系统地包管理器进行安装</p>
<h3 id="0x02-2-atd-服务开启"><a href="#0x02-2-atd-服务开启" class="headerlink" title="0x02.2 atd 服务开启:"></a><strong>0x02.2 atd 服务开启:</strong></h3><p>配置 <code>atd</code> 服务的权限：</p>
<ul>
<li>首先寻找 <code>/etc/at.allow</code> 这个文件，只有写在这个文件里面的用户才能使用 <code>at</code>, 没有写在这个文件里面的用户不能使用(即使它也没被写在/etc/at.deny)中；</li>
<li>如果 <code>/etc/at.allow</code> 不存在，就寻找 <code>/etc/at.deny</code> 这个文件，写在这个 <code>at.deny</code> 的用户不能使用 <code>at</code>;</li>
<li>如果这两个文件都不存在则只能 <code>root</code> 用户使用 <code>at</code>;</li>
</ul>
<p>确保 <code>atd</code> 服务开启：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/etc/ini.d/atd status</div><div class="line">/etc/ini.d/atd start</div></pre></td></tr></table></figure>
<p>设置 服务的开机自启动:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig atd on</div></pre></td></tr></table></figure>
<h3 id="0x02-2-at-atq-atrm-bath命令"><a href="#0x02-2-at-atq-atrm-bath命令" class="headerlink" title="0x02.2 at,atq,atrm,bath命令"></a><strong>0x02.2 at,atq,atrm,bath命令</strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Usage: at [-V] [-q x] [<span class="_">-f</span> file] [-mMlbv] timespec ...</div><div class="line">       at [-V] [-q x] [<span class="_">-f</span> file] [-mMlbv] -t time</div><div class="line">       at -c job ...</div><div class="line">       atq [-V] [-q x]</div><div class="line">       at [ -rd ] job ...</div><div class="line">       atrm [-V] job ...</div><div class="line">       batch</div></pre></td></tr></table></figure>
<p>参数说明：</p>
<p>&gt;</p>
<ul>
<li>-V 显示版本信息</li>
<li>-q&lt;列队&gt; 使用指定的列队</li>
<li>-f&lt;文件&gt; 从指定文件读入任务而不是从标准输入读入</li>
<li>-m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出</li>
<li>-M 永远不发送任何邮件</li>
<li>-l atq的别名</li>
<li>-d atrm的别名</li>
<li>-r atrm的别名</li>
<li>-b batch.的别名</li>
<li>-v 显示任务将被执行的时间</li>
<li>-t&lt;时间参数&gt; 以时间参数的形式提交要运行的任务 </li>
</ul>
<p><strong>示例1: 三天后的下午 5 点锺执行/bin/ls 命令</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># at 5pm+3 days </span></div><div class="line">at&gt; /bin/ls &gt; /tmp/daodaoliang </div><div class="line">at&gt; &lt;EOT&gt;</div><div class="line"></div><div class="line">job 1 at 2016-03-10 14:27:47</div></pre></td></tr></table></figure>
<p><strong>示例2: 明天下午5:20执行一个脚本</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># at -f /tmp/daodaoliang.sh  17:20 tomorrow</span></div><div class="line"> job 8 at 2016-03-10 14:31:25</div></pre></td></tr></table></figure>
<p><strong>示例3: 查询当前任务信息</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">atq</div><div class="line"></div><div class="line">或者</div><div class="line"></div><div class="line">at <span class="_">-l</span></div></pre></td></tr></table></figure>
<p>然后</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">at -c &lt;任务号码&gt;</div></pre></td></tr></table></figure>
<p><strong>示例4: 删除某指定任务</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">atrm &lt;任务号码&gt;</div><div class="line"></div><div class="line">或者</div><div class="line"></div><div class="line">at -r &lt;任务号码&gt;</div></pre></td></tr></table></figure>
<p><strong>示例5: 从现在开始的系统闲暇时间执行一个脚本</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">batch now <span class="_">-f</span> /tmp/daodaoliang.sh</div><div class="line"></div><div class="line">或者</div><div class="line"></div><div class="line">batch <span class="_">-f</span> /tmp/daodaoliang.sh -b now</div></pre></td></tr></table></figure>
<p><strong>PS:</strong> 空闲指的是 在CPU 的工作负载小于 0.8 的时候；</p>
<h2 id="0x03-循环执行的计划任务"><a href="#0x03-循环执行的计划任务" class="headerlink" title="0x03 循环执行的计划任务"></a><strong>0x03 循环执行的计划任务</strong></h2><h3 id="0x03-1-crond服务说明"><a href="#0x03-1-crond服务说明" class="headerlink" title="0x03.1 crond服务说明"></a><strong>0x03.1 crond服务说明</strong></h3><p> crond是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p>
<p> crond 执行的计划任务主要分为如下两类：</p>
<ul>
<li>系统执行的工作：系统周期性所要执行的工作，如备份系统数据、清理缓存;</li>
<li>个人执行的工作：某个用户定期要做的工作，例如每隔10分钟检查邮件服务器是否有新信，这些工作可由每个用户自行设置。</li>
</ul>
<h3 id="0x03-2-crond服务开启"><a href="#0x03-2-crond服务开启" class="headerlink" title="0x03.2 crond服务开启"></a><strong>0x03.2 crond服务开启</strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/etc/ini.d/crond startus</div><div class="line">/etc/ini.d/crond start</div></pre></td></tr></table></figure>
<p>设置 服务的开机自启动:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig crond on</div></pre></td></tr></table></figure>
<h3 id="0x03-3-crond服务配置"><a href="#0x03-3-crond服务配置" class="headerlink" title="0x03.3 crond服务配置"></a><strong>0x03.3 crond服务配置</strong></h3><ul>
<li>若 <code>/etc/cron.allow</code> 存在， 在这里面写入的用户则可以使用 crontab;</li>
<li>若 <code>/etc/cron.deny</code> 存在，在这里面写入的用户则不可以使用 crontab;</li>
<li>若这两个都不存在则看系统地配置参数了，要么只有超级管理员可以用，要么谁都可以用，一般来说，只要保留 <code>etc/cron.deny</code> 即可；</li>
</ul>
<h3 id="0x3-4-计划任务的说明"><a href="#0x3-4-计划任务的说明" class="headerlink" title="0x3.4 计划任务的说明"></a><strong>0x3.4 计划任务的说明</strong></h3><p>系统的计划任务写在如下路径文件里面：</p>
<p>&gt;</p>
<ul>
<li><code>/etc/crontab</code> 文件(ubuntu系统可能不存在这个文件)</li>
<li><code>/etc/cron.d/</code> 文件夹下的文件</li>
<li><code>/etc/cron.hourly/</code> 文件夹下的文件</li>
<li><code>/etc/cron.daily/</code> 文件夹下的文件</li>
<li><code>/etc/cron.weekly</code> 文件夹下的文件</li>
<li><code>/etc/cron.monthly</code> 文件夹下的文件</li>
</ul>
<p>用户自己的计划任务希望在如下的文件里面:</p>
<p>&gt;</p>
<ul>
<li><code>/var/spool/cron/&lt;用户名字&gt;</code> 文件夹内的文件</li>
</ul>
<p>总体来说按照用户和用途的不同需要按照以下来使用：</p>
<p>&gt;</p>
<ul>
<li>用户自己的计划任务直接用 <code>crontab -e</code> 来创建，这样能保证创建的指令行为不会被其他人看见；</li>
<li>系统维护使用 <code>/etc/crontab</code> 如果这个计划任务是比较重要系统计划任务，为了管理方便，同时易于追踪则直接写入 <code>/etc/crontab</code>比较方便；</li>
<li>自己开发的系统软件，最好是编写新的计划文件放到 <code>/etc/cron.d/newfile</code> 来进行管理比较方便</li>
<li>固定，小时、天、周等执行的工作，如果与系统维护有关则直接写在 <code>/etc/crontab</code> 集中管理比较好，当然也可以偷懒写在上述的几个特殊的文件夹里面；</li>
</ul>
<h3 id="0x3-5-crontab-格式说明"><a href="#0x3-5-crontab-格式说明" class="headerlink" title="0x3.5 crontab 格式说明"></a><strong>0x3.5 crontab 格式说明</strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">SHELL=/bin/bash                     &lt;==使用哪種 shell 介面</div><div class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin  &lt;==執行檔搜尋路徑</div><div class="line">MAILTO=root                         &lt;==若有額外STDOUT，以 email將資料送給誰</div><div class="line"></div><div class="line"><span class="comment"># Example of job definition:</span></div><div class="line"><span class="comment"># .---------------- minute (0 - 59)</span></div><div class="line"><span class="comment"># |  .------------- hour (0 - 23)</span></div><div class="line"><span class="comment"># |  |  .---------- day of month (1 - 31)</span></div><div class="line"><span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></div><div class="line"><span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></div><div class="line"><span class="comment"># |  |  |  |  |</span></div><div class="line"><span class="comment"># *  *  *  *  * user-name  command to be executed</span></div></pre></td></tr></table></figure>
<h3 id="0x3-6-anacron-的说明"><a href="#0x3-6-anacron-的说明" class="headerlink" title="0x3.6 anacron 的说明"></a><strong>0x3.6 anacron 的说明</strong></h3><p><code>anacron</code> 只是一个程序并非一个服务，他会每小时被 <code>crond</code> 执行一次：</p>
<ul>
<li><p>在 <code>centos</code> 下面对于它的配置在 <code>/etc/cron.hourly/0anacron</code></p>
</li>
<li><p>在 <code>ubuntu</code> 下面对于他的配置在 <code>/etc/cron.d/anacron</code></p>
</li>
</ul>
<p><strong>anacron 配置文件的说明</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /etc/anacrontab: configuration file for anacron</span></div><div class="line"></div><div class="line"><span class="comment"># See anacron(8) and anacrontab(5) for details.</span></div><div class="line"></div><div class="line">SHELL=/bin/sh</div><div class="line">PATH=/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/sbin:/bin:/usr/sbin:/usr/bin</div><div class="line">HOME=/root</div><div class="line">LOGNAME=root</div><div class="line"></div><div class="line"><span class="comment"># These replace cron's entries</span></div><div class="line">1       5       cron.daily      run-parts --report /etc/cron.daily</div><div class="line">7       10      cron.weekly     run-parts --report /etc/cron.weekly</div><div class="line">@monthly        15      cron.monthly    run-parts --report /etc/cron.monthly</div></pre></td></tr></table></figure>
<p>配置文件中的四列分别的意思为</p>
<p>&gt;</p>
<ul>
<li>第一列 <strong>天数</strong> anacron 与 上次记录相差的天数，若是超过这个天数则就准备开始执行，若没有超过这个天数则不予执行；</li>
<li>第二列 <strong>延迟时间</strong> (单位时分钟) 在上述超过天数后再进行执行计划任务，为了避免系统拥堵则延迟一定时间开始执行；</li>
<li>第三列 <strong>工作名称</strong> 这个计划工作的名字，这个可以自定义；</li>
<li>第四列 <strong>实际要运行的指令</strong>  比如 <code>run-parts /etc/cron.daily</code> 就是要运行在 指定目录下的所有脚本， 通常该脚本的路径 和 <code>crond</code> 的文件路径相同；</li>
</ul>
<p>所以如果你需要确保某些命令执行则需要进行修改 <code>/etc/anacron</code> 文件；</p>
<p>参考链接：</p>
<ol>
<li><a href="http://linux.vbird.org/linux_basic/0430cron.php" target="_blank" rel="external">http://linux.vbird.org/linux_basic/0430cron.php</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_6561ca8c0101ab83.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_6561ca8c0101ab83.html</a></li>
<li><a href="http://www.jb51.net/LINUXjishu/74014.html" target="_blank" rel="external">http://www.jb51.net/LINUXjishu/74014.html</a></li>
<li><a href="http://blog.csdn.net/richerg85/article/details/23442411" target="_blank" rel="external">http://blog.csdn.net/richerg85/article/details/23442411</a></li>
<li><a href="http://www.linuxfly.org/post/11/" target="_blank" rel="external">http://www.linuxfly.org/post/11/</a></li>
</ol>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下用logroate进行日志切割]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/03/09/linux%E5%AD%A6%E4%B9%A0-2016-03-09-linux%E4%B8%8B%E5%88%A9%E7%94%A8logroate%E8%BF%9B%E8%A1%8C%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2/</url>
      <content type="html"><![CDATA[<hr>
<ul>
<li>TOC</li>
</ul>
<p>{:toc}</p>
<a id="more"></a>
<h2 id="0x01-简介"><a href="#0x01-简介" class="headerlink" title="0x01 简介"></a>0x01 简介</h2><p>官网介绍请看<a href="http://linuxcommand.org/man_pages/logrotate8.html" target="_blank" rel="external">这里</a></p>
<p>The logrotate utility is designed to simplify the administration of log files on a system which generates a lot of log files. Logrotate allows for the automatic rotation compression, removal and mailing of log files. Logrotate can be set to handle a log file daily, weekly, monthly or when the log file gets to a certain size.</p>
<h2 id="0x02-关键文件说明"><a href="#0x02-关键文件说明" class="headerlink" title="0x02 关键文件说明"></a>0x02 关键文件说明</h2><p>以下是logrotate运行的关键点：</p>
<ul>
<li><code>/usr/bin/logrotate</code> 程序所在位置；</li>
<li><code>/etc/cron.daily/logrotate</code> 默认让系统的cron每天执行logrotate一次；</li>
<li><code>/etc/logrotate.conf</code> 全局配置文件；</li>
<li><code>/etc/logrotate.d</code> 应用自个的配置文件存放目录，覆盖全局配置；</li>
</ul>
<h2 id="0x03-关键文件说明"><a href="#0x03-关键文件说明" class="headerlink" title="0x03 关键文件说明"></a>0x03 关键文件说明</h2><p><strong>系统配置文件：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># see "man logrotate" for details</span></div><div class="line"><span class="comment"># rotate log files weekly</span></div><div class="line">weekly</div><div class="line"></div><div class="line"><span class="comment"># use the syslog group by default, since this is the owning group</span></div><div class="line"><span class="comment"># of /var/log/syslog.</span></div><div class="line">su root syslog</div><div class="line"></div><div class="line"><span class="comment"># keep 4 weeks worth of backlogs</span></div><div class="line">rotate 4</div><div class="line"></div><div class="line"><span class="comment"># create new (empty) log files after rotating old ones</span></div><div class="line">create</div><div class="line"></div><div class="line"><span class="comment"># uncomment this if you want your log files compressed</span></div><div class="line"><span class="comment">#compress</span></div><div class="line"></div><div class="line"><span class="comment"># packages drop log rotation information into this directory</span></div><div class="line">include /etc/logrotate.d</div><div class="line"></div><div class="line"><span class="comment"># no packages own wtmp, or btmp -- we'll rotate them here</span></div><div class="line">/var/<span class="built_in">log</span>/wtmp &#123;</div><div class="line">    missingok</div><div class="line">    monthly</div><div class="line">    create 0664 root utmp</div><div class="line">    rotate 1</div><div class="line">&#125;</div><div class="line"></div><div class="line">/var/<span class="built_in">log</span>/btmp &#123;</div><div class="line">    missingok</div><div class="line">    monthly</div><div class="line">    create 0660 root utmp</div><div class="line">    rotate 1</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># system-specific logs may be configured here</span></div></pre></td></tr></table></figure>
<p><strong>用户自定义的配置文件：</strong></p>
<p>保存在<code>/etc/logrotate.d/</code>下面，所以若是想要进行自己软件的日志切割则直接在这里进行编写自己的配置文件即可；</p>
<h2 id="0x04-配置项说明"><a href="#0x04-配置项说明" class="headerlink" title="0x04 配置项说明"></a>0x04 配置项说明</h2><p><strong>nginx示例日志切割配置文件:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/nginx/logs/*.log &#123;</div><div class="line">    daily   </div><div class="line">    dateext </div><div class="line">    rotate 1</div><div class="line">    olddir  /usr/<span class="built_in">local</span>/nginx/other/logs</div><div class="line">    missingok  </div><div class="line">    notifempty </div><div class="line">    compress </div><div class="line">    sharedscripts </div><div class="line">    postrotate</div><div class="line">        /bin/<span class="built_in">kill</span> -USR1 $(cat /var/run/nginx.pid 2&gt;/dev/null) 2&gt;/dev/null ||:</div><div class="line">    endscript</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>配置项说明：</strong></p>
<ul>
<li>dateext : 文件后缀是日期格式,也就是切割后文件是:xxx.log-20150529(.gz) 这样,如果注释掉,切割出来是按数字递增,即前面说的 xxx.log-1(.gz)</li>
<li>compress : 通过gzip 压缩转储旧的日志</li>
<li>nocompress : 不需要压缩时，用这个参数</li>
<li>copytruncate : 用于还在打开中的日志文件，把当前日志备份并截断</li>
<li>nocopytruncate : 备份日志文件但是不截断</li>
<li>create mode owner group：使用指定的文件模式创建新的日志文件</li>
<li>nocreate：不建立新的日志文件</li>
<li>delaycompress：和 compress 一起使用时，转储的日志文件到下一次转储时才压缩</li>
<li>nodelaycompress：覆盖 delaycompress 选项，转储同时压缩。</li>
<li>errors address：专储时的错误信息发送到指定的Email 地址</li>
<li>ifempty：即使是空文件也转储，这个是 logrotate 的缺省选项。</li>
<li>notifempty：如果是空文件的话，不转储</li>
<li>mail address：把转储的日志文件发送到指定的E-mail 地址</li>
<li>nomail：转储时不发送日志文件</li>
<li>olddir directory：转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统</li>
<li>noolddir：转储后的日志文件和当前日志文件放在同一个目录下</li>
<li>prerotate/endscript：在转储以前需要执行的命令可以放入这个对，这两个关键字必须单独成行</li>
<li>postrotate/endscript：在转储以后需要执行的命令可以放入这个对，这两个关键字必须单独成行</li>
<li>sharedscripts：所有的日志文件都轮转完毕后统一执行一次脚本</li>
<li>monthly: 日志文件将按月轮循。其它可用值为‘daily’，‘weekly’或者‘yearly’。</li>
<li>rotate count：指定日志文件删除之前转储的次数，0 指没有备份，5 指保留5 个备份</li>
<li>size size：当日志文件到达指定的大小时才转储，Size 可以指定 bytes (缺省)以及KB (sizek)或者MB</li>
<li>missingok: 在日志轮循期间，任何错误将被忽略，例如“文件无法找到”之类的错误。</li>
</ul>
<h2 id="0x05-手动命令说明"><a href="#0x05-手动命令说明" class="headerlink" title="0x05 手动命令说明"></a>0x05 手动命令说明</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">用法: logrotate [OPTION...] &lt;configfile&gt;</div><div class="line">  <span class="_">-d</span>, --debug               Don<span class="string">'t do anything, just test (implies -v)</span></div><div class="line">  -f, --force               Force file rotation</div><div class="line">  -m, --mail=command        Command to send mail (instead of `/usr/bin/mail')</div><div class="line">  <span class="_">-s</span>, --state=statefile     Path of state file</div><div class="line">  -v, --verbose             Display messages during rotation</div><div class="line">      --version             Display version information</div><div class="line"></div><div class="line">Help options:</div><div class="line">  -?, --help                Show this <span class="built_in">help</span> message</div><div class="line">      --usage               Display brief usage message</div></pre></td></tr></table></figure>
<p><strong>示例1：</strong></p>
<p>要调用为/etc/lograte.d/下配置的所有日志调用logrotate：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">logrotate /etc/logrotate.conf</div></pre></td></tr></table></figure>
<p><strong>示例2：</strong></p>
<p>要为某个特定的配置调用logrotate</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">logrotate /etc/logrotate.d/<span class="built_in">log</span>-file</div></pre></td></tr></table></figure>
<p><strong>示例3：</strong></p>
<p>使用-d选项以预演方式运行logrotate。要进行验证，不用实际轮循任何日志文件，可以模拟演练日志轮循并显示其输出。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">logrotate /etc/logrotate.d/<span class="built_in">log</span>-file</div></pre></td></tr></table></figure>
<p><strong>示例4：</strong></p>
<p>即使轮循条件没有满足，我们也可以通过使用-f选项来强制logrotate轮循日志文件，-v参数提供了详细的输出。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">logrotate -vf /etc/logrotate.d/<span class="built_in">log</span>-file</div></pre></td></tr></table></figure>
<h2 id="0x06-简单示例："><a href="#0x06-简单示例：" class="headerlink" title="0x06 简单示例："></a>0x06 简单示例：</h2><p><strong>nginx.logrotate(error.log)</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/nginx/logs/error.log &#123;</div><div class="line">dateext</div><div class="line">create</div><div class="line"><span class="comment">#maxage 90</span></div><div class="line">rotate 60</div><div class="line">missingok</div><div class="line">sharedscripts</div><div class="line">postrotate</div><div class="line">/bin/<span class="built_in">kill</span> -USR1 `cat /var/run/nginx.pid`</div><div class="line">endscript</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>php.logrotate(php-fpm.log、php-fpm.log.slow)</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/php/var/<span class="built_in">log</span>/php-fpm.log /usr/<span class="built_in">local</span>/php/var/<span class="built_in">log</span>/php-fpm.log.slow &#123;</div><div class="line">dateext</div><div class="line">create</div><div class="line"><span class="comment">#maxage 90</span></div><div class="line">rotate 60</div><div class="line">missingok</div><div class="line">sharedscripts</div><div class="line">postrotate</div><div class="line">/bin/<span class="built_in">kill</span> -USR1 `cat /var/run/php-fpm.pid`</div><div class="line">endscript</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>mysql.logrotate(slow-log、localhost.err)</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/var/lib/mysql/slow-log /var/lib/mysql/localhost.err &#123;</div><div class="line">dateext</div><div class="line">create</div><div class="line"><span class="comment"># notifempty</span></div><div class="line"><span class="comment">#maxage 90</span></div><div class="line">rotate 60</div><div class="line">missingok</div><div class="line">sharedscripts</div><div class="line">postrotate</div><div class="line">/usr/<span class="built_in">local</span>/mysql/bin/mysqladmin -uroot -p<span class="string">'password'</span> flush-logs</div><div class="line">endscript</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下进程后台运行方法]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/01/25/linux%E5%AD%A6%E4%B9%A0-2016-01-25-linux%E8%BF%9B%E7%A8%8B%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<hr>
<p>本文绝大部分都是摘抄自<a href="https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/" target="_blank" rel="external">这里</a>，我在这里做记录仅仅为了自己以后查阅的方便。</p>
<a id="more"></a>
<h3 id="1-nohup"><a href="#1-nohup" class="headerlink" title="1. nohup"></a>1. nohup</h3><p><code>nohup</code> 的作用就是让提交的命令忽略<code>hangup</code>信号，<code>nohup</code> 命令的帮助信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">用法：nohup 命令 [参数]...</div><div class="line">　或：nohup 选项</div><div class="line">忽略挂起信号运行指定的命令。</div><div class="line"></div><div class="line">      --help		显示此帮助信息并退出</div><div class="line">      --version		显示版本信息并退出</div><div class="line"></div><div class="line">If standard input is a terminal, redirect it from /dev/null.</div><div class="line">If standard output is a terminal, append output to &apos;nohup.out&apos; if possible,</div><div class="line">&apos;$HOME/nohup.out&apos; otherwise.</div><div class="line">If standard error is a terminal, redirect it to standard output.</div><div class="line">To save output to FILE, use &apos;nohup COMMAND &gt; FILE&apos;.</div><div class="line"></div><div class="line">注意：您的shell 内含自己的nohup 程序版本，它会覆盖这里所提及的相应</div><div class="line">版本。请查阅您的shell 文档获知它所支持的选项。</div><div class="line"></div><div class="line">请向bug-coreutils@gnu.org 报告nohup 的错误</div><div class="line">GNU coreutils 的主页：&lt;http://www.gnu.org/software/coreutils/&gt;</div><div class="line">GNU 软件一般性帮助：&lt;http://www.gnu.org/gethelp/&gt;</div><div class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告nohup 的翻译错误</div><div class="line">要获取完整文档，请运行：info coreutils &apos;nohup invocation&apos;</div></pre></td></tr></table></figure>
<p>可见,nohup的使用时十分方便的，只需在要处理的命令前加上nohup即可，标准输出和标准错误缺省会被重定向到nohup.out文件中，一般我们可在结尾加上’&amp;’来将命令放入后台运行，也可以用 “&gt;/filename 2&gt;&amp;1” 来更改缺省的重定向文件名。</p>
<p><strong><em>nohup示例：</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$ nohup ping www.baidu.com &amp;</div><div class="line">[1] 26716</div><div class="line">nohup: 忽略输入并把输出追加到&quot;nohup.out&quot;</div><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$ ps -ef | grep 26716</div><div class="line">daodaol+ 26716 20718  0 14:13 pts/5    00:00:00 ping www.baidu.com</div><div class="line">daodaol+ 26721 20718  0 14:13 pts/5    00:00:00 grep --color=auto 26716</div><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$</div></pre></td></tr></table></figure>
<h3 id="2-setsid"><a href="#2-setsid" class="headerlink" title="2. setsid"></a>2. setsid</h3><p>nohup无疑通过忽略HUP信号来使我们的进程避免中途被中断，但如果我们换个角度思考，如果我们的进程不属于接受HUP信号的终端的子进程，那么自然也就是不回收到HUP信号的影响了，setsid就能帮助我们做到这一点。</p>
<p><strong><em>setsid 示例：</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setsid ping www.baidu.com</div></pre></td></tr></table></figure>
<p>值得注意的是  上例中的进程ID(PID)为1839，即为用户的init进程，并不是当前终端进程；</p>
<h3 id="3-amp"><a href="#3-amp" class="headerlink" title="3. &amp;"></a>3. <code>&amp;</code></h3><p>这里还有一个关于 <code>subshell</code> 的小技巧，我们知道，将一个或者多个命名包含在 “()” 就能让这些命令在子shell中运行，从而扩展出很多有趣的功能，我们现在讨论的就是其中之一，<br>当我们将 <code>&amp;</code> 也放入 <code>()</code> 之内，我们发现所提交的作业并不在作业列表中，也就是说无法通过 <code>jobs</code>来查看的，让我们来看看为什么这样就能躲过 <code>hup</code> 信号的影响把；</p>
<p><strong><em>subshell 示例：</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ (ping www.baidu.com &gt;/dev/null &amp;)</div><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ ps -ef | grep ping</div><div class="line">daodaol+ 24170  1839  0 10:58 pts/1    00:00:00 ping www.baidu.com</div><div class="line">daodaol+ 24176 24096  0 10:58 pts/1    00:00:00 grep --color=auto ping</div></pre></td></tr></table></figure>
<p>从上例中可以看出，新提交的任务的进程的父进程是 1839 即为 当前用户的Init进程，而不是当前终端进程，从而不在受当前终端的 <code>hup</code> 信号的影响了。</p>
<h3 id="4-disown"><a href="#4-disown" class="headerlink" title="4. disown"></a>4. disown</h3><p>若果我们在没有事先使用 <code>setsid</code> 或者 <code>nohup</code> 的前提下就提交了命令时候就需要用 <code>disdown</code> 来进行补救；</p>
<p><strong>disown 使用方式：</strong></p>
<ul>
<li>用disown -h jobspec 来使某个作业忽略 <code>hup</code> 信号；</li>
<li>用disown -ah 来使所有作业都忽略 <code>hup</code> 信号；</li>
<li>用disown -rh 来使正在运行的作业忽略 <code>hup</code> 信号;</li>
</ul>
<p>需要注意的是在使用 <code>disown</code> 之后，作业是被从作业列表里面移除的，我们不能使用 <code>jobs</code> 来查询到，但是使用 <code>ps -ef</code> 还是可以查询到；</p>
<p>需要注意的时这种方式的操作对象是作业，也就是说 <code>disown</code> 的操作对象是作业，如果一个任务没能以作业的形式运行则就需要进行特殊处理；</p>
<p><strong>示例1 如果提交命令时已经用“&amp;”将命令放入后台运行：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com$ ping www.baidu.com &gt;/dev/null &amp;</div><div class="line">[1] 515</div><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com$ jobs</div><div class="line">[1]+  运行中               ping www.baidu.com &gt; /dev/null &amp;</div><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com$ </div><div class="line">daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com$ disown -h %1</div></pre></td></tr></table></figure>
<p><strong>示例2 如果提交命令时未使用“&amp;”将命令放入后台运行，可使用 CTRL-z 和“bg”将其放入后台，再使用 “disown” :</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ ping www.baidu.com</div><div class="line">PING www.a.shifen.com (61.135.169.125) 56(84) bytes of data.</div><div class="line">64 bytes from 61.135.169.125: icmp_seq=1 ttl=55 time=19.9 ms</div><div class="line">^Z</div><div class="line">[1]+  已停止               ping www.baidu.com</div><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ jobs</div><div class="line">[1]+  已停止               ping www.baidu.com</div><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ bg %1</div><div class="line">daodaoliang@daodaoliang-B85-HD3:~$ disown -h %1</div></pre></td></tr></table></figure>
<h3 id="5-screen"><a href="#5-screen" class="headerlink" title="5. screen"></a>5. screen</h3><p>screen 提供了 ANSI/VT100 的终端模拟器，使它能够在一个真实终端下运行多个全屏的伪终端。screen 的参数很多，具有很强大的功能，我们在此仅介绍其常用功能以及简要分析一下为什么使用 screen 能够避免 HUP 信号的影响</p>
<p>使用 screen 很方便，有以下几个常用选项：</p>
<ul>
<li>用screen -dmS session name来建立一个处于断开模式下的会话（并指定其会话名）。</li>
<li>用screen -list 来列出所有会话。</li>
<li>用screen -r session name来重新连接指定会话。</li>
<li>用快捷键CTRL-a d 来暂时断开当前会话。</li>
</ul>
<p>当我们用“-r”连接到 screen 会话后，我们就可以在这个伪终端里面为所欲为，再也不用担心 HUP 信号会对我们的进程造成影响，也不用给每个命令前都加上“nohup”或者“setsid”了</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql全文索引简介]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2016/01/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2016-01-14-mysql%E5%85%A8%E6%96%87%E6%90%9C%E7%B4%A2%E7%AE%80%E4%BB%8B/</url>
      <content type="html"><![CDATA[<h2 id="工具安装"><a href="#工具安装" class="headerlink" title="工具安装"></a>工具安装</h2><p>本文所介绍的全文索引是基于mysql5.7版本的，官方相关文档在<a href="http://dev.mysql.com/doc/refman/5.7/en/fulltext-search.html" target="_blank" rel="external">这里</a>,本文也只是在文档和网上其他资料的基础上进行翻译整理。</p>
<a id="more"></a>
<p><strong>语法:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">match (col1,col2,...) against (expr [search_modifier])</div><div class="line"></div><div class="line">search_modifier:</div><div class="line">&#123;</div><div class="line">	<span class="keyword">in</span> natural language mode</div><div class="line">	| <span class="keyword">in</span> natural language mode with query expansion</div><div class="line">	| <span class="keyword">in</span> boolean mode</div><div class="line">	| with query expansion</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>MySQL 已经支持全文索引搜索:</strong></p>
<ul>
<li>mysql中的全文检索使用的是FULLTEXT类型的索引;</li>
<li>Full-Text索引只能被用在InnoDB和MyISAm引擎的表上面，并且只能在CHAR ，VARCHAR和TEXT字段类型的列上;</li>
<li>在MySQL 5.7.6 中提供了内置的支持中日韩全文的NGRAM分析器，同时提供了针对日语的可安装的全文解析插件;</li>
<li>FULLTEXT索引的定义可以在表用CREATE TABLE被创建时，或者ALTER TABLE 和 ALTER INDEX;</li>
<li>对于大数据集合，把数据插入一个有FULLTEXT索引的表要比把数据插入一个没有FULLTEXT表然后在表上机上FULLTEXT索引要慢（建议对于大数据量的表做全文索引时，先建立表然后把表上加上FULLTEXT索引）</li>
</ul>
<p><strong>有三种全文检索类型：</strong></p>
<ul>
<li>自然语言模式<a href="http://dev.mysql.com/doc/refman/5.7/en/fulltext-natural-language.html" target="_blank" rel="external">IN NATURAL LANGUAGE MODE</a>，即通过MATCH AGAINST 传递某个特定的字符串来进行检索。</li>
<li>布尔模式<a href="http://dev.mysql.com/doc/refman/5.7/en/fulltext-boolean.html" target="_blank" rel="external">IN BOOLEAN MODE</a>，可以为检索的字符串增加操作符，例如“+”表示必须包含，“-”表示不包含，“*”表示通配符（这种情况， 即使传递的字符串较小或出现在停词中，也不会被过滤掉），其他还有很多特殊的布尔操作符，可以通过如下参数控制：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show variables like &apos;%ft_boolean_syntax%&apos;;</div><div class="line">+-------------------+----------------+</div><div class="line">| Variable_name     | Value          |</div><div class="line">+-------------------+----------------+</div><div class="line">| ft_boolean_syntax | + -&gt;&lt;()~*:&quot;&quot;&amp;| |</div><div class="line">+-------------------+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<ul>
<li>查询扩展模式<a href="http://dev.mysql.com/doc/refman/5.7/en/fulltext-query-expansion.html" target="_blank" rel="external">WITH QUERY EXPANSION</a>, 这种模式是自然语言模式下的一个变种，会执行两次检索，第一次使用给定的短语进行检索，第二次是结合第一次相关性比较高的行进行检索。</li>
</ul>
<p><strong>创建全文索引：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE test_article (</div><div class="line">		int id auto_increment primary key, </div><div class="line">		varchar(45) title not null,</div><div class="line">		text text_info not null,</div><div class="line">		fulltext(`title`,`text_info`)</div><div class="line">) ENGINE= InnoDB;</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">create table ft_test(id int, content text, fulltext (content) with parser ngram);</div></pre></td></tr></table></figure>
<p><strong>修改配置文件</strong></p>
<p>全局变量ngram_token_size指定了ngram分词法的词语长度，默认为2。ngram_token_size 是一个只读变量，每次修改它的值时都需要重建ngram算法的全文索引，否则改变不会生效；</p>
<p>在配置文件的 <code>mysqld</code> 标签下修改 <code>ngram_token_size</code> 即可；</p>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下包管理说明]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2016/01/12/linux%E5%AD%A6%E4%B9%A0-2016-01-12-linux%E5%B9%B3%E5%8F%B0%E4%B8%8B%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<hr>
<p><strong>主要的包管理家族</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">包管理系统</th>
<th style="text-align:center">发行版(部分列表)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Debian Style(.deb)</td>
<td style="text-align:center">Debian, Ubuntu, Xandros, Linspire</td>
</tr>
<tr>
<td style="text-align:center">Red Hat Style(.rpm)</td>
<td style="text-align:center">Fedora,CentOS,Red Hat Enterprise Linux, OpenSUSE, Mandriva, PCLinuxOS</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h2 id="1-背景知识科普"><a href="#1-背景知识科普" class="headerlink" title="1.背景知识科普"></a>1.背景知识科普</h2><h3 id="1-1-linux-中软件安装方式"><a href="#1-1-linux-中软件安装方式" class="headerlink" title="1.1 linux 中软件安装方式"></a>1.1 linux 中软件安装方式</h3><p>要么直接进行源码安装，要么用包管理工具对发行包进行安装，但是他们的共同之处在于:</p>
<ul>
<li>都有配置文件,通过配置文件来改变程序的运行特征。</li>
<li>都拥有二进制的程序主体。</li>
<li>都自带库文件，供程序主体进行调用。</li>
<li>都带有帮助文件，对程序的使用方法进行说明。</li>
</ul>
<h3 id="1-2-软件的安装路径"><a href="#1-2-软件的安装路径" class="headerlink" title="1.2 软件的安装路径"></a>1.2 软件的安装路径</h3><p>在自行下载源码进行编译安装时，是可以指定自定义的安装路径的，在使用包管理器时，都是按照自身预设的安装路径进行安装.</p>
<ul>
<li><strong>软件包的一般安装路径</strong></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件路径</th>
<th style="text-align:center">路径用途说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">系统根目录,在此安装的文件通常是OS在运行时需要调用到的程序</td>
</tr>
<tr>
<td style="text-align:center">/usr</td>
<td style="text-align:center">此目录一般情况下是提供基本服务的软件</td>
</tr>
<tr>
<td style="text-align:center">/usr/local</td>
<td style="text-align:center">此目录下一般情况是用户自行安装的第三方软件</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>系统相关的软件包的安装路径</strong></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件路径</th>
<th style="text-align:center">路径用途说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/etc</td>
<td style="text-align:center">配置文件路径</td>
</tr>
<tr>
<td style="text-align:center">/bin 和 /sbin</td>
<td style="text-align:center">二进制文件路径</td>
</tr>
<tr>
<td style="text-align:center">/lib</td>
<td style="text-align:center">库文件路径</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>系统提供服务相关的包安装路进</strong></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件路径</th>
<th style="text-align:center">路径用途说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/etc</td>
<td style="text-align:center">配置文件的路径</td>
</tr>
<tr>
<td style="text-align:center">/usr/bin 和 /usr/sbin</td>
<td style="text-align:center">二进制文件路径</td>
</tr>
<tr>
<td style="text-align:center">/usr/lib</td>
<td style="text-align:center">库文件路径</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>第三方软件包的安装路径</strong></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件路径</th>
<th style="text-align:center">路径用途说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/usr/local/etc</td>
<td style="text-align:center">配置文件路径</td>
</tr>
<tr>
<td style="text-align:center">/usr/local/bin 和 /usr/local/sbin</td>
<td style="text-align:center">二进制文件路径</td>
</tr>
<tr>
<td style="text-align:center">/usr/local/lib</td>
<td style="text-align:center">库文件路径</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>特别说明:</strong></li>
</ul>
<p>说明文件都要存放在 <code>/usr/share/man</code> 和 <code>/usr/local/share/man</code></p>
<h3 id="1-2-软件包的命名说明"><a href="#1-2-软件包的命名说明" class="headerlink" title="1.2 软件包的命名说明"></a>1.2 软件包的命名说明</h3><p>一般的软件包的组成形如(拿rpm包说明)</p>
<blockquote>
<p>name-version-release.arch.rpm</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># name: 表示包的名称，包括主包名和分包名</span></div><div class="line"><span class="comment"># version: 表示包的版本信息</span></div><div class="line"><span class="comment"># release: 用于标识包本身的发行号，可以同时包含适用的操作系统</span></div><div class="line"><span class="comment"># arch: 表示机器平台，noarch表示此包能安装到所有平台上面</span></div><div class="line"><span class="comment">#</span></div></pre></td></tr></table></figure>
<p><strong>例如:</strong></p>
<p>gd-devel-2.0.35-11.el6.x86_64.rpm</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># gd: 包的主名字</span></div><div class="line"><span class="comment"># devel: 包的分包名字</span></div><div class="line"><span class="comment"># 2.0.35: 表示版本信息，2为主板本号，0表示次版本信息，35为源码包的发行号，也叫做修订号，</span></div><div class="line"><span class="comment"># 11.el6: 11 是rpm的发行号，el6表示REHL6</span></div><div class="line"><span class="comment"># x86_64: 表示适合的平台</span></div></pre></td></tr></table></figure>
<h2 id="2-主流发行版的软件包管理速查表"><a href="#2-主流发行版的软件包管理速查表" class="headerlink" title="2. 主流发行版的软件包管理速查表"></a>2. 主流发行版的软件包管理速查表</h2><table>
<thead>
<tr>
<th style="text-align:center">任务名称</th>
<th style="text-align:center">Debian和Ubuntu等(apt系列)</th>
<th style="text-align:center">openSUSE(zypp)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">安装包</td>
<td style="text-align:center"><code>apt-get install &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>zypper install &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">卸载包</td>
<td style="text-align:center"><code>apt-get remove &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>zypper remove &lt;pkg&gt;</code></td>
<td><code>yum erase &lt;pkg&gt;</code></td>
<td><code>pacman -R &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">更新包列表</td>
<td style="text-align:center"><code>apt-get update</code></td>
<td style="text-align:center"><code>zypper refresh</code></td>
</tr>
<tr>
<td style="text-align:center">更新系统所有包</td>
<td style="text-align:center"><code>apt-get upgrade</code></td>
<td style="text-align:center"><code>zypper update</code></td>
</tr>
<tr>
<td style="text-align:center">更新指定安装包</td>
<td style="text-align:center"><code>dkpg -i &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>rpm -Uvh &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">列出源</td>
<td style="text-align:center"><code>cat /etc/apt/sources.list</code></td>
<td style="text-align:center"><code>zypper repos</code></td>
</tr>
<tr>
<td style="text-align:center">添加源</td>
<td style="text-align:center"><code>vim /etc/apt/sources.list</code></td>
<td style="text-align:center"><code>zypper addrepo &lt;path&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">移除源</td>
<td style="text-align:center"><code>vim /etc/apt/sources.list</code></td>
<td style="text-align:center"><code>zypper removerepo &lt;name&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">搜索包</td>
<td style="text-align:center"><code>apt-cache search &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>zypper search &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">列出已安装的包</td>
<td style="text-align:center"><code>dpkg -l</code></td>
<td style="text-align:center"><code>rpm -qa</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">任务名称</th>
<th style="text-align:center">Fedora,CentOS(yum)</th>
<th style="text-align:center">Arch(pacman)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">安装包</td>
<td style="text-align:center"><code>yum install &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>pacman -S &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">卸载包</td>
<td style="text-align:center"><code>yum erase &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>pacman -R &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">更新包列表</td>
<td style="text-align:center"><code>yum check-update</code></td>
<td style="text-align:center"><code>pacman -Sy</code></td>
</tr>
<tr>
<td style="text-align:center">更新系统所有包</td>
<td style="text-align:center"><code>yum update</code></td>
<td style="text-align:center"><code>pacman -Su</code></td>
</tr>
<tr>
<td style="text-align:center">更新系统指定包</td>
<td style="text-align:center"><code>rpm -Uvh &lt;pkg&gt;</code>或者<code>yum update &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>rpm -Uvh &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">列出源</td>
<td style="text-align:center"><code>yum repolist</code></td>
<td style="text-align:center"><code>cat /etc/pacman.conf</code></td>
</tr>
<tr>
<td style="text-align:center">添加源</td>
<td style="text-align:center"><code>add &lt;repo&gt; to /etc/yum.repos.d/</code></td>
<td style="text-align:center"><code>vim /etc/pacman.conf</code></td>
</tr>
<tr>
<td style="text-align:center">移除源</td>
<td style="text-align:center"><code>remove &lt;repo&gt; from /etc/yum.repos.d</code></td>
<td style="text-align:center"><code>vim /etc/pacman.conf</code></td>
</tr>
<tr>
<td style="text-align:center">搜索包</td>
<td style="text-align:center"><code>yum search &lt;pkg&gt;</code></td>
<td style="text-align:center"><code>pacman -Qs &lt;pkg&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">列出已安装的包</td>
<td style="text-align:center"><code>rmp -qs</code></td>
<td style="text-align:center"><code>pacman -Qii</code></td>
</tr>
</tbody>
</table>
<h2 id="3-RPM-包的基本操作"><a href="#3-RPM-包的基本操作" class="headerlink" title="3. RPM 包的基本操作"></a>3. RPM 包的基本操作</h2><h3 id="3-1-RPM-命令常用参数"><a href="#3-1-RPM-命令常用参数" class="headerlink" title="3.1 RPM 命令常用参数"></a>3.1 RPM 命令常用参数</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">RPM 常规使用方式 rpm -? package.rpm ,其中 -? 为操作参数(更多信息，请查阅帮助 <span class="variable">$man</span> rpm)</div><div class="line"></div><div class="line">-q 在系统中查询软件或查询指定rpm包的内容信息</div><div class="line">-i 在系统中安装软件</div><div class="line">-U 在系统中升级软件</div><div class="line"><span class="_">-e</span> 在系统卸载软件</div><div class="line">-h 用<span class="comment">#(hash)符显示rpm安装过程</span></div><div class="line">-v 详述安装过程</div><div class="line">-p 表明对rpm包进行查询，通常和其他参数同时使用，如：</div><div class="line">	-qlp 查询某个rpm包中的所有文件列表</div><div class="line">	-qip 查询某个rpm包的内容信息</div></pre></td></tr></table></figure>
<h3 id="3-2-RPM-命令参数使用方法"><a href="#3-2-RPM-命令参数使用方法" class="headerlink" title="3.2 RPM 命令参数使用方法"></a>3.2 RPM 命令参数使用方法</h3><ul>
<li><strong>安装RPM包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -ivh package.rpm</div></pre></td></tr></table></figure>
<ul>
<li><strong>升级RPM包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -Uvh package.rpm</div></pre></td></tr></table></figure>
<ul>
<li><strong>卸载RPM包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -ev package</div></pre></td></tr></table></figure>
<ul>
<li><strong>查询RPM包中包含的文件列表命令</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qlp package</div></pre></td></tr></table></figure>
<ul>
<li><strong>查询RPM包瀚内容信息命令</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qip package</div></pre></td></tr></table></figure>
<ul>
<li><strong>查询系统中所有已安装RPM包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa</div></pre></td></tr></table></figure>
<h2 id="4-DEB-包的基本操作"><a href="#4-DEB-包的基本操作" class="headerlink" title="4. DEB 包的基本操作"></a>4. DEB 包的基本操作</h2><h3 id="4-1-DPKG命令常用参数"><a href="#4-1-DPKG命令常用参数" class="headerlink" title="4.1 DPKG命令常用参数"></a>4.1 DPKG命令常用参数</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">DPKG 的常规使用方法为 dpkg -? package.deb, 其中-? 为安装参数(更多信息，请查阅帮助<span class="variable">$man</span> dpkg)</div><div class="line"></div><div class="line"><span class="_">-l</span> 在系统中查询软件内容信息</div><div class="line">--info 在系统中查询软件或查询指定rpm包的内容信息</div><div class="line">-i 在系统中安装/升级软件</div><div class="line">-r 在系统中卸载软件，不删除配置文件</div><div class="line">-P 在系统中卸载软件以及其配置文件</div></pre></td></tr></table></figure>
<h3 id="4-2-DPKG命令参数使用方法"><a href="#4-2-DPKG命令参数使用方法" class="headerlink" title="4.2 DPKG命令参数使用方法"></a>4.2 DPKG命令参数使用方法</h3><ul>
<li><strong>安装DEB包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo dpkg -i package.deb</div></pre></td></tr></table></figure>
<ul>
<li><strong>升级DEB包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo dpkg -i package.deb(和安装命令一样)</div></pre></td></tr></table></figure>
<ul>
<li><strong>卸载DEB包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo dpkg -r package.deb <span class="comment"># 不卸载配置文件</span></div><div class="line">或者</div><div class="line">sudo dpkg -P package.deb <span class="comment"># 卸载配置文件</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>查询DEB包中包含的文件列表命令</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo dpkg-deb -c package.deb</div></pre></td></tr></table></figure>
<ul>
<li><strong>查询DEB包中包含的内容信息命令</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo dpkg --info package.deb</div></pre></td></tr></table></figure>
<ul>
<li><strong>查询系统中所有已安装DEB包</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dpkg <span class="_">-l</span> package</div></pre></td></tr></table></figure>
<h2 id="5-FAQ"><a href="#5-FAQ" class="headerlink" title="5. FAQ"></a>5. FAQ</h2><h3 id="5-1-可以手动强制不进行-RPM-DEB-的依赖性关系检查吗？"><a href="#5-1-可以手动强制不进行-RPM-DEB-的依赖性关系检查吗？" class="headerlink" title="5.1 可以手动强制不进行 RPM/DEB 的依赖性关系检查吗？"></a>5.1 可以手动强制不进行 RPM/DEB 的依赖性关系检查吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>可以。使用 –nodeps 辅助参数，则安装过程将不理会依赖性关系限制，强制安装目标包，如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># rpm -i --nodeps package_a.rpm</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>DEB</strong></li>
</ul>
<p>可以。使用— force-depends 辅助参数，如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo dpkg -i --force-depends package_a.deb</div></pre></td></tr></table></figure>
<h3 id="5-2-RPM-中的-–force-是干什么用的？"><a href="#5-2-RPM-中的-–force-是干什么用的？" class="headerlink" title="5.2 RPM 中的 –force 是干什么用的？"></a>5.2 RPM 中的 –force 是干什么用的？</h3><p>RPM 中的默认安装规则是不允许同一个包多次安装，也不允许降级安装。使用–force辅助参数不考虑以上因素，强制安装RPM包。但是，–force无法强制安装一个不满足系统依赖性关系的包（此时需要用到–nodeps参数）。使用方式如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -i --force package_a.rpm</div></pre></td></tr></table></figure>
<h3 id="5-3-RPM-DPKG-支持远程安装吗？"><a href="#5-3-RPM-DPKG-支持远程安装吗？" class="headerlink" title="5.3 RPM/DPKG 支持远程安装吗？"></a>5.3 RPM/DPKG 支持远程安装吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>是。 RPM 支持 HTTP 和 FTP 协议，如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -Uvh ftp://user:pass@ftpserver/package.rpm</div></pre></td></tr></table></figure>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>最新的基于 DEB 包的系统中，远程安装通常被更先进的 APT 代替。</p>
<h3 id="5-4-可以从-RPM-DPKG-中抽取个别文件吗？"><a href="#5-4-可以从-RPM-DPKG-中抽取个别文件吗？" class="headerlink" title="5.4 可以从 RPM/DPKG 中抽取个别文件吗？"></a>5.4 可以从 RPM/DPKG 中抽取个别文件吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>是。可以使用 rpm2cpio 工具来提取文件：<a href="http://www.rpm.org/max-rpm/s1-rpm-miscellania-rpm2cpio.html" target="_blank" rel="external">http://www.rpm.org/max-rpm/s1-rpm-miscellania-rpm2cpio.html</a></p>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>是。可以使用 dpkg-deb 工具来提取文件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dpkg-deb --extract ibm_lotus_notes-8.5.i586.deb <span class="variable">$dir</span>( 目标目录 )</div></pre></td></tr></table></figure>
<h3 id="5-5-RPM-DPKG-提供包安装成功的验证机制吗？"><a href="#5-5-RPM-DPKG-提供包安装成功的验证机制吗？" class="headerlink" title="5.5 RPM/DPKG 提供包安装成功的验证机制吗？"></a>5.5 RPM/DPKG 提供包安装成功的验证机制吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>是。可以使用 -V 参数进行验证。</p>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>Debian 系统通常使用 debsums 工具参数进行验证。</p>
<h3 id="5-6-RPM-DPKG-提供包安全签名吗？"><a href="#5-6-RPM-DPKG-提供包安全签名吗？" class="headerlink" title="5.6 RPM/DPKG 提供包安全签名吗？"></a>5.6 RPM/DPKG 提供包安全签名吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>是。可以使用 –import 导入与软件同时发布的 GPG KEY, 接着使用 -K 命令来验证包的安全性，如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm --import pub_ibm_lotus_notes.gpg <span class="comment"># rpm -K ibm_lotus_notes-8.5.i586.rpm 返回信息 : ibm_lotus_notes-8.5.i586.rpm: (sha1) dsa sha1 md5 gpg OK</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>DPKG 不提供原生的 Key 验证机制。可以使用 debsigs 和 debsigs-verify，详情请见：<a href="http://man.ddvip.com/os/debiansecuring-howto/ch7.zh-cn.html" target="_blank" rel="external">http://man.ddvip.com/os/debiansecuring-howto/ch7.zh-cn.html</a></p>
<h3 id="5-7-如果-RPM-的底层数据库损坏，RPM-还能使用吗？"><a href="#5-7-如果-RPM-的底层数据库损坏，RPM-还能使用吗？" class="headerlink" title="5.7  如果 RPM 的底层数据库损坏，RPM 还能使用吗？"></a>5.7  如果 RPM 的底层数据库损坏，RPM 还能使用吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>如果底层数据库损坏，RPM 将无法正常使用。此时最常用的解决方法是重构数据库：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rm <span class="_">-f</span> /var/lib/rpm/__* ; rpm -vv --rebuilddb</div></pre></td></tr></table></figure>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>DPKG 本身不提供底层数据库恢复机制。它的数据库以文件形式保存在 /var/lib/dpkg 目录中。及时地备份这个目录是最好的预防数据库损坏措施。</p>
<h3 id="5-8-可以查询系统中已经安装的某个文件属于哪个-RPM-包吗？"><a href="#5-8-可以查询系统中已经安装的某个文件属于哪个-RPM-包吗？" class="headerlink" title="5.8  可以查询系统中已经安装的某个文件属于哪个 RPM 包吗？"></a>5.8  可以查询系统中已经安装的某个文件属于哪个 RPM 包吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>可以。使用 -qf 参数 , 如在安装了 Notes8.5 的系统中：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qf /opt/ibm/lotus/notes/notes 返回信息 : Ibm_lotus_notes-8.5-20081211.1920</div></pre></td></tr></table></figure>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>可以。使用— search 参数 , 如在安装了 Notes8.5 的系统中：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dpkg --search /opt/ibm/lotus/notes/notes 返回信息 : ibm-lotus-notes: /opt/ibm/lotus/notes/notes</div></pre></td></tr></table></figure>
<h3 id="5-9-可以查询-RPM-包的安装时间吗？"><a href="#5-9-可以查询-RPM-包的安装时间吗？" class="headerlink" title="5.9 可以查询 RPM 包的安装时间吗？"></a>5.9 可以查询 RPM 包的安装时间吗？</h3><ul>
<li><strong>RPM</strong></li>
</ul>
<p>可以。可使用 –last 查询。如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa --last 返回信息 : 系统中所有软件的安装时间。</div></pre></td></tr></table></figure>
<ul>
<li><strong>DPKG</strong></li>
</ul>
<p>DPKG 不提供直接的查询参数，但是可以用过查询 dpkg 的日志文件实现这个功能。如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /var/<span class="built_in">log</span>/dpkg.log | grep <span class="string">"\ install\ "</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5配置防火墙]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2016/01/06/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2016-01-06-CentOS6-5%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p><img src="/res/img/blog/环境搭建/iptables.jpg" alt="iptables图解"></p>
<h3 id="检查iptables状态"><a href="#检查iptables状态" class="headerlink" title="检查iptables状态"></a>检查iptables状态</h3><p><strong>检查服务状态:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ service iptables status</div><div class="line">iptables: Firewall is not running.</div></pre></td></tr></table></figure>
<p>上面的状态说明iptables服务是没有被安装的,进行iptables的安装:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yum install -y iptables</div></pre></td></tr></table></figure>
<p><strong>启动iptables:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service iptables start</div></pre></td></tr></table></figure>
<p><strong>查看当前iptables的配置:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ iptables -L -n</div></pre></td></tr></table></figure>
<h3 id="清除默认的防火墙规则"><a href="#清除默认的防火墙规则" class="headerlink" title="清除默认的防火墙规则"></a>清除默认的防火墙规则</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 允许所有请求</span></div><div class="line">iptables -P INPUT ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># 清空默认所有规则</span></div><div class="line">iptables -F</div><div class="line"></div><div class="line"><span class="comment"># 清空自定义的所有规则</span></div><div class="line">iptables -X</div><div class="line"></div><div class="line"><span class="comment"># 计数器置零</span></div><div class="line">iptables -Z</div></pre></td></tr></table></figure>
<h3 id="配置规则"><a href="#配置规则" class="headerlink" title="配置规则"></a>配置规则</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 允许本地的数据包发送</span></div><div class="line">iptables -A INPUT -i lo -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># SSH 端口22</span></div><div class="line">iptables -A INPUT -p tcp --dport 22 -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># FTP 端口21</span></div><div class="line">iptables -A INPUT -p tcp --dport 21 -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># WEB 端口80</span></div><div class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># 自定义的端口 XXXX </span></div><div class="line">iptables -A INPUT -p tcp --dport xxxx -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># 允许 ping</span></div><div class="line">iptables -A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT</div><div class="line"> </div><div class="line"><span class="comment"># 允许对外请求的返回包</span></div><div class="line">iptables -A INPUT -m state --state ESTABLISHED -j ACCEPT</div><div class="line"></div><div class="line"><span class="comment"># 添加指定IP的所有tcp请求</span></div><div class="line">iptables -A INPUT -p tcp <span class="_">-s</span> 112.114.123.12 -j ACCEPT</div><div class="line"> </div><div class="line"><span class="comment">#过滤所有非以上规则的请求</span></div><div class="line">iptables -P INPUT DROP</div></pre></td></tr></table></figure>
<h3 id="保存规则"><a href="#保存规则" class="headerlink" title="保存规则"></a>保存规则</h3><p><strong>查看配置是否正确</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iptables -L -n</div></pre></td></tr></table></figure>
<p><strong>另开一个ssh链接，确保可以登录</strong></p>
<p><strong>保存</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ service iptables save</div></pre></td></tr></table></figure>
<p><strong>添加自启动</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ chkconfig iptables on</div></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下netcat命令中无效参数e的解决方案]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/12/29/linux%E5%AD%A6%E4%B9%A0-2015-12-29-netcat%E5%91%BD%E4%BB%A4%E6%97%A0%E6%95%88%E5%8F%82%E6%95%B0e%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<hr>
<p>错误信息如下:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">nc: invalid option — ‘e’</div><div class="line">This is nc from the netcat-openbsd package. An alternative nc is available</div><div class="line"><span class="keyword">in</span> the netcat-traditional package.</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>修复方案如下：</p>
<blockquote>
<ul>
<li>在终端执行：</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo rm /etc/alternatives/nc &amp;&amp; sudo ln <span class="_">-s</span> /bin/nc.traditional /etc/alternatives/nc</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>思路如下：</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$ ls -ld /bin/nc</div><div class="line"></div><div class="line">lrwxrwxrwx 1 root root 20 12月 11  2014 /bin/nc -&gt; /etc/alternatives/nc</div><div class="line"></div><div class="line">$ ls -ld /etc/alternatives/nc</div><div class="line"></div><div class="line">lrwxrwxrwx 1 root root 19 12月 29 17:10 /etc/alternatives/nc -&gt; /bin/nc.traditional</div></pre></td></tr></table></figure>
<p>至此我们就找到了真正需要的nc了,然后够解决方案里面就是对其做了一个软连接</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[日常linux命令之nc]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/12/28/linux%E5%AD%A6%E4%B9%A0-2015-12-28-%E6%97%A5%E5%B8%B8linux%E5%91%BD%E4%BB%A4%E4%B9%8Bnc/</url>
      <content type="html"><![CDATA[<hr>
<p>这是一篇我觉得很不错的文章，故而我进行了翻译，原文在<a href="http://xmodulo.com/useful-netcat-examples-linux.html" target="_blank" rel="external">这里</a></p>
<a id="more"></a>
<p>通常被称为TCP/IP的　<code>瑞士军刀</code>，Netcat的是一种非常通用的Linux工具，它可以让用TCP/IP协议做任何操作。这是一个系统管理员在网络相关的故障排除和实验时最喜欢的工具之一。</p>
<p>在本教程中，我分享了一些有用的<code>netcat</code>的例子，当然我所描述的例子的使用场景有限，如果你也是经常地使用<code>netcat</code>,随时分享你的使用技巧。</p>
<p><strong>注意：</strong>当你绑定nc到 “众所周知”的端口(0~1023)时你需要<code>root</code>权限，其他情况用普通用户权限即可。</p>
<h3 id="1-测试远程主机的端口是否开放"><a href="#1-测试远程主机的端口是否开放" class="headerlink" title="1. 测试远程主机的端口是否开放"></a>1. 测试远程主机的端口是否开放</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ nc -vn 123.125.114.144 5000</div><div class="line"></div><div class="line">nc: connect to 123.125.114.144 5000 (tcp) failed: Connection refused</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ nc -v 123.125.114.144 22</div><div class="line"></div><div class="line">Connection to 123.125.114.144 22 port [tcp/ssh] succeeded!</div><div class="line">SSH-2.0-OpenSSH_5.3</div></pre></td></tr></table></figure>
<h3 id="2-发送UDP测试包到远程主机"><a href="#2-发送UDP测试包到远程主机" class="headerlink" title="2. 发送UDP测试包到远程主机"></a>2. 发送UDP测试包到远程主机</h3><p>下面的命令将会发送一个UDP测试包到远程主机的5000端口，并且超时时间为1秒：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> -n <span class="string">"foo"</span> | nc -u -w1 123.125.114.144 5000</div></pre></td></tr></table></figure>
<h3 id="3-对远程主机进行端口扫描"><a href="#3-对远程主机进行端口扫描" class="headerlink" title="3. 对远程主机进行端口扫描"></a>3. 对远程主机进行端口扫描</h3><p>下面的命令会对远程主机的[1~1000] 和 [2000~3000]端口进行扫描，检查端口是否打开</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc -vnz -w2 123.125.114.144 1-1000 2000-3000</div></pre></td></tr></table></figure>
<h3 id="4-从主机-hostA-com-复制一个文件-例如-my-jpg-到主机-hostB-com"><a href="#4-从主机-hostA-com-复制一个文件-例如-my-jpg-到主机-hostB-com" class="headerlink" title="4. 从主机 hostA.com 复制一个文件(例如 my.jpg)到主机 hostB.com"></a>4. 从主机 hostA.com 复制一个文件(例如 my.jpg)到主机 hostB.com</h3><p>在主机 <code>hostB.com</code> (接收者)：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nc -lp 5000 &gt; my.jpg</div></pre></td></tr></table></figure>
<p>在主机 <code>hostB.com</code> (发送者):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nc hostA.com 5000 &lt; my.jpg</div></pre></td></tr></table></figure>
<h3 id="5-从主机-hostA-com-传输整个文件夹-包裹里面的内容-到主机-hostB-com"><a href="#5-从主机-hostA-com-传输整个文件夹-包裹里面的内容-到主机-hostB-com" class="headerlink" title="5. 从主机 hostA.com 传输整个文件夹(包裹里面的内容) 到主机 hostB.com"></a>5. 从主机 hostA.com 传输整个文件夹(包裹里面的内容) 到主机 hostB.com</h3><p>在主机 <code>hostB.com</code>(接收者)上：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc <span class="_">-l</span> 5000 | tar -xvf -</div></pre></td></tr></table></figure>
<p>在主机 <code>hostA.com</code>(发送者)上：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tar -cvf - /path/to/dir hostB.com 5000</div></pre></td></tr></table></figure>
<h3 id="6-对远程主机的UPD端口进行扫描"><a href="#6-对远程主机的UPD端口进行扫描" class="headerlink" title="6. 对远程主机的UPD端口进行扫描"></a>6. 对远程主机的UPD端口进行扫描</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc -vnzu 123.125.114.144 1-65535</div></pre></td></tr></table></figure>
<h3 id="7-启动一个静态网站服务"><a href="#7-启动一个静态网站服务" class="headerlink" title="7. 启动一个静态网站服务"></a>7. 启动一个静态网站服务</h3><p>输入如下命令将会启动一个WEB服务，把test.html启动在 8000端口</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">while</span> <span class="literal">true</span>;<span class="keyword">do</span> nc -lp 8000 &lt; test.html;<span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>现在输入 http://<host_ip_address>:8000/test.html 就可以访问它，注意问了使用众所周知的80端口，你需要在运行nc时用root权限，如下所示：</host_ip_address></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ whilr <span class="literal">true</span>;<span class="keyword">do</span> sudo nc -lp 80 &lt; test.html;<span class="keyword">done</span></div></pre></td></tr></table></figure>
<h3 id="8-不安全-两台主机间聊天"><a href="#8-不安全-两台主机间聊天" class="headerlink" title="8. (不安全)两台主机间聊天"></a>8. (不安全)两台主机间聊天</h3><p>在其中一台主机(192.168.233.203):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc -lp 5000</div></pre></td></tr></table></figure>
<p>在另外一台主机上:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc 192.168.233.203 5000</div></pre></td></tr></table></figure>
<p>在运行了上述的命令后，键入任何操作都回在另外的主机上显示</p>
<h3 id="9-运行一个-“远程shell”-允许你在远程主机上执行任何命令"><a href="#9-运行一个-“远程shell”-允许你在远程主机上执行任何命令" class="headerlink" title="9. 运行一个 “远程shell” 允许你在远程主机上执行任何命令"></a>9. 运行一个 “远程shell” 允许你在远程主机上执行任何命令</h3><p>在远程主机上(192.168.233.203):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc -lp 5000 <span class="_">-e</span> /bin/bash</div></pre></td></tr></table></figure>
<p>在本地主机上执行:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc 192.168.233.208 5000</div></pre></td></tr></table></figure>
<p>在运行了上述命令周你就能在本地主机的终端运行任何命令了，这个命令将会被在远程主机的终端上执行，并且命令的输出也会出现在本地主机上，这个设置通常用来作为远程主机的后门程序。</p>
<h3 id="10-为一个常规网站创建一个WEB代理-例如-google-com"><a href="#10-为一个常规网站创建一个WEB代理-例如-google-com" class="headerlink" title="10. 为一个常规网站创建一个WEB代理(例如 google.com)"></a>10. 为一个常规网站创建一个WEB代理(例如 google.com)</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ mkfifo proxypipe</div><div class="line">$ <span class="keyword">while</span> <span class="literal">true</span>; <span class="keyword">do</span> nc <span class="_">-l</span> 5000 0&lt;proxypipe | nc www.google.com 80 1&gt; proxypipe; <span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>上述命令将会创建一个名为 proxypipe 的管道，并且用nc重定向所有 TCP/5000 的链接到 <a href="http://www.google.com" target="_blank" rel="external">http://www.google.com</a> ,通过这个设置你就可以通过<a href="http://127.0.0.1:5000来访问google" target="_blank" rel="external">http://127.0.0.1:5000来访问google</a></p>
<h3 id="11-味一个常规网站创建一个SSL代理-例如-google-com"><a href="#11-味一个常规网站创建一个SSL代理-例如-google-com" class="headerlink" title="11. 味一个常规网站创建一个SSL代理(例如 google.com)"></a>11. 味一个常规网站创建一个SSL代理(例如 google.com)</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkfifo proxypipe</div><div class="line">$ mkfifo proxypipe2</div><div class="line">$ nc <span class="_">-l</span> 5000 -k &gt; proxypipe &lt; proxypipe2 &amp;</div><div class="line">$ <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span>; openssl s_client -connect www.google.com:443 -quiet &lt; proxypipe &gt; proxypipe2; <span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>上述命令会用 nc 创建一个SSL代理链接到Google.com</p>
<h3 id="12-在服务器上流式化视频文件，并且从客户端用mplayer进行观看视频流"><a href="#12-在服务器上流式化视频文件，并且从客户端用mplayer进行观看视频流" class="headerlink" title="12. 在服务器上流式化视频文件，并且从客户端用mplayer进行观看视频流"></a>12. 在服务器上流式化视频文件，并且从客户端用mplayer进行观看视频流</h3><p>在视频服务器(192.168.233.208)：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat video.avi | nc <span class="_">-l</span> 5000</div></pre></td></tr></table></figure>
<p>在客户端：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc 192.168.233.208 5000 | mplayer -vo x11 -cache 3000 -</div></pre></td></tr></table></figure>
<h3 id="13-用IPV6监听一个TCP端口"><a href="#13-用IPV6监听一个TCP端口" class="headerlink" title="13. 用IPV6监听一个TCP端口"></a>13. 用IPV6监听一个TCP端口</h3><p>下面的命令会让nc在今听一个TCP地址时 使用 IPv6 协议，这在测试IPv6的配置时非常有用；</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nc -6 <span class="_">-l</span> 5000</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo netstat -nap | grep 5000</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[reStructuredText 的基本语法]]></title>
      <url>/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/2015/12/22/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86-2015-12-22-reStructuredText%E6%96%87%E6%A1%A3/</url>
      <content type="html"><![CDATA[<p>reStructuredText <a href="http://docutils.sourceforge.net/rst.html" target="_blank" rel="external">官方网址</a>, 打不开吧!!!!!! fuck <a href="https://zh.wikipedia.org/wiki/%E9%98%B2%E7%81%AB%E9%95%BF%E5%9F%8E" target="_blank" rel="external">GFW</a></p>
<a id="more"></a>
<p><a href="http://sphinx-doc-zh.readthedocs.org/en/latest/rest.html" target="_blank" rel="external">这里</a>是Sphinx中关于<code>reStructuredText</code>的翻译，本文也是从里面挑拣自己平时回经常用到的语法进行示例化记录。</p>
<p><strong>以下内容纯属虚构，图片也是随手在知乎上巴拉的头像</strong></p>
<h3 id="1-提示类信息"><a href="#1-提示类信息" class="headerlink" title="1.提示类信息"></a>1.提示类信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">.. note::</div><div class="line"></div><div class="line">    我是note 信息</div><div class="line"></div><div class="line">.. attention::</div><div class="line"></div><div class="line">    我是attention信息</div><div class="line"></div><div class="line">.. caution::</div><div class="line"></div><div class="line">    我是caution信息</div><div class="line"></div><div class="line">.. warning::</div><div class="line"></div><div class="line">    我是warning信息</div><div class="line"></div><div class="line">.. tip::</div><div class="line"></div><div class="line">    我是tip信息</div><div class="line"></div><div class="line">.. important::</div><div class="line"></div><div class="line">    我是important信息</div><div class="line"></div><div class="line">.. hint::</div><div class="line"></div><div class="line">    我是hint信息</div><div class="line"></div><div class="line">.. error::</div><div class="line"></div><div class="line">    我是error信息</div><div class="line"></div><div class="line">.. danger::</div><div class="line"></div><div class="line">    我是danger信息</div></pre></td></tr></table></figure>
<h3 id="2-标题类信息"><a href="#2-标题类信息" class="headerlink" title="2.标题类信息"></a>2.标题类信息</h3><p>在reST中标题非常简单，只要在标题上(下)使用非字母和数字的七位元ASCII记录下标线（或上标线）即可，你不需担心标题会用什么格式，只要在相同位置使用相同标记即可。可用的字符有：! “ # $ % &amp; ‘ ( ) * + , - . / : ; &lt; = &gt; ? @ [ ] ^ _ ` { | } ~。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">============</div><div class="line">文章标题测试</div><div class="line">============</div><div class="line"></div><div class="line">***************</div><div class="line">章节标题测试</div><div class="line">***************</div><div class="line"></div><div class="line">小节标题测试</div><div class="line">===============</div><div class="line"></div><div class="line">子节标题测试</div><div class="line">------------------</div><div class="line"></div><div class="line">子子节标题测试</div><div class="line">^^^^^^^^^^^^^^^^^^^^^</div><div class="line"></div><div class="line">段落标题测试</div><div class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</div><div class="line"></div><div class="line">段落标题测试</div><div class="line">******************</div></pre></td></tr></table></figure>
<h3 id="3-字体类信息"><a href="#3-字体类信息" class="headerlink" title="3.字体类信息"></a>3.字体类信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">**加黑字体**</div><div class="line"></div><div class="line">*意大利斜体*</div><div class="line"></div><div class="line">\ 转义字体(后面跟着一个空格意味着后面是一个空格)</div><div class="line"></div><div class="line"></div><div class="line">``原始形态的字体而非Docutils处理后的文字，通常以等宽字体出现 Hello nami!``</div></pre></td></tr></table></figure>
<h3 id="4-段落"><a href="#4-段落" class="headerlink" title="4.段落"></a>4.段落</h3><p>在reST中，段落只要在中间隔开一行即可，Docutils会自动判别各个段落，例如：</p>
<h3 id="5-代码块"><a href="#5-代码块" class="headerlink" title="5.代码块"></a>5.代码块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">``I am code``</div><div class="line"></div><div class="line">我是代码测试快::</div><div class="line"></div><div class="line">    # coding: utf-8</div><div class="line"></div><div class="line">    __author__ = &apos;daodaoliang&apos;</div><div class="line"></div><div class="line">    from flask import Flask</div><div class="line">    from flask_restful import Resource, Api</div><div class="line"></div><div class="line">    app = Flask(__name__)</div><div class="line">    api = Api(app)</div><div class="line"></div><div class="line"></div><div class="line">    # noinspection PyMethodMayBeStatic</div><div class="line">    class Api_HelloWorld_V1(Resource):</div><div class="line">        def get(self):</div><div class="line">            return &#123;&apos;hello&apos;: &apos;world&apos;&#125;</div><div class="line"></div><div class="line"></div><div class="line">    api.add_resource(Api_HelloWorld_V1, &apos;/&apos;)</div><div class="line"></div><div class="line">    if __name__ == &apos;__main__&apos;:</div><div class="line">        app.run(debug=True)</div></pre></td></tr></table></figure>
<h3 id="6-表格"><a href="#6-表格" class="headerlink" title="6. 表格"></a>6. 表格</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">---------------------</div><div class="line"></div><div class="line">+------------------------+------------+----------+----------+</div><div class="line">| Header row, column 1   | Header 2   | Header 3 | Header 4 |</div><div class="line">| (header rows optional) |            |          |          |</div><div class="line">+========================+============+==========+==========+</div><div class="line">| body row 1, column 1   | column 2   | column 3 | column 4 |</div><div class="line">+------------------------+------------+----------+----------+</div><div class="line">| body row 2             | ...        | ...      |          |</div><div class="line">+------------------------+------------+----------+----------+</div><div class="line"></div><div class="line">或者更为简洁的方式</div><div class="line"></div><div class="line">=====  =====  ======</div><div class="line">   Inputs     Output</div><div class="line">------------  ------</div><div class="line">  A      B    A or B</div><div class="line">=====  =====  ======</div><div class="line">False  False  False</div><div class="line">True   False  True</div><div class="line">False  True   True</div><div class="line">True   True   True</div><div class="line">=====  =====  ======</div></pre></td></tr></table></figure>
<h3 id="7-超链接"><a href="#7-超链接" class="headerlink" title="7. 超链接"></a>7. 超链接</h3><ul>
<li>在后面加上下划线，只要在指定目标即可形成超链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">`我的博客啦啦啦啦`_.</div><div class="line"></div><div class="line">.. _我的博客啦啦啦啦: http://daodaoliang.github.io(这里不仅仅可以时网址，也可以时内部标题，实现内部的跳转)</div></pre></td></tr></table></figure>
<ul>
<li>内嵌网址的形式( <code>链接显示文字 &lt;网址&gt;</code>_ )</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">`我的博客啦 &lt;http://daodaoliang.github.io&gt;`_.</div></pre></td></tr></table></figure>
<ul>
<li>直接写网址</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">daodaoliang.github.io</div></pre></td></tr></table></figure>
<ul>
<li>无名超链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">`我是一个很长长长长长长长……的文字`__我是后面的文字</div><div class="line"></div><div class="line">.. __: daodaoliang.github.io</div><div class="line"></div><div class="line">或者更简洁的:</div><div class="line"></div><div class="line">__ daodaoliang.github.io`</div></pre></td></tr></table></figure>
<ul>
<li>内部链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">`内部标题`_</div></pre></td></tr></table></figure>
<ul>
<li>间接链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">`内部链接`_</div><div class="line"></div><div class="line">.. _内部链接: daodaoliang.github.io</div><div class="line"></div><div class="line">`我是链接`_</div><div class="line"></div><div class="line">.. _我是链接: 内部链接_</div></pre></td></tr></table></figure>
<ul>
<li>无内容链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.. _回页首:</div><div class="line"></div><div class="line">`回页首`_</div></pre></td></tr></table></figure>
<h3 id="8-上下标"><a href="#8-上下标" class="headerlink" title="8. 上下标"></a>8. 上下标</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">1. 上标:</div><div class="line"></div><div class="line">123:sup:`2` 意思123的上标为2</div><div class="line"></div><div class="line">2. 下标:</div><div class="line"></div><div class="line">123:sub:`2` 意思123的下表为2</div></pre></td></tr></table></figure>
<h3 id="9-图片资源"><a href="#9-图片资源" class="headerlink" title="9. 图片资源"></a>9. 图片资源</h3><ul>
<li>段落间插入图片</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">.. image:: https://pic4.zhimg.com/6a97b4a68a4db3f1d3ae66cd1638965f.jpeg</div><div class="line">	:scale: 100</div><div class="line">	:height: 120</div><div class="line">	:width: 160</div><div class="line">	:align: left</div><div class="line">	:alt: I&apos;m a girl.</div><div class="line">	:target: https://pic4.zhimg.com/6a97b4a68a4db3f1d3ae66cd1638965f.jpeg</div><div class="line">   	</div><div class="line">	这个女孩我也不认识，只是在知乎随手巴拉的啦，哈哈哈哈(这个功能需要PIL库)</div></pre></td></tr></table></figure>
<ul>
<li>文字间插入图片</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">这里有\|内部图片|\，哈哈哈哈哈</div><div class="line"></div><div class="line">.. |内部图片| image:: https://pic4.zhimg.com/6a97b4a68a4db3f1d3ae66cd1638965f.jpeg</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/项目工程管理/2015-12-22-01.png" alt="这里示例图01"><br><img src="/res/img/blog/项目工程管理/2015-12-22-02.png" alt="这里示例图02"><br><img src="/res/img/blog/项目工程管理/2015-12-22-03.png" alt="这里示例图03"></p>
]]></content>
      
        <categories>
            
            <category> 项目工程管理 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[gitflow分支管理模型(转载)]]></title>
      <url>/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/2015/11/05/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86-2015-11-05-gitflow%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9E%8B/</url>
      <content type="html"><![CDATA[<p><strong>重要的事情要加黑：</strong> <a href="http://www.berlinix.com/it/gitflow.php" target="_blank" rel="external">这里是原博客地址</a></p>
<a id="more"></a>
<h2 id="gitflow-知识介绍"><a href="#gitflow-知识介绍" class="headerlink" title="gitflow 知识介绍"></a>gitflow 知识介绍</h2><p><strong>gitflow的分支类型：</strong></p>
<blockquote>
<ul>
<li><p>master分支（1个）</p>
</li>
<li><p>develop分支（1个）</p>
</li>
<li><p>feature分支。同时存在多个</p>
</li>
<li><p>release分支。同一时间只有1个，生命周期很短，只是为了发布。</p>
</li>
<li><p>hotfix分支。同一时间只有1个。生命周期较短，用了修复bug或小粒度修改发布。</p>
</li>
</ul>
</blockquote>
<p>  在这个模型中，master和develop都具有象征意义。master分支上的代码总是稳定的（stable build），随时可以发布出去。develop上的代码总是从feature上合并过来的，可以进行Nightly Builds，但不直接在develop上进行开发。当develop上的feature足够多以至于可以进行新版本的发布时，可以创建release分支。</p>
<p>  release分支基于develop，进行很简单的修改后就被合并到master，并打上tag，表示可以发布了。紧接着release将被合并到develop；此时develop可能往前跑了一段，出现合并冲突，需要手工解决冲突后再次合并。这步完成后就删除release分支。</p>
<p> 当从已发布版本中发现bug要修复时，就应用到hotfix分支了。hotfix基于master分支，完成bug修复或紧急修改后，要merge回master，打上一个新的tag，并merge回develop，删除hotfix分支。</p>
<p>由此可见release和hotfix的生命周期都较短，master/develop虽然总是存在但却不常使用。</p>
<p>以上就是gitflow的基本概念了。下面是nvie（gitflow的提出者，一个荷兰人！） <a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="external">A successful Git branching model</a>（发布于2010年月5日）一文的笔记。</p>
<p><img src="/res/img/blog/版本管理/gitflow-layout.png" alt="简介图"></p>
<p>从右看起：</p>
<blockquote>
<ul>
<li><p>时间轴.</p>
</li>
<li><p>feature（玫红）。主要是自己玩了，差不多的时候要合并回develop去。从不与master交互。</p>
</li>
<li><p>develop（黄色）。主要是和feature以及release交互。</p>
</li>
<li><p>release（绿色）。总是基于develop，最后又合并回develop。当然对应的tag跑到master这边去了。</p>
</li>
<li><p>hotfix（红色）。总是基于master，并最后合并到master和develop。</p>
</li>
<li><p>master（蓝色）。没有什么东西，仅是一些关联的tag，因从不在master上开发。</p>
</li>
</ul>
</blockquote>
<p>接下来nvie说道自己喜爱git，因git改变了人们对合并/分支（merge/branches）的看法。从集中式的代码管理工具过来的人感到释放了（beware of merge conflicts, they bite you，注意合并冲突，它们会跳出来咬你！）。</p>
<h2 id="gitflow实例"><a href="#gitflow实例" class="headerlink" title="gitflow实例"></a>gitflow实例</h2><p><strong>手动安装安装gitflow</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> --recursive git://github.com/nvie/gitflow.git</div><div class="line"><span class="built_in">cd</span> gitflow/</div><div class="line">sudo make install</div><div class="line">ls /usr/<span class="built_in">local</span>/bin/git-flow</div><div class="line">/usr/<span class="built_in">local</span>/bin/git-flow</div></pre></td></tr></table></figure>
<p><strong>命令安装gitflow</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apt-get install git-flow</div></pre></td></tr></table></figure>
<p><a href="https://github.com/nvie/gitflow/wiki" target="_blank" rel="external">官方的安装文档</a></p>
<p>到项目根目录下执行gitflow，因为之前修改没有commit，所以gitflow初始化失败：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git flow init</div><div class="line">fatal: Working tree contains unstaged changes. Aborting.</div></pre></td></tr></table></figure>
<p>commit后再次进行gitflow初始化：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$ git commit <span class="_">-a</span> -m <span class="string">"update Bash"</span></div><div class="line">[master 8f5b874] update Bash</div><div class="line"> 4 files changed, 71 insertions(+), 5 deletions(-)</div><div class="line"></div><div class="line">$ git flow init</div><div class="line"></div><div class="line">Which branch should be used <span class="keyword">for</span> bringing forth production releases?</div><div class="line">   - master</div><div class="line">Branch name <span class="keyword">for</span> production releases: [master] </div><div class="line">Branch name <span class="keyword">for</span> <span class="string">"next release"</span> development: [develop] </div><div class="line"></div><div class="line">How to name your supporting branch prefixes?</div><div class="line">Feature branches? [feature/] </div><div class="line">Release branches? [release/] </div><div class="line">Hotfix branches? [hotfix/] </div><div class="line">Support branches? [support/] </div><div class="line">Version tag prefix? []</div></pre></td></tr></table></figure>
<p>一路回车下来，各个分支名都按默认的设置。最后，当前分支已经被切换到了develop：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git branch</div><div class="line">* develop</div><div class="line">  master</div></pre></td></tr></table></figure>
<p>建立一个新的feature。git flow新建了功能分支feature/blog_builder，并在develop的基础上checkout了新分支：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git flow feature start blog_builder</div><div class="line">$ git branch</div><div class="line">  develop</div><div class="line">* feature/blog_builder</div><div class="line">  master</div></pre></td></tr></table></figure>
<p>开发完成后执行如下命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git flow feature finish blog_builder</div><div class="line">Summary of actions:</div><div class="line">- The feature branch <span class="string">'feature/blog_builder'</span> was merged into <span class="string">'develop'</span></div><div class="line">- Feature branch <span class="string">'feature/blog_builder'</span> has been removed</div><div class="line">- You are now on branch <span class="string">'develop'</span></div></pre></td></tr></table></figure>
<p>正如这条命令的总结所言，git flow为我们做了3件事：</p>
<blockquote>
<ul>
<li><p>把feature/blog_builder合并到了develop。</p>
</li>
<li><p>删除了feature/blog_builder分支。</p>
</li>
<li><p>切换回develop分支。</p>
</li>
</ul>
</blockquote>
<p>接下来发布一个正常的版本：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow release start v0.5</div></pre></td></tr></table></figure>
<p>一旦需要发布的版本确认无误可以发布后，执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git flow release finish v0.5</div><div class="line">summary of actions:</div><div class="line">- Latest objects have been fetched from <span class="string">'origin'</span></div><div class="line">- Release branch has been merged into <span class="string">'master'</span></div><div class="line">- The release was tagged <span class="string">'v0.5'</span></div><div class="line">- Release branch has been back-merged into <span class="string">'develop'</span></div><div class="line">- Release branch <span class="string">'release/v0.5'</span> has been deleted</div></pre></td></tr></table></figure>
<p>注意release/v0.5被合并到了master和develop分支，并打了个v0.5的tag，然后被删除，最后切换回了develop分支：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> $ git branch</div><div class="line">* develop</div><div class="line">  master</div></pre></td></tr></table></figure>
<p>发布时只需将tag为v0.5的版本checkout出来部署即可：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git tag</div><div class="line">v0.5</div></pre></td></tr></table></figure>
<p>当上线后发现v0.5的bug，可以进行hotfix：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow hotfix start v0.5.1</div></pre></td></tr></table></figure>
<p>此时gitflow从master分支上拉出一个hotfix/v0.5.1的分支，接下来在新分支上修改bug。最后执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow hotfix finish v0.5.1</div></pre></td></tr></table></figure>
<p>这样hotfix/v0.5.1被merge到master/develop分支，打好v0.5.1这个tag，删除这个分支，切换回develop分支。</p>
<p>之后又是新一次的轮回，启动正常的feature开发。</p>
]]></content>
      
        <categories>
            
            <category> 项目工程管理 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[深入研究tornado框架---tornado入门]]></title>
      <url>/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/2015/11/04/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0-2015-11-04-%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6tornado%E6%A1%86%E6%9E%B6-tornado%E5%85%A5%E9%97%A8%E7%AF%87/</url>
      <content type="html"><![CDATA[<hr>
]]></content>
      
        <categories>
            
            <category> 开源框架学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[以正确的方式开源 Python 项目(转载)]]></title>
      <url>/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/2015/11/04/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0-2015-11-04-%E4%BB%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%96%B9%E5%BC%8F%E5%BC%80%E6%BA%90Python%E9%A1%B9%E7%9B%AE/</url>
      <content type="html"><![CDATA[<p><strong>重要的事情要加黑:</strong> <a href="http://www.oschina.net/translate/open-sourcing-a-python-project-the-right-way?print" target="_blank" rel="external">原文地址</a></p>
<a id="more"></a>
<p>  大多数Python开发者至少都写过一个像工具、脚本、库或框架等对其他人也有用的工具。我写这篇文章的目的是让现有Python代码的开源过程尽可能清晰和无痛。我不是简单的指——“创建一个GitHub库，提交，在Reddit上发布，每天调用它”。在本文的结尾，你可以把现有的代码转换成一个能够鼓励他人使用和贡献的开源项目。然而每一个项目都是不同的，但其中将现有代码开源的流程对所有的Python项目都是类似的.</p>
<h2 id="1-工具和概念"><a href="#1-工具和概念" class="headerlink" title="1. 工具和概念"></a>1. 工具和概念</h2><ul>
<li>1.1. 项目布局(目录结构)</li>
<li>1.2. setuptools 和 setup.py文件</li>
<li>1.3. git 版本控制</li>
<li>1.4. github 项目管理<ul>
<li>1.4.1 github <code>issues</code>的如下作用:</li>
<li>1.4.1.1 bug跟踪</li>
<li>1.4.1.2 请求新特性</li>
<li>1.4.1.3 计划好的新特性</li>
<li>1.4.1.4 发布或者版本管理</li>
</ul>
</li>
<li>1.5. git-flow git工作流</li>
<li>1.6. py.test 单元测试</li>
<li>1.7. tox 标准化测试</li>
<li>1.8. sphinx 自动生成html文档</li>
<li>1.9. TravisCI 持续测试集成</li>
<li>1.10 ReadTheDocs 持续文档集成</li>
<li>1.11 Cookiecutter  为开始下一个项目自动生成这些步骤</li>
</ul>
<h3 id="1-1-项目布局"><a href="#1-1-项目布局" class="headerlink" title="1.1 项目布局"></a>1.1 项目布局</h3><p>  当准备一个项目时，正确合理的布局(目录结构) 是十分重要的。一个合理的布局意味着参与者不必花时间来寻找某些代码的位置，凭直觉就可以找到文件的位置。因为我们在处理一个项目，就意味着可能需要到处移动一些东西，让我们从顶层开始，大多数项目都有很多的顶层文件(如：setup.py, README.md, requirements等等)。每个项目至少应该又下面三个目录：</p>
<blockquote>
<ul>
<li>doc 目录，包括项目文档</li>
<li>项目目录， 以项目命名，存储实际的Python包</li>
<li>test目录</li>
</ul>
</blockquote>
<p>为了更好的理解文件该如何组织，这里时我的简单项目：sandman 布局快照：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">pwd</span></div><div class="line">~/code/sandman</div><div class="line">$ tree</div><div class="line">.</div><div class="line">|- LICENSE</div><div class="line">|- README.md</div><div class="line">|- TODO.md</div><div class="line">|- docs</div><div class="line">|   |-- conf.py</div><div class="line">|   |-- generated</div><div class="line">|   |-- index.rst</div><div class="line">|   |-- installation.rst</div><div class="line">|   |-- modules.rst</div><div class="line">|   |-- quickstart.rst</div><div class="line">|   |-- sandman.rst</div><div class="line">|- requirements.txt</div><div class="line">|- sandman</div><div class="line">|   |-- __init__.py</div><div class="line">|   |-- exception.py</div><div class="line">|   |-- model.py</div><div class="line">|   |-- sandman.py</div><div class="line">|   |-- <span class="built_in">test</span></div><div class="line">|       |-- models.py</div><div class="line">|       |-- test_sandman.py</div><div class="line">|- setup.py</div></pre></td></tr></table></figure>
<p>如你所看到那样，这里有一些顶层文件，一个docs目录（建立一个空目录，因为sphinx会将生成的文档放到这里），一个sandman目录，以及一个在sandman目录下的test目录</p>
<h3 id="1-2-setuptools-和-setup-py-文件"><a href="#1-2-setuptools-和-setup-py-文件" class="headerlink" title="1.2 setuptools 和 setup.py 文件"></a>1.2 setuptools 和 setup.py 文件</h3><p>setup.py文件，你可能已经在其它包中看到过，被distuils包用来安装Python包的。对于任何一个项目，它都是一个很重要的文件，因为它包含了版本，包依赖信息，PyPi需要的项目描述，你的名字和联系信息，以及其它一些信息。它允许以编程的方式搜索安装包，提供元数据和指令说明让工具如何做。</p>
<p>setuptools包（实际上就是对distutils的增强）简单化了建立发布python包。使用setuptools给python包打包，和distutils打包没什么区别。这实在是没有任何理由不使用它。</p>
<p>setup.py应该放在你的项目的根目录。setup.py中最重要的一部分就是调用setuptools.setup，这里面包含了此包所需的所有元信息。这里就是sandman的setup.py的所有内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</div><div class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages</div><div class="line"><span class="keyword">from</span> setuptools.command.test <span class="keyword">import</span> test <span class="keyword">as</span> TestCommand</div><div class="line"><span class="keyword">import</span> io</div><div class="line"><span class="keyword">import</span> codecs</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> sandman</div><div class="line"></div><div class="line">here = os.path.abspath(os.path.dirname(__file__))</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">read</span><span class="params">(*filenames, **kwargs)</span>:</span></div><div class="line">    encoding = kwargs.get(<span class="string">'encoding'</span>, <span class="string">'utf-8'</span>)</div><div class="line">    sep = kwargs.get(<span class="string">'sep'</span>, <span class="string">'\n'</span>)</div><div class="line">    buf = []</div><div class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</div><div class="line">        <span class="keyword">with</span> io.open(filename, encoding=encoding) <span class="keyword">as</span> f:</div><div class="line">            buf.append(f.read())</div><div class="line">    <span class="keyword">return</span> sep.join(buf)</div><div class="line"> </div><div class="line">long_description = read(<span class="string">'README.txt'</span>, <span class="string">'CHANGES.txt'</span>)</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PyTest</span><span class="params">(TestCommand)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">finalize_options</span><span class="params">(self)</span>:</span></div><div class="line">        TestCommand.finalize_options(self)</div><div class="line">        self.test_args = []</div><div class="line">        self.test_suite = <span class="keyword">True</span></div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run_tests</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">import</span> pytest</div><div class="line">        errcode = pytest.main(self.test_args)</div><div class="line">        sys.exit(errcode)</div><div class="line"> </div><div class="line">setup(</div><div class="line">    name=<span class="string">'sandman'</span>,</div><div class="line">    version=sandman.__version__,</div><div class="line">    url=<span class="string">'http://github.com/jeffknupp/sandman/'</span>,</div><div class="line">    license=<span class="string">'Apache Software License'</span>,</div><div class="line">    author=<span class="string">'Jeff Knupp'</span>,</div><div class="line">    tests_require=[<span class="string">'pytest'</span>],</div><div class="line">    install_requires=[<span class="string">'Flask&gt;=0.10.1'</span>,</div><div class="line">                    <span class="string">'Flask-SQLAlchemy&gt;=1.0'</span>,</div><div class="line">                    <span class="string">'SQLAlchemy==0.8.2'</span>,</div><div class="line">                    ],</div><div class="line">    cmdclass=&#123;<span class="string">'test'</span>: PyTest&#125;,</div><div class="line">    author_email=<span class="string">'jeff@jeffknupp.com'</span>,</div><div class="line">    description=<span class="string">'Automated REST APIs for existing database-driven systems'</span>,</div><div class="line">    long_description=long_description,</div><div class="line">    packages=[<span class="string">'sandman'</span>],</div><div class="line">    include_package_data=<span class="keyword">True</span>,</div><div class="line">    platforms=<span class="string">'any'</span>,</div><div class="line">    test_suite=<span class="string">'sandman.test.test_sandman'</span>,</div><div class="line">    classifiers = [</div><div class="line">        <span class="string">'Programming Language :: Python'</span>,</div><div class="line">        <span class="string">'Development Status :: 4 - Beta'</span>,</div><div class="line">        <span class="string">'Natural Language :: English'</span>,</div><div class="line">        <span class="string">'Environment :: Web Environment'</span>,</div><div class="line">        <span class="string">'Intended Audience :: Developers'</span>,</div><div class="line">        <span class="string">'License :: OSI Approved :: Apache Software License'</span>,</div><div class="line">        <span class="string">'Operating System :: OS Independent'</span>,</div><div class="line">        <span class="string">'Topic :: Software Development :: Libraries :: Python Modules'</span>,</div><div class="line">        <span class="string">'Topic :: Software Development :: Libraries :: Application Frameworks'</span>,</div><div class="line">        <span class="string">'Topic :: Internet :: WWW/HTTP :: Dynamic Content'</span>,</div><div class="line">        ],</div><div class="line">    extras_require=&#123;</div><div class="line">        <span class="string">'testing'</span>: [<span class="string">'pytest'</span>],</div><div class="line">    &#125;</div><div class="line">)</div></pre></td></tr></table></figure>
<p>  大多数内容浅显易懂，可以从setuptools文档查看到，所以我只会触及”有趣”的部分。使用sandman.<strong>version</strong>和gettinglong_description方法（尽管我也记不住是哪一个，但是却可以从其它项目的setup.py中获得）来减少我们需要写的引用代码。相反，维护项目的版本有三个地方(setup.py, 包自身的<strong>version</strong>， 以及文档)，我们也可以使用包的version来填充setup里面的version参数</p>
<p>  long_description被Pypi在你项目的PyPI主页当做文档使用。这里有其他一个文件，README.md，其中包含几乎相同的内容，我使用pandoc依据README.md自动生成README.rst，因此我们只需看README.rst就行了，并将它的内容设置为long_description。</p>
<p>py.test (上面讨论过) 中有一个特殊的条目（pytest类）设置允许Python检查setup.py可否正常工作。这段代码直接来自py.test指导文档。文件中的其他内容都是在设置文档中描述的安装参数。</p>
<p><strong><em>其他的setup.py参数:</em></strong></p>
<p>  有一些sandman 用不到的启动参数，在你的包里可能会用到。举个例子，你可能正在分派一些脚本并希望你的用户能够从命令行执行。在这个例子中，脚本会和你其他的代码一起安装在正常的site-packages位置。用户安装完后，没有其他的简单方法运行它。基于这一点，setup可以带有一个的脚本参数来指明Python脚本应该如何安装。在包中安装一个调用go_foo.py的脚本，这个用来启动的调用包括下面这行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scripts = [<span class="string">'go_foo.py'</span>],</div></pre></td></tr></table></figure>
<p>  确保在脚本中填入相对路径，并不仅仅是一个名称 (如scripts = [‘scripts/foo_scripts/go_foo.py’]).同样，你的脚本应该以”shebang”行和”python”开始，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#! /usr/bin/env python</span></div></pre></td></tr></table></figure>
<p>  distutils将会在安装过程中自动用当前解释器位置取代这一行。如果你的包比我们这里讨论的要复杂，你可在官方文档中参看启动工具文档和分布python模块。在这两者中，你可以解决一些你可能会遇到的问题。</p>
<h3 id="1-3-代码管理：git-项目管理-github"><a href="#1-3-代码管理：git-项目管理-github" class="headerlink" title="1.3 代码管理：git, 项目管理: github"></a>1.3 代码管理：git, 项目管理: github</h3><p>  在“以正确的方式开始一个Django项目”中，我建议版本控制使用git 或者 mercurial。如果对于以共享与贡献的项目来说，只有一个选择：git。事实上，从长远来说，如果你想人们能使用和参与贡献，那么不仅使用git很有必要，而且，你也能够使用GitHub来管理维护你的项目。</p>
<p>  这并不是夸大其词（尽管很多人会以它为嚼头）。然而，管它好与差，git和GitHub事实上已经成为了开源项目的实际标准了。GitHub是很多潜在的贡献者最想注册的和最熟悉的。所以，我深信，这并不是掉以轻心，而是深思熟虑的产物。</p>
<p><strong>新建一个README.md文件:</strong></p>
<p>在GitHub的代码仓库中，项目的描述是从项目的根目录中的:README.md文件获取的。这个文件应该包含下面几点：</p>
<ul>
<li>项目描述</li>
<li>项目ReadTheDocs页面连接[@Lesus 注：请查看 工具与概念 ]</li>
<li>一个用来显示当前构建状态的TravisCI按钮。</li>
<li>“Quickstart” 文档 (怎么快速安装和使用你的项目)</li>
<li><p>若有非python依赖包，请列举它以及怎么安装它</p>
<p>它(README)读起来很傻的感觉，但是确是一个很重要的文件。它可能是你未来的用户或者贡献者首先从它了解你的项目的。花些时间来写一个清楚明白的说明和使用GFM（GitHubFlavoredMarkdown）来使它更好看。实际上，如果使用原生的Markdown来写文档不爽，那么可以在Github上使用立即预览来创建或者修改这个文件。我们还没触及列表中的第二和第三项（ReadTheDocs和TravisCI），你会在接下来看到。</p>
</li>
</ul>
<p><strong>使用”Issues”页:</strong></p>
<p>  跟生活中的很多事情一样，你投入GitHub越多，你收获的越多。因为用户会使用GitHub的“Issues”页面反馈bug，使用该页面跟踪特性要求和改进是很有意义的。</p>
<p>  更重要的是，它允许贡献者以一种优雅的方式看到：一个可能实现特性的列表以及自动化的管理合并请求流程（pull request）。GitHub的issues可以与评论、你项目里的其他issues及其他项目里的issues等交织，这使得“issues”页面成为一个有关所有bug修复、改进和新特性要求信息汇总的地方。确保“Issues”及时更新，至少及时回应新的问题。作为一个贡献者，没有什么比修复bug后看着它呈现在issues页面并等待着被合并更有吸引力的了。</p>
<h3 id="1-4-使用git-flow这个明智的git工作流"><a href="#1-4-使用git-flow这个明智的git工作流" class="headerlink" title="1.4 使用git-flow这个明智的git工作流"></a>1.4 使用git-flow这个明智的git工作流</h3><p>为使事情对自己和贡献者更容易，我建议使用非常流行的git-flow分支模型。</p>
<p><strong>概述:</strong></p>
<p>开发分支是你工作的主要分支，它也是将成为下一个release.feature的分支，代表着即将实现的新特性和尚未部署的修复内容（一个完整的功能分支有开发分支合并而来）。通过release的创建更新master。</p>
<p><strong>安装:</strong></p>
<p>按照你系统平台的git-flow安装指导操作，<a href="https://github.com/nvie/gitflow/wiki/Installation" target="_blank" rel="external">在这里</a>。</p>
<p>安装完后，你可以使用下附命令迁移你的已有项目：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow init</div></pre></td></tr></table></figure>
<p><strong>Branch细节:</strong></p>
<p>  脚本将询问你一些配置问题，git-flow的默认建议值可以很好的工作。你可能会注意到你的默认分支被设置成develop。现在，让我们后头描述一下git-flow…嗯，flow，更详细一点。这样做的最简单的方法是讨论一下不同的分支及模型中的分支类型。</p>
<p><strong>Master:</strong></p>
<p>  master分支一直是存放“生产就绪”的代码。所有的提交都不应该提交到master分支上。当然，master分支上的代码只会从一个产品发布分支创建并结束后合并进来。这样在master上的代码一直是可以发布为产品的。并且，master也是一直处于可预计的状态，所以你永远不需要担心如果master分支修改了而某一个其他分支没有相应的修改。</p>
<p><strong>Develop:</strong></p>
<p>  你的大部分工作是在develop分支上完成的。这个分支包含所有的完成的特性和修改的bug以便发布；每日构建或者持续集成服务器需要针对develop分支来进行，因为它代表着将会被包含在下一个发布里的代码。</p>
<p>  对于一次性的提交，可以随便提交到develop上。</p>
<p><strong>特性:</strong></p>
<p>  对于一些大的特性，就需要创建一个特性分支。特性分支从develop分支创建出来。它们可以是对于下一个发布的一些小小的增强或者更进一步的修改。而这，依然需要从现在开始工作。为了从一个新的分支上开始工作，使用：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow feature start &lt;feature name&gt;</div></pre></td></tr></table></figure>
<p>  这命令创建了一个新的分支：feature/<feature name="">。通常会把代码提交到这个分支。当特性已经完成并且准备好发布的时候，它就应当用一下的命令将它合并会develop分支</feature></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow feature finish &lt;feature name&gt;</div></pre></td></tr></table></figure>
<p>  这会把代码合并进develop分支，并且删除 feature/<feature name="">分支.</feature></p>
<p><strong>Release:</strong></p>
<p>一个release分支是当你准备好进行产品发布的时候从develop分支创建出来的。使用以下的命令来创建：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow release start &lt;release number&gt;</div></pre></td></tr></table></figure>
<p>  注意，这是发布版本号第一次创建。所有完成的，准备好发布的分支必须已经合并到develop分支上。在release分支创建后，发布你的代码。任何小的bug修改需要提交到 release/<release number="">分支上。当所有的bug被修复之后，运行以下的命令：</release></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow release finish &lt;release number&gt;</div></pre></td></tr></table></figure>
<p>  这个命令会把你的release/<release number=""> 分支合并到master和develop分支，这意味着你永远不需要担心这几个分支会缺少一些必要的产品变更（可能是因为一个快速的bug修复导致的）。</release></p>
<p><strong>Hotfix</strong></p>
<p>  然而hotfix分支可能会很有用，在现实世界中很少使用，至少我是这样认为的。hotfix就像master分支下创建的feature分支： 如果你已经关闭了release分支，但是之后又认识到还有一些很重要的东西需要一起发布，那么就在master分支（由$git flow release finish <release number="">创建的标签）下创建一个hotfix分支，就像这样：</release></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow hotfix start &lt;release number&gt;</div></pre></td></tr></table></figure>
<p>  当你完成改变和增加你的版本号使之独一无二(bump your version number)，然后完成hotfix分支： </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git flow hotfix finish &lt;release number&gt;</div></pre></td></tr></table></figure>
<p>  这好像一个release分支（因为它本质上就是一种release分支），会在master和develop分支上提交修改。我猜想它们很少使用的原因是因为已经存在一种可以给已发布的代码做出修改的机制：提交到一个未完成的release分支。当然，可能一开始，团队使用git flow release finish .. 太早了，然后第二天又发现需要快速修改。随着时间的推移，他们就会为一个release 分支多留一些时间，所以，不会再需要hotfix分支。另一种需要hotfix分支情况就是如果你立即需要在产品中加入新的特性，等不及在develop分支中加入改变。不过（期望）这些都是小概率事件。</p>
<h3 id="1-5-virtualenv和virtualenvwrapper"><a href="#1-5-virtualenv和virtualenvwrapper" class="headerlink" title="1.5 virtualenv和virtualenvwrapper"></a>1.5 virtualenv和virtualenvwrapper</h3><p>  an Bicking的virtualenv工具事实上已经成为了隔离Python环境的标准途径了。它的目标很简单：如果你的一台机子中有很多Python项目，每个都有不同的依赖（可能相同的包，但是依赖不同的版本），仅仅在一个Python安装环境中管理这些依赖几乎是不可能的。virtualenv创建了一个“虚拟的”Python安装环境，每个环境都是相互隔离的，都有自己的site-packages, distribute和 使用pip安装包到虚拟环境而不是系统Python安装环境。 而且在你的虚拟环境中来回切换只是一个命令的事。Doug Hellmann的virtualenvwrapper使创建和管理多个虚拟环境更容易的隔离工具。让我们继续前进，马上安装这两个工具：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ pip install `virtualenvwrapper`</div><div class="line">...</div><div class="line">Successfully installed `virtualenvwrapper` `virtualenv` `virtualenv`-clone stevedore</div><div class="line">Cleaning up...</div></pre></td></tr></table></figure>
<p>  如你所见，后者依赖于前者，所以简单的安装virtualenvwrapper就足够了。注意，如果你使用的是Python3，PEP-405通过venv包和pyvenv命令提供了Python原生虚拟环境的支持，在python3.3中已实现。你应该使用这个而不是前面提到的工具。一旦你安装了virtualenvwrapper，你需要添加一行内容到你的.zhsrc文件(对bash用户来说是.bashrc文件)：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"source /usr/local/bin/virtualenvwrapper.sh"</span> &gt;&gt; ~/.zshrc</div></pre></td></tr></table></figure>
<p>  这样在你的shell中增加了一些有用的命令（记得第一次使用时source一下你的.zshrc文件以使它生效）。虽然你可以使用mkvirtualenv命令直接创建一个virtualenv，但使用mkproject [OPTIONS] DEST_DIR创建一个“项目”将更有用。因为我们已经有一个现有的项目了，所有我们只需为我们的项目创建一个新的virtualenv，下附命令可以达到这效果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ mkvirtualenv ossproject</div><div class="line">New python executable <span class="keyword">in</span> ossproject/bin/python</div><div class="line">Installing setuptools............done.</div><div class="line">Installing pip...............done.</div><div class="line">(ossproject)$</div></pre></td></tr></table></figure>
<p>  你会注意到你的shell提示符在你的virtualenv之后（我的是“ossproject”，你可以使用任何你喜欢的名字）。现在任何通过pip安装的模块将安装到你的virtualenv下的site-packages。要停止在你的项目上工作并切换回系统使用deactivate命令。你会看到命令提示符前你的virtualenv名字消失了。要重新回到你的项目上工作的话运行workon <project name="">，你会回到你的virtualenv。</project></p>
<p>  除了简单地为你的项目创建virtualenv，你还会用它做其他事：生成你的requirements.txt文件，使用requirements.txt文件和-r标识可安装所有项目的依赖项。要创建该文件，在你的virtualenv运行以下命令（一旦你代码和virtualenv一起工作，就是那里）：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(ossproject)$ pip freeze &gt; requirements.txt</div></pre></td></tr></table></figure>
<p>  你会得到一个所有你项目需要模块的列表，它以后可以被setup.py文件使用列出你的依赖关系。这里有一点需要注意：我经常在requirements.txt中将“==”改为“&gt;=“，这样代表“我正使用包的任何的后来版本”。你是否应该或需要在项目这样做取决于实际情况，但我应该指出来。将requirements.txt提交到你的git代码库中。此外，你现在可以添加这里的列出的包列表作为install_requirement参数的值到setup.py文件中的distutils.setup。这样做我们可以确保当上传包到PyPI后，它可以被pip安装并自动解决依赖关系。</p>
<h3 id="1-6-使用py-test测试"><a href="#1-6-使用py-test测试" class="headerlink" title="1.6 使用py.test测试"></a>1.6 使用py.test测试</h3><p>  在Python的自动测试系统里有两个主要的Python标准单元测试包（很有用）的替代品：nose和py.test。两个方案都将单元测试拓展的易于使用且增加额外的功能。说真的，哪个都是很好的选择。我更喜欢py.test因为下述几个原因：</p>
<ul>
<li>支持setuptools/distutils项目<ul>
<li>Python的setup.py测试技能可一直可以用</li>
</ul>
</li>
<li>支持常见的断言（assert）语法 (而不是需要记住所有jUnit风格的断言函数)</li>
<li>更少的样板</li>
<li>支持多种测试风格<ul>
<li>单元测试</li>
<li>文档测试</li>
<li>nose测试</li>
</ul>
</li>
</ul>
<p><strong>注意</strong></p>
<p>如果你已经有了一个自动测试的解决方案那继续使用它吧，跳过这一节。但请记住以后的章节你将被认为在使用py.test测试，这可能会影响到配置值。</p>
<p><strong>测试安装</strong></p>
<p>在测试目录里，无论你如何决定都要有这个目录，创建一个名为test_<project_name>.py的文件。py.test的测试发现机制将把所有test_前缀的文件当做测试文件处理（除非明确告知）。在这个文件里放什么很大程度上取决于你。写测试是一个很大的话题，超出这篇文章的范围。最重要的，测试对你的和潜在的捐助者都是有用的。应该标识清楚每个用例是测试的什么函数。用例应该以相同的“风格”书写，这样潜在的贡献者不必猜测在你的项目中他/她应该使用三种测试风格中的哪种。</project_name></p>
<p><strong>覆盖测试</strong></p>
<p>自动化测试的覆盖率是一个有争议的话题。一些人认为它给出了错误的保证是一个毫无意义的度量，其他人认为它很有用。在我看在，我建议如果你已经使用自动化测试但从来没有检查过你的测试覆盖率，现在做这样一个练习。使用py.test，我们可以使用Ned Batchelder的覆盖测试工具。使用pip安装pytest-cov。如果你之前这样运行你的测试：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ py.test</div></pre></td></tr></table></figure>
<p>你可以通过传递一些新的标识生成覆盖率报告，下面是运行sandman的一个例子：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">$ py.test --cov=path/to/package</div><div class="line">$ py.test --cov=path/to/package --cov-report=term --cov-report=html</div><div class="line">====================================================== <span class="built_in">test</span> session starts =======================================================</div><div class="line">platform darwin -- Python 2.7.5 -- pytest-2.3.5</div><div class="line">plugins: cov</div><div class="line">collected 23 items</div><div class="line">sandman/<span class="built_in">test</span>/test_sandman.py .......................</div><div class="line">---------------------------------------- coverage: platform darwin, python 2.7.5-final-0 -----------------------------------------</div><div class="line">Name                           Stmts   Miss  Cover</div><div class="line">--------------------------------------------------</div><div class="line">sandman/__init__                   5      0   100%</div><div class="line">sandman/exception                 10      0   100%</div><div class="line">sandman/model                     48      0   100%</div><div class="line">sandman/sandman                  142      0   100%</div><div class="line">sandman/<span class="built_in">test</span>/__init__              0      0   100%</div><div class="line">sandman/<span class="built_in">test</span>/models               29      0   100%</div><div class="line">sandman/<span class="built_in">test</span>/test_sandman        114      0   100%</div><div class="line">--------------------------------------------------</div><div class="line">TOTAL                            348      0   100%</div><div class="line">Coverage HTML written to dir htmlcov</div><div class="line"></div><div class="line">=================================================== 23 passed <span class="keyword">in</span> 1.14 seconds ===========================================================</div></pre></td></tr></table></figure>
<p>  当然不是所有项目都有100%的测试覆盖率（事实上，正如你读到的，sandman没有100%覆盖），但获得100%的覆盖率是一个有用的练习。它能够揭示我之前没有留意的缺陷与重构机会。因为，作为测试本身，自动生成的测试覆盖报可以作为你持续集成的一部分。如果你选择这样做，部署一个标记来显示当前的测试覆盖率会为你的项目增加透明度（大多数时候会极大的鼓励他人贡献）</p>
<h3 id="1-7-使用Tox进行标准化测试"><a href="#1-7-使用Tox进行标准化测试" class="headerlink" title="1.7 使用Tox进行标准化测试"></a>1.7 使用Tox进行标准化测试</h3><p>  一个所有Python项目维护者都需要面对的问题是兼容性。如果你的目标是同时支持Python 2.x和Python 3.x（如果你目前只支持Python 2.x，应该这样做），实际中你如何确保你的项目支持你所说的所有版本呢？毕竟，当你运行测试时，你只使用特定的版本环境来运行测试，它很可能在Python2.7.5中运行良好但在Python 2.6和3.3出现问题。</p>
<p>  幸运的是有一个工具致力于解决这个问题。tox提供了“Python的标准化测试”，它不仅仅是在多个版本环境中运行你的测试。它创造了一个完整的沙箱环境，在这个环境中你的包和需求被安装和测试。如果你做了更改在测试时没有异常，但意外地影响了安装，使用Tox你会发现这类问题。</p>
<p>通过一个.ini文件配置tox：tox.ini。它是一个很容易配置的文件，下面是从tox文档中摘出来的一个最小化配置的tox.ini：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># content of: tox.ini , put in same dir as setup.py</span></div><div class="line">[tox]</div><div class="line">envlist = py26,py27</div><div class="line">[testenv]</div><div class="line">deps=pytest       <span class="comment"># install pytest in the venvs</span></div><div class="line">commands=py.test  <span class="comment"># or 'nosetests' or ...</span></div></pre></td></tr></table></figure>
<p>  通过设置envlist为py26和py27，tox知道需要在这两种版本环境下运行测试。tox大约支持十几个“默认”的环境沙箱，包括jython和pypy。tox这个强大的工具使用不同的版本进行测试，在不支持多版本时可配置警示。deps是你的包依赖列表。你甚至可以让tox从PyPI地址安装所有或一些你依赖包。显然，相当多的想法和工作已融入了项目。<br>实际在你的所有环境下运行测试现在只需要四个按键：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tox</div></pre></td></tr></table></figure>
<p><strong>一个更复杂的设置:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">[tox]</div><div class="line">envlist=py27, py34</div><div class="line"> </div><div class="line">[testenv]</div><div class="line">deps=</div><div class="line">    pytest</div><div class="line">    coverage</div><div class="line">    pytest-cov</div><div class="line">setenv=</div><div class="line">    PYTHONWARNINGS=all</div><div class="line"> </div><div class="line">[pytest]</div><div class="line">adopts=--doctest-modules</div><div class="line">python_files=*.py</div><div class="line">python_functions=test_</div><div class="line">norecursedirs=.tox .git</div><div class="line"> </div><div class="line">[testenv:py27]</div><div class="line">commands=</div><div class="line">    py.test --doctest-module</div><div class="line"> </div><div class="line">[testenv:py34]</div><div class="line">commands=</div><div class="line">    py.test --doctest-module</div><div class="line"> </div><div class="line">[testenv:py27verbose]</div><div class="line">basepython=python</div><div class="line">commands=</div><div class="line">    py.test --doctest-module --cov=. --cov-report term</div><div class="line"> </div><div class="line">[testenv:py34verbose]</div><div class="line">basepython=python3.4</div><div class="line">commands=</div><div class="line">    py.test --doctest-module --cov=. --cov-report term</div></pre></td></tr></table></figure>
<p>这个配置文件依旧比较简单。而结果呢？</p>
<p><img src="/res/img/blog/开源框架学习/2015-11-05-001.png" alt="tox执行结果"></p>
<p>（我从输出列表里截取了一部分）。如果想看我的测试对一个环境的覆盖率，只需运行：</p>
<p><img src="/res/img/blog/开源框架学习/2015-11-05-002.png" alt="tox针对特定环境结果"></p>
<p><strong>setuptools整合</strong></p>
<p>tox可以和setuptools整合，这样python的setup.py测试可以运行你的tox测试。将下面的代码段放到你的setup.py文件里，这段代码是直接从tox的文档里拿来的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> setuptools.command.test <span class="keyword">import</span> test <span class="keyword">as</span> TestCommand</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tox</span><span class="params">(TestCommand)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">finalize_options</span><span class="params">(self)</span>:</span></div><div class="line">        TestCommand.finalize_options(self)</div><div class="line">        self.test_args = []</div><div class="line">        self.test_suite = <span class="keyword">True</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run_tests</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="comment">#import here, cause outside the eggs aren't loaded</span></div><div class="line">        <span class="keyword">import</span> tox</div><div class="line">        errcode = tox.cmdline(self.test_args)</div><div class="line">        sys.exit(errcode)</div><div class="line"> </div><div class="line">setup(</div><div class="line">    <span class="comment">#...,</span></div><div class="line">    tests_require=[<span class="string">'tox'</span>],</div><div class="line">    cmdclass = &#123;<span class="string">'test'</span>: Tox&#125;,</div><div class="line">    )</div></pre></td></tr></table></figure>
<p>现在Python的setup.py测试将下载tox并运行它。真的很酷并且很节省时间。</p>
<h3 id="1-8-Sphinx文档生成器"><a href="#1-8-Sphinx文档生成器" class="headerlink" title="1.8 Sphinx文档生成器"></a>1.8 Sphinx文档生成器</h3><p><a href="http://sphinx-doc.org/" target="_blank" rel="external">Sphinx</a>是由pocoo团队开发的工具[@Lesus 注：pocoo团队开发了很多优秀的产品：如Flask, Jinja2等等]。它已经用来生成Python官方文档和大多数流行的Python包的文档。它以更容易的方式从Python代码中自动产生Python文档。</p>
<p><strong>使用它完成工作</strong></p>
<p>  Sphinx不用了解Python程序以及怎样从它们中提取出来。它只能翻译reStructuredText文件，也就意味着你的代码文档的reStructuredText译文需要让Sphinx知道才能工作，但是管理维护所有的.py文件[至少是函数和类的部分]的reStructuredText译文显然是不可行的。<br>  幸运的是，Sphinx有一个类似javadoc的扩展，叫做autodoc,可以用来从你的代码文档中萃取出reStructuredText。为了能够充分利用Sphinx和autodoc的能力，你需要已一种特别的方式格式化你的文档。特别是，你需要使用Sphinx的Python指令时。这里就是使用reStructuredText指令来为一个函数生成文档，使输出结果的HTML文档更漂亮：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">_validate</span><span class="params">(cls, method, resource=None)</span>:</span></div><div class="line"><span class="string">"""Return ``True`` if the the given *cls* supports the HTTP *method* found</span></div><div class="line">on the incoming HTTP request.</div><div class="line">:param cls: class associated with the request's endpoint</div><div class="line">:type cls: :class:`sandman.model.Model` instance</div><div class="line">:param string method: HTTP method of incoming request</div><div class="line">:param resource: *cls* instance associated with the request</div><div class="line">:type resource: :class:`sandman.model.Model` or None</div><div class="line">:rtype: bool</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> method <span class="keyword">in</span> cls.__methods__:</div><div class="line">    <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"> </div><div class="line">class_validator_name = <span class="string">'validate_'</span> + method</div><div class="line"> </div><div class="line"><span class="keyword">if</span> hasattr(cls, class_validator_name):</div><div class="line">    class_validator = getattr(cls, class_validator_name)</div><div class="line">    <span class="keyword">return</span> class_validator(resource)</div><div class="line"><span class="keyword">return</span> <span class="keyword">True</span></div></pre></td></tr></table></figure>
<p>文档需要花费一点功夫，但是为了你的使用者，这个付出是值得的。好吧，好的文档使一个可用的项目去其糟粕。Sphinx的autodoc扩展让我们可以使用很多指令，而这些指令可以自动的从你文档中生成文档。</p>
<p><strong>安装</strong></p>
<p>  确认将Sphinx安装在你的virtualenv内，因为文档在项目里也是按版本来的。Sphinx不同的版本可能会产生不同的HTML输出。通过将其安装在你的virtualenv内，你可以以受控的方式升级你的文档。我们要保持我们的文档在docs文件夹，将文档生成到docs/generated文件夹。在项目的根目录运行以下命令将根据你的文档字符自动重构文本文档：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sphinx-apidoc -F -o docs &lt;package name&gt;</div></pre></td></tr></table></figure>
<p>  这将产生一个包含多个文档文件的docs文件夹。此外，它创建了一个叫conf.py的文件，它将负责你的文档配置。你还会发现一个Makefile，方便使用一个命令（生成html）构建HTML文档。在你最终生成文档之前，确保你已经在本地安装了相应的包（尽管可以使用pip，但python setup.py develop是最简单的保持更新的方法），否则sphinx-apidoc无法找到你的包。</p>
<p><strong>配置:conf.py</strong></p>
<p>conf.py文件创建用来控制产生的文档的各个方面。它自己会很好生成文档，所以我只简单地触及两点。</p>
<p><strong><em>版本和发布</em></strong></p>
<p>  首先，确保你的版本和发布版本号保持最新。这些数字会作为生成的文档的一部分显示，所以你不希望它们远离了实际值。保持你的版本最新的最简单方式就是在你的文档和setup.py文件中都从你的包的<strong>version</strong>属性读取。我从Flask的conf.py借用过来配置sandman的conf.py：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pkg_resources</div><div class="line"><span class="keyword">try</span>:</div><div class="line">    release = pkg_resources.get_distribution(<span class="string">'sandman'</span>).version</div><div class="line"><span class="keyword">except</span> pkg_resources.DistributionNotFound:</div><div class="line">    <span class="keyword">print</span> <span class="string">'To build the documentation, The distribution information of sandman'</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'Has to be available.  Either install the package into your'</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'development environment or run "setup.py develop" to setup the'</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'metadata.  A virtualenv is recommended!'</span></div><div class="line">    sys.exit(<span class="number">1</span>)</div><div class="line"><span class="keyword">del</span> pkg_resources</div><div class="line"> </div><div class="line">version = <span class="string">'.'</span>.join(release.split(<span class="string">'.'</span>)[:<span class="number">2</span>])</div></pre></td></tr></table></figure>
<p>  这就是说，为了让文档产生正确的版本号，你只需在你的项目的虚拟环境中简单的需要运行$python setup.py develop即可。现在你只需担心保持<strong>version</strong>为最新，因为setup.py会使用它。</p>
<p><strong><em>html_theme</em></strong></p>
<p>  考虑到更改default到html_theme，我更喜欢原生态的东西，显然这是一个个人喜好的问题。我之所以提出这个问题是因为Python官方文档在Python 2和Python 3将默认主题更改为Pydoc主题（后者的主题是一个自定义主题仅在CPython源代码中可用）。对一些人来说，默认的主题使一个项目看起来“老”一些。</p>
<h3 id="1-9-PyPI"><a href="#1-9-PyPI" class="headerlink" title="1.9 PyPI"></a>1.9 PyPI</h3><p>  <a href="https://pypi.python.org/pypi" target="_blank" rel="external">PyPI</a>，<a href="https://pypi.python.org/pypi" target="_blank" rel="external">Python包索引</a>（以前被称为“Cheeseshop”）是一个公开可用的Python包中央数据库。PyPI是你的项目发布的地方。一旦你的包（及其相关的元数据）上传到PyPI，别人通过pip或easy_instal可以下载并安装它。这一点得强调一下：即使你的项目托管在GitHub，直到被上传到PyPI后你的项目才是有用的。当然，有些人可以复制你的git库任何直接手工安装它，但更多的人想使用pip来安装它。</p>
<p><strong>最后的一步</strong></p>
<p>  如果你已经完成了所有的前面部分中的步骤，你可能急着想把你的包上传到PyPI，供其他人使用！先别急着做上述事情，在分发你的包之前，有一个叫做cheesecake的有用的工具有助于运行最后一步。它分析你的包并指定一个分类的数字分数。它衡量你的包在打包、安装、代码质量以及文档的数量和质量方面是否容易/正确。除了作粗略衡量的“准备”，cheesecake在完整性检查方面很优秀。你会很快看到你的setup.py文件是否有错或者有没有忘记为一个文件制作文档。我建议在上传每个项目到PyPI之前运行一下它，而不仅只是第一个。</p>
<p><strong>初始化上传</strong></p>
<p>现在，你已经确定了你的代码不是垃圾和当人们安装它时不会崩溃，让我们把你的包放到PyPI上吧！你将会通过setuptools和setup.py脚本交互。如果这是第一次上传到PyPI，你将首先注册它：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python setup.py register</div></pre></td></tr></table></figure>
<p>注意：如果你还没有一个免费的PyPI账户，你将需要现在去注册一个，才能注册这个包[@Lesus 注：注册之后还需要到邮箱去验证才行]。在你已使用了上面注册之后，你就可以创建发布包和上传到PyPI了: </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python setup.py sdist upload</div></pre></td></tr></table></figure>
<p>上面这个命令建立一个源码发布版(sdist)，然后上传到PyPI.如果你的包不是纯粹的Python（也就是说，你有二进制需要编译进去），你就需要发布一个二进制版，请看setuptools文档，了解更多。</p>
<p><strong>发布及版本号</strong></p>
<p>PyPI使用发行版本模型来确定你软件包的哪个版本是默认可用的。初次上传后，为使你软件包的每次更新后在PyPI可用，你需要指定一个新版本号创建一个发布。版本号管理是一个相当复杂的课题，PEP有专门的内容：PEP 440——版本识别和依赖指定。我建议参照PEP 400指南（明显地），但如果你选择使用不同版本的方案，在setup.py中使用的版本比目前PyPI中的版本“高”，这样PyPI才会认为这是一个新版本。</p>
<p><strong>工作流</strong></p>
<p>将你的第一个发布版本上传到PyPI后，基本的工作流程如下：</p>
<ul>
<li>继续在你的项目上工作 (比如修复bug，添加新特性等等)</li>
<li>确保测试通过</li>
<li>在git-flow中创建一个发布分支“冻结”你的代码</li>
<li>在你项目的<strong>init</strong>.py文件里更新<strong>version</strong>number版本变量</li>
<li>多次测试运行setup.py，将新版本上传到PyPI</li>
</ul>
<p>用户希望你保持足够的更新频率以修复bug。你要管理好你的版本号，不要“过于频繁”的发布。记住：你的用户不会手工维护他们每个安装模块的不同的版本。</p>
<h3 id="1-10-使用TravisCI持续集成"><a href="#1-10-使用TravisCI持续集成" class="headerlink" title="1.10 使用TravisCI持续集成"></a>1.10 使用TravisCI持续集成</h3><p>  持续集成是指一个项目中所有变化不断整合的过程（不是周期性的批量更新）。就我们而言，这意味每次我们GitHub提交时，我们通过测试运行来发现是否有什么异常，正如你想象的，这是一个非常有价值的实践。不要有“忘记运行测试”的提交。如果你的提交通不过测试，你将收到一封电子邮件被告知。</p>
<p><a href="http://www.travis-ci.org/" target="_blank" rel="external">TravisCI</a>是一种使GitHub项目持续集成更容易的服务。如果你还没有账号到这看一下注册一个，完成这些之后，在我们进入CI之前我们先需要创建一个简单的文件。</p>
<p><strong>通过.travis.yml配置</strong></p>
<p>在TravisCI上的不同项目通过一个.travis.yml文件来配置，这个文件在项目的根目录。简要地说，我们需要告诉Travis：</p>
<ul>
<li>我们项目使用的语言是什么</li>
<li>它使用的是语言的哪个版本</li>
<li>使用什么命令安装它</li>
<li>使用什么命令运行项目的测试</li>
</ul>
<p>这些都是很直接的东西。下面是sandman.travis.yml的内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">language: python</div><div class="line">python:</div><div class="line">    - <span class="string">"2.7"</span></div><div class="line">install:</div><div class="line">    - <span class="string">"pip install -r requirements.txt --use-mirrors"</span></div><div class="line">    - <span class="string">"pip install coverage"</span></div><div class="line">    - <span class="string">"pip install coveralls"</span></div><div class="line">script:</div><div class="line">    - <span class="string">"coverage run --source=sandman setup.py test"</span></div><div class="line">after_success:</div><div class="line">    coveralls</div></pre></td></tr></table></figure>
<p>在列出语言和版本后，我们告诉Travis如何安装我们的包。在install这行，确认包含下面这行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- <span class="string">"pip install -r requirements.txt --use-mirrors"</span></div></pre></td></tr></table></figure>
<p>这是pip安装我们项目的要求（如果有必要的话使用PyPI镜像站点）。另外的两行内容是sandman特有的。它使用一个额外的服务（coveralls.io）来连续监测测试用例的覆盖率，这不是所有项目都需要的。</p>
<p>script：列出能运行该项目测试的命令。与上面一样，sandman还需要做一些额外的工作。你的项目需要的只有Python的setup.py测试，after_success部分也可以一块删掉。</p>
<p>一旦你提交了这个文件并在TravisCI中激活了你的项目的，push到GitHub。一会儿后，你会看到一个基于你最近提交的编译结束结果。如果成功了，你的编译呈现“绿色”和并且状态页会显示编译通过。你可以看到你项目在任何时间的编译历史。这对对人开发特别有用，在历史页可以看到特定开发者出错和编译的频率…</p>
<p>你还会收到一封通知你编译成功的电子邮件。当然你也可以设置只有在出错或错误被修复时才有邮件通知，但编译输出结果相同时也不会发送。这是非常有用的，你在不必被无用的“编译通过！”邮件淹没的同时在发生改变仍会收到警示。</p>
<h3 id="1-11-用ReadTheDocs做持续文档集成"><a href="#1-11-用ReadTheDocs做持续文档集成" class="headerlink" title="1.11 用ReadTheDocs做持续文档集成"></a>1.11 用ReadTheDocs做持续文档集成</h3><p>  尽管PyPI有一个官方文档站点（pythonhosted.org），但是ReadTheDocs提供了一个更好的体验。为什么？ReadTheDocs有针对GitHub非常棒的集成。当你注册ReadTheDocs的时候，你就会看到你的所有GitHub 代码库。选择合适的代码库，做一些小幅的配置，那么你的文档就会在你每次提交到GitHub之后自动重新生成。</p>
<p>配置你的项目应该是一个很直观的事情。只有一些事需要记住，尽管，这里有一个配置字段的列表，对应的值可能不一定是你直接用得上的：</p>
<ul>
<li>Repo: <a href="https://github.com/github_username/project_name.git" target="_blank" rel="external">https://github.com/github_username/project_name.git</a></li>
<li>Default Branch:develop</li>
<li>Default Version:latest</li>
<li>Python configuration file: (leave blank)</li>
<li>Usevirtualenv: (checked)</li>
<li>Requirements file:requirements.txt</li>
<li>Documentation Type: Sphinx HTML</li>
</ul>
<h3 id="1-12-DRY-不要重复你自己"><a href="#1-12-DRY-不要重复你自己" class="headerlink" title="1.12 DRY 不要重复你自己"></a>1.12 DRY 不要重复你自己</h3><p>  现在你已经完成了对于一个现存代码基础的所有艰难的开源工作，你可能不会想在开始一个新项目的时候把这些事重来一遍。幸运的是，你并不需要这么做。有Andrey Roy的<a href="https://github.com/audreyr/cookiecutter-pypackage" target="_blank" rel="external">Cookiecutter</a>工具（我链接到了Python版本，尽管还有一些不同语言的版本在the main repo)）</p>
<p>Cookiecutter是一个命令行工具能够自动执行新建项目的一些步骤来做这篇文章里提到的一些事情。 Daniel Greenfeld ( @pydanny )写了一篇很好的关于它的博客并且提到了如何与这篇文章里提到的实践联系上。你可以从这里看看这篇文章： <a href="http://www.pydanny.com/cookie-project-templates-made-easy.html" target="_blank" rel="external">Cookiecutter: Project Templates Made Easy</a> .</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>我们已经介绍了所有用来开源一个Python包的命令，工具和服务。当然，你可以直接把它扔到GitHub上并且说“自己安装它”，但是没人会这么做。并且你仅仅是开发源代码并不算是真正的开源软件。</p>
<p>另外，你可能不会为你的项目吸引外部贡献者。通过这里列出的方法来设立你的项目，你就已经创建了一个容易维护的Python包并且会鼓励大家来使用和贡献代码。而这，就是开源软件的真正精神，不是吗？</p>
]]></content>
      
        <categories>
            
            <category> 开源框架学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[centos 6.5 搭建ftp 服务器]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/10/10/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-10-10-CentOS6-5%E6%90%AD%E5%BB%BAFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      <content type="html"><![CDATA[<hr>
<a id="more"></a>
<h2 id="0x00-如何快速的搭建简易的资源发布站"><a href="#0x00-如何快速的搭建简易的资源发布站" class="headerlink" title="0x00 如何快速的搭建简易的资源发布站"></a>0x00 如何快速的搭建简易的资源发布站</h2><h3 id="开启简易的python-http服务器"><a href="#开启简易的python-http服务器" class="headerlink" title="开启简易的python http服务器"></a>开启简易的python http服务器</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /home/your_path</div><div class="line">python -m SimpleHTTPServer 8000</div></pre></td></tr></table></figure>
<h3 id="开启防火墙的对应端口"><a href="#开启防火墙的对应端口" class="headerlink" title="开启防火墙的对应端口"></a>开启防火墙的对应端口</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/sysconfig/iptables</div></pre></td></tr></table></figure>
<p>增加对应的端口就好</p>
<h2 id="0x01-知识储备"><a href="#0x01-知识储备" class="headerlink" title="0x01 知识储备"></a>0x01 知识储备</h2><p><strong>FTP通道解释</strong></p>
<ul>
<li>FTP包含了两个通道，一个叫控制通道，一个叫数据通道；<ul>
<li>控制通道：控制通道是和FTP服务器进行沟通的通道，连接FTP，发送FTP指令都是通过控制通道来完成的。</li>
<li>数据通道：数据通道是和FTP服务器进行文件传输或者列表的通道。</li>
</ul>
</li>
<li>FTP协议中，控制连接均有客户端发起，而数据连接有两种工作方式：PORT方式和PASV方式</li>
</ul>
<p><strong>FTP数据通道的主动被动方式</strong></p>
<ul>
<li>PORT模式(主动方式)</li>
</ul>
<blockquote>
<p>FTP 客户端首先和FTP Server的TCP 21端口建立连接，通过这个通道发送命令，客户端需要接收数据的时候在这个通道上发送PORT命令。 PORT命令包含了客户端用什么端口(一个大于1024的端口)接收数据。在传送数据的时候，服务器端通过自己的TCP 20端口发送数据。 FTP server必须和客户端建立一个新的连接用来传送数据。</p>
</blockquote>
<ul>
<li>PASV模式(被动方式)</li>
</ul>
<blockquote>
<p>在建立控制通道的时候和PORT模式类似，当客户端通过这个通道发送PASV 命令的时候，FTP server打开一个位于1024和5000之间的随机端口并且通知客户端在这个端口上传送数据的请求，然后FTP server 将通过这个端口进行数据的传送，这个时候FTP server不再需要建立一个新的和客户端之间的连接传送数据。</p>
</blockquote>
<p><strong>vsftpd的配置文件说明</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">文件</th>
<th style="text-align:center">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/etc/vsftpd/vsftpd.conf</td>
<td style="text-align:center">主配置文件</td>
</tr>
<tr>
<td style="text-align:center">/usr/sbin/vsftpd</td>
<td style="text-align:center">Vsftpd的主程序</td>
</tr>
<tr>
<td style="text-align:center">/etc/rc.d/init.d/vsftpd</td>
<td style="text-align:center">启动脚本</td>
</tr>
<tr>
<td style="text-align:center">/etc/pam.d/vsftpd</td>
<td style="text-align:center">PAM认证文件（此文件中file=/etc/vsftpd/ftpusers字段，指明阻止访问的用户来自/etc/vsftpd/ftpusers文件中的用户）</td>
</tr>
<tr>
<td style="text-align:center">/etc/vsftpd/ftpusers</td>
<td style="text-align:center">禁止使用vsftpd的用户列表文件。记录不允许访问FTP服务器的用户名单，管理员可以把一些对系统安全有威胁的用户账号记录在此文件中，以免用户从FTP登录后获得大于上传下载操作的权利，而对系统造成损坏。（注意：linux-4中此文件在/etc/目录下）</td>
</tr>
<tr>
<td style="text-align:center">/etc/vsftpd/user_list</td>
<td style="text-align:center">禁止或允许使用vsftpd的用户列表文件。这个文件中指定的用户缺省情况（即在/etc/vsftpd/vsftpd.conf中设置userlist_deny=YES）下也不能访问FTP服务器，在设置了userlist_deny=NO时,仅允许user_list中指定的用户访问FTP服务器。（注意：linux-4中此文件在/etc/目录下）</td>
</tr>
<tr>
<td style="text-align:center">/var/ftp</td>
<td style="text-align:center">匿名用户主目录；本地用户主目录为：/home/用户主目录，即登录后进入自己家目录</td>
</tr>
<tr>
<td style="text-align:center">/var/ftp/pub</td>
<td style="text-align:center">匿名用户的下载目录，此目录需赋权根chmod 1777 pub（1为特殊权限，使上载后无法删除）</td>
</tr>
<tr>
<td style="text-align:center">/etc/logrotate.d/vsftpd.log</td>
<td style="text-align:center">Vsftpd的日志文件</td>
</tr>
</tbody>
</table>
<p><strong>主配置文件说明</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div></pre></td><td class="code"><pre><div class="line">   # 是否允许匿名登录FTP服务器，默认设置为YES允许</div><div class="line">   # 用户可使用用户名ftp或anonymous进行ftp登录，口令为用户的E-mail地址。</div><div class="line">   # 如不允许匿名访问则设置为NO</div><div class="line">   anonymous_enable=YES</div><div class="line"></div><div class="line">   # 是否允许本地用户(即linux系统中的用户帐号)登录FTP服务器，默认设置为YES允许</div><div class="line">   # 本地用户登录后会进入用户主目录，而匿名用户登录后进入匿名用户的下载目录/var/ftp/pub</div><div class="line">   # 若只允许匿名用户访问，前面加上#注释掉即可阻止本地用户访问FTP服务器</div><div class="line">   local_enable=YES</div><div class="line"></div><div class="line"># 是否允许本地用户对FTP服务器文件具有写权限，默认设置为YES允许</div><div class="line">   write_enable=YES</div><div class="line"></div><div class="line">   # 掩码，本地用户默认掩码为077</div><div class="line">   # 你可以设置本地用户的文件掩码为缺省022，也可根据个人喜好将其设置为其他值</div><div class="line">   #local_umask=022</div><div class="line"></div><div class="line"># 是否允许匿名用户上传文件，须将全局的write_enable=YES。默认为YES</div><div class="line">   #anon_upload_enable=YES</div><div class="line"></div><div class="line">   # 是否允许匿名用户创建新文件夹</div><div class="line">   #anon_mkdir_write_enable=YES</div><div class="line"></div><div class="line"># 是否激活目录欢迎信息功能</div><div class="line">   # 当用户用CMD模式首次访问服务器上某个目录时，FTP服务器将显示欢迎信息</div><div class="line">   # 默认情况下，欢迎信息是通过该目录下的.message文件获得的</div><div class="line">   # 此文件保存自定义的欢迎信息，由用户自己建立</div><div class="line">   #dirmessage_enable=YES</div><div class="line"></div><div class="line">   # 是否让系统自动维护上传和下载的日志文件</div><div class="line">   # 默认情况该日志文件为/var/log/vsftpd.log,也可以通过下面的xferlog_file选项对其进行设定</div><div class="line">   # 默认值为NO</div><div class="line">   xferlog_enable=YES</div><div class="line"></div><div class="line"># Make sure PORT transfer connections originate from port 20 (ftp-data).</div><div class="line">   # 是否设定FTP服务器将启用FTP数据端口的连接请求</div><div class="line">   # ftp-data数据传输，21为连接控制端口</div><div class="line">   connect_from_port_20=YES</div><div class="line"></div><div class="line">   # 设定是否允许改变上传文件的属主，与下面一个设定项配合使用</div><div class="line">   # 注意，不推荐使用root用户上传文件</div><div class="line">   #chown_uploads=YES</div><div class="line"></div><div class="line"># 设置想要改变的上传文件的属主，如果需要，则输入一个系统用户名</div><div class="line">   # 可以把上传的文件都改成root属主。whoever：任何人</div><div class="line">   #chown_username=whoever</div><div class="line"></div><div class="line">   # 设定系统维护记录FTP服务器上传和下载情况的日志文件</div><div class="line">   # /var/log/vsftpd.log是默认的，也可以另设其它</div><div class="line">   #xferlog_file=/var/log/vsftpd.log</div><div class="line"></div><div class="line"># 是否以标准xferlog的格式书写传输日志文件</div><div class="line">   # 默认为/var/log/xferlog，也可以通过xferlog_file选项对其进行设定</div><div class="line">   # 默认值为NO</div><div class="line">   #xferlog_std_format=YES</div><div class="line"></div><div class="line">   # 以下是附加配置，添加相应的选项将启用相应的设置</div><div class="line">   # 是否生成两个相似的日志文件</div><div class="line">   # 默认在/var/log/xferlog和/var/log/vsftpd.log目录下</div><div class="line">   # 前者是wu_ftpd类型的传输日志，可以利用标准日志工具对其进行分析；后者是vsftpd类型的日志</div><div class="line">   #dual_log_enable</div><div class="line"></div><div class="line"># 是否将原本输出到/var/log/vsftpd.log中的日志，输出到系统日志</div><div class="line">   #syslog_enable</div><div class="line"></div><div class="line">   # 设置数据传输中断间隔时间，此语句表示空闲的用户会话中断时间为600秒</div><div class="line">   # 即当数据传输结束后，用户连接FTP服务器的时间不应超过600秒。可以根据实际情况对该值进行修改</div><div class="line">   #idle_session_timeout=600</div><div class="line"></div><div class="line"># 设置数据连接超时时间，该语句表示数据连接超时时间为120秒，可根据实际情况对其个修改</div><div class="line">   #data_connection_timeout=120</div><div class="line"></div><div class="line">   # 运行vsftpd需要的非特权系统用户，缺省是nobody</div><div class="line">   #nopriv_user=ftpsecure</div><div class="line"></div><div class="line"># 是否识别异步ABOR请求。</div><div class="line">   # 如果FTP client会下达“async ABOR”这个指令时，这个设定才需要启用</div><div class="line">   # 而一般此设定并不安全，所以通常将其取消</div><div class="line">   #async_abor_enable=YES</div><div class="line"></div><div class="line">   # 是否以ASCII方式传输数据。默认情况下，服务器会忽略ASCII方式的请求。</div><div class="line">   # 启用此选项将允许服务器以ASCII方式传输数据</div><div class="line">   # 不过，这样可能会导致由"SIZE /big/file"方式引起的DoS攻击</div><div class="line">   #ascii_upload_enable=YES</div><div class="line">   #ascii_download_enable=YES</div><div class="line"></div><div class="line"># 登录FTP服务器时显示的欢迎信息</div><div class="line">   # 如有需要，可在更改目录欢迎信息的目录下创建名为.message的文件，并写入欢迎信息保存后</div><div class="line">   #ftpd_banner=Welcome to blah FTP service.</div><div class="line"></div><div class="line">   # 黑名单设置。如果很讨厌某些email address，就可以使用此设定来取消他的登录权限</div><div class="line">   # 可以将某些特殊的email address抵挡住。</div><div class="line">   #deny_email_enable=YES</div><div class="line"></div><div class="line"># 当上面的deny_email_enable=YES时，可以利用这个设定项来规定哪些邮件地址不可登录vsftpd服务器</div><div class="line">   # 此文件需用户自己创建，一行一个email address即可</div><div class="line">   #banned_email_file=/etc/vsftpd/banned_emails</div><div class="line"></div><div class="line">   # 用户登录FTP服务器后是否具有访问自己目录以外的其他文件的权限</div><div class="line">   # 设置为YES时，用户被锁定在自己的home目录中，vsftpd将在下面chroot_list_file选项值的位置寻找chroot_list文件</div><div class="line">   # 必须与下面的设置项配合</div><div class="line">   #chroot_list_enable=YES</div><div class="line"></div><div class="line"># 被列入此文件的用户，在登录后将不能切换到自己目录以外的其他目录</div><div class="line">   # 从而有利于FTP服务器的安全管理和隐私保护。此文件需自己建立</div><div class="line">   #chroot_list_file=/etc/vsftpd/chroot_list</div><div class="line"></div><div class="line">   # 是否允许递归查询。默认为关闭，以防止远程用户造成过量的I/O</div><div class="line">   #ls_recurse_enable=YES</div><div class="line"></div><div class="line"># 是否允许监听。</div><div class="line">   # 如果设置为YES，则vsftpd将以独立模式运行，由vsftpd自己监听和处理IPv4端口的连接请求</div><div class="line">   listen=YES</div><div class="line"></div><div class="line">   # 设定是否支持IPV6。如要同时监听IPv4和IPv6端口，</div><div class="line">   # 则必须运行两套vsftpd，采用两套配置文件</div><div class="line">   # 同时确保其中有一个监听选项是被注释掉的</div><div class="line">   #listen_ipv6=YES</div><div class="line"></div><div class="line"># 设置PAM外挂模块提供的认证服务所使用的配置文件名，即/etc/pam.d/vsftpd文件</div><div class="line">   # 此文件中file=/etc/vsftpd/ftpusers字段，说明了PAM模块能抵挡的帐号内容来自文件/etc/vsftpd/ftpusers中</div><div class="line">   #pam_service_name=vsftpd</div><div class="line"></div><div class="line">   # 是否允许ftpusers文件中的用户登录FTP服务器，默认为NO</div><div class="line">   # 若此项设为YES，则user_list文件中的用户允许登录FTP服务器</div><div class="line">   # 而如果同时设置了userlist_deny=YES，则user_list文件中的用户将不允许登录FTP服务器，甚至连输入密码提示信息都没有</div><div class="line">   #userlist_enable=YES/NO</div><div class="line"></div><div class="line">   # 设置是否阻扯user_list文件中的用户登录FTP服务器，默认为YES</div><div class="line">   #userlist_deny=YES/NO</div><div class="line"></div><div class="line"># 是否使用tcp_wrappers作为主机访问控制方式。</div><div class="line">   # tcp_wrappers可以实现linux系统中网络服务的基于主机地址的访问控制</div><div class="line">   # 在/etc目录中的hosts.allow和hosts.deny两个文件用于设置tcp_wrappers的访问控制</div><div class="line">   # 前者设置允许访问记录，后者设置拒绝访问记录。</div><div class="line">   # 如想限制某些主机对FTP服务器192.168.57.2的匿名访问，编缉/etc/hosts.allow文件，如在下面增加两行命令：</div><div class="line">   # vsftpd:192.168.57.1:DENY 和vsftpd:192.168.57.9:DENY</div><div class="line">   # 表明限制IP为192.168.57.1/192.168.57.9主机访问IP为192.168.57.2的FTP服务器</div><div class="line">   # 此时FTP服务器虽可以PING通，但无法连接</div><div class="line">   tcp_wrappers=YES</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[后台开发语言比较]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/10/09/linux%E5%AD%A6%E4%B9%A0-2015-10-09-%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%AF%94%E8%BE%83/</url>
      <content type="html"><![CDATA[<hr>
<a id="more"></a>
<p><img src="/res/img/blog/linux学习/服务端语言的比较.jpg" alt="点我看图片"></p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux命令行艺术]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/09/24/linux%E5%AD%A6%E4%B9%A0-2015-06-01-linux%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E8%89%BA%E6%9C%AF/</url>
      <content type="html"><![CDATA[<hr>
<a id="more"></a>
<h1 id="命令行的艺术"><a href="#命令行的艺术" class="headerlink" title="命令行的艺术"></a>命令行的艺术</h1><ul>
<li><a href="#必读">必读</a></li>
<li><a href="#基础">基础</a></li>
<li><a href="#日常使用">日常使用</a></li>
<li><a href="#文件及数据处理">文件及数据处理</a></li>
<li><a href="#系统调试">系统调试</a></li>
<li><a href="#一行代码">一行代码</a></li>
<li><a href="#冷门但有用">冷门但有用</a></li>
<li><a href="#仅限-macos-x-系统">仅限 MacOS X 系统</a></li>
<li><a href="#更多资源">更多资源</a></li>
<li><a href="#免责声明">免责声明</a></li>
<li><a href="#授权条款">授权条款</a></li>
</ul>
<p><img src="https://github.com/daodaoliang/the-art-of-command-line/blob/master/cowsay.png" alt="W50"></p>
<p>熟练使用命令行是一种常常被忽视或被认为难以掌握的技能，但实际上，它可以提高你作为工程师的灵活性以及生产力。本文是一份我在 Linux 上工作时发现的一些关于命令行的使用的小技巧的摘要。有些小技巧是非常基础的，而另外一些则是相当复杂的甚至晦涩难懂的。这篇文章并不长，但当你能够熟练掌握这里列出的所有技巧时，你就学会了很多关于命令行的东西了。</p>
<p>这里的大部分内容<a href="http://www.quora.com/What-are-some-lesser-known-but-useful-Unix-commands" target="_blank" rel="external">首次</a> <a href="http://www.quora.com/What-are-the-most-useful-Swiss-army-knife-one-liners-on-Unix" target="_blank" rel="external">出现</a>于 <a href="http://www.quora.com/What-are-some-time-saving-tips-that-every-Linux-user-should-know" target="_blank" rel="external">Quora</a>，但考虑到这里的人们都具有学习的天赋且乐于接受别人的建议，使用 Github 来做这件事是更佳的选择。如果你在本文中发现了错误或者存在可以改善的地方，请果断提交 Issue 或 Pull Request！(当然在提交前请看一下必读节和已有的 PR/issue）。</p>
<h2 id="必读"><a href="#必读" class="headerlink" title="必读"></a>必读</h2><p>涵盖范围：</p>
<ul>
<li>这篇文章对刚接触命令行的新手以及具有命令行使用经验的人都有用处。本文致力于做到覆盖面广（尽量包括一切重要的内容），具体（给出最常见的具体的例子）以及简洁（避免一些不必要的东西以及一些偏题的可以在其他地方翻阅到文献的东西）。 每个小技巧在某个特定情境下都是基本的或能够显著地节约时间。</li>
<li>本文为 Linux 所写，除了<a href="#仅限-macos-x-系统">仅限 MacOS X 系统</a>节。其它节中的大部分内容都适用于其它 Unix 系统或 MacOS 系统，甚至 Cygwin。</li>
<li>本文关注于交互式 Bash，尽管很多技巧适用于其他 shell 或 Bash 脚本。</li>
<li>本文包括了“标准的”Unix 命令和需要安装特定包的命令，只要它们足够重要。</li>
</ul>
<p>注意事项：</p>
<ul>
<li>为了能在一页内展示尽量多的东西，一些具体的信息会被间接的包含在引用页里。聪明机智的你如果掌握了使用 Google 搜索引擎的基本思路与命令，那么你将可以查阅到更多的详细信息。使用 <code>apt-get</code>／<code>yum</code>／<code>dnf</code>／<code>pacman</code>／<code>pip</code>／<code>brew</code>（以及其它合适的包管理器）来安装新程序。</li>
<li>使用 <a href="http://explainshell.com/" target="_blank" rel="external">Explainshell</a> 去获取相关命令、参数、管道等内容的解释。</li>
</ul>
<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ul>
<li><p>学习 Bash 的基础知识。具体来说，输入 <code>man bash</code> 并至少全文浏览一遍; 它很简单并且不长。其他的 shell 可能很好用，但 Bash 功能强大且几乎所有情况下都是可用的 （ <em>只</em>学习 zsh，fish 或其他的 shell 的话，在你自己的电脑上会显得很方便，但在很多情况下会限制你，比如当你需要在服务器上工作时）。</p>
</li>
<li><p>学习并掌握至少一个基于文本的编辑器。通常 Vim （<code>vi</code>） 会是你最好的选择。</p>
</li>
<li><p>学会如何使用 <code>man</code> 命令去阅读文档。学会使用 <code>apropos</code> 去查找文档。了解有些命令并不对应可执行文件，而是Bash内置的，可以使用 <code>help</code> 和 <code>help -d</code> 命令获取帮助信息。</p>
</li>
<li><p>学会使用 <code>&gt;</code> 和 <code>&lt;</code> 来重定向输出和输入，学会使用 <code>|</code> 来重定向管道。明白 <code>&gt;</code> 会覆盖了输出文件而 <code>&gt;&gt;</code> 是在文件未添加。了解标准输出 stdout 和标准错误 stderr。</p>
</li>
<li><p>学会使用通配符 <code>*</code> （或许再算上 <code>?</code> 和 <code>{</code>…<code>}</code>） 和引用以及引用中 <code>&#39;</code> 和 <code>&quot;</code> 的区别。</p>
</li>
<li><p>熟悉 Bash 任务管理工具：<code>&amp;</code>，<strong>ctrl-z</strong>，<strong>ctrl-c</strong>，<code>jobs</code>，<code>fg</code>，<code>bg</code>，<code>kill</code> 等。</p>
</li>
<li><p>了解 <code>ssh</code>，以及基本的无密码认证，<code>ssh-agent</code>，<code>ssh-add</code> 等。</p>
</li>
<li><p>学会基本的文件管理：<code>ls</code> 和 <code>ls -l</code> （了解 <code>ls -l</code> 中每一列代表的意义），<code>less</code>，<code>head</code>，<code>tail</code> 和 <code>tail -f</code> （甚至 <code>less +F</code>），<code>ln</code> 和 <code>ln -s</code> （了解硬链接与软链接的区别），<code>chown</code>，<code>chmod</code>，<code>du</code> （硬盘使用情况概述：<code>du -hk *</code>）。 关于文件系统的管理，学习 <code>df</code>，<code>mount</code>，<code>fdisk</code>，<code>mkfs</code>，<code>lsblk</code>。</p>
</li>
<li><p>学习基本的网络管理：<code>ip</code> 或 <code>ifconfig</code>，<code>dig</code>。</p>
</li>
<li><p>熟悉正则表达式，以及 <code>grep</code>／<code>egrep</code> 里不同参数的作用，例如 <code>-i</code>，<code>-o</code>，<code>-v</code>，<code>-A</code>，<code>-B</code> 和 <code>-C</code>。</p>
</li>
<li><p>学会使用 <code>apt-get</code>，<code>yum</code>，<code>dnf</code> 或 <code>pacman</code> （取决于你使用的 Linux 发行版）来查找或安装包。确保你的环境中有 <code>pip</code> 来安装基于 Python 的命令行工具 （部分程序使用 <code>pip</code> 来安装会很简单）。</p>
</li>
</ul>
<h2 id="日常使用"><a href="#日常使用" class="headerlink" title="日常使用"></a>日常使用</h2><ul>
<li><p>在 Bash 中，可以使用 <strong>Tab</strong> 自动补全参数，使用 <strong>ctrl-r</strong> 搜索命令行历史。</p>
</li>
<li><p>在 Bash 中，使用 <strong>ctrl-w</strong> 删除你键入的最后一个单词，使用 <strong>ctrl-u</strong> 删除整行，使用 <strong>alt-b</strong> 和 <strong>alt-f</strong> 按单词移动，使用 <strong>ctrl-k</strong> 从光标处删除到行尾，使用 <strong>ctrl-l</strong> 清屏。键入 <code>man readline</code> 查看 Bash 中的默认快捷键，内容很多。例如 <strong>alt-.</strong> 循环地移向前一个参数，以及 <strong>alt-*</strong> 展开通配符。</p>
</li>
<li><p>你喜欢的话，可以键入 <code>set -o vi</code> 来使用 vi 风格的快捷键。</p>
</li>
<li><p>键入 <code>history</code> 查看命令行历史记录。其中有许多缩写，例如 <code>!$</code>（最后键入的参数）和 <code>!!</code>（最后键入的命令），尽管通常被 <strong>ctrl-r</strong> 和 <strong>alt-.</strong> 取代。</p>
</li>
<li><p>回到上一个工作路径：<code>cd -</code></p>
</li>
<li><p>如果你输入命令的时候改变了主意，按下 <strong>alt-#</strong> 在行首添加 <code>#</code>（将你输入的命令视为注释），并回车。这样做的话，之后你可以很方便的利用命令行历史回到你刚才输入到一半的命令。</p>
</li>
<li><p>使用 <code>xargs</code> （ 或 <code>parallel</code>）。他们非常给力。注意到你可以控制每行参数个数（<code>-L</code>）和最大并行数（<code>-P</code>）。如果你不确定它们是否会按你想的那样工作，先使用 <code>xargs echo</code> 查看一下。此外，使用 <code>-I{}</code> 会很方便。例如：</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">'*.py'</span> | xargs grep some_function</div><div class="line">cat hosts | xargs -I&#123;&#125; ssh root@&#123;&#125; hostname</div></pre></td></tr></table></figure>
<ul>
<li><p><code>pstree -p</code> 有助于展示进程树。</p>
</li>
<li><p>使用 <code>pgrep</code> 和 <code>pkill</code> 根据名字查找进程或发送信号。</p>
</li>
<li><p>了解你可以发往进程的信号的种类。比如，使用 <code>kill -STOP [pid]</code> 停止一个进程。使用 <code>man 7 signal</code> 查看详细列表。</p>
</li>
<li><p>使用 <code>nohup</code> 或 <code>disown</code> 使一个后台进程持续运行。</p>
</li>
<li><p>使用 <code>netstat -lntp</code> 或 <code>ss -plat</code> 检查哪些进程在监听端口（默认是检查 TCP 端口; 使用参数 <code>-u</code> 检查 UDP 端口）。</p>
</li>
<li><p>有关打开套接字和文件，请参阅 <code>lsof</code>。</p>
</li>
<li><p>使用 <code>uptime</code> 或 <code>w</code> 来查看系统已经运行多长时间。</p>
</li>
<li><p>使用<code>alias</code>来创建常用命令的快捷形式。例如：<code>alias ll=&#39;ls -latr&#39;</code>使你可以方便地执行<code>ls -latr</code>命令。</p>
</li>
<li><p>在 Bash 脚本中，使用 <code>set -x</code> 去调试输出，尽可能的使用严格模式，使用 <code>set -e</code> 令脚本在发生错误时退出而不是继续运行，使用 <code>set -o pipefail</code> 严谨地对待错误（尽管问题可能很微妙）。当牵扯到很多脚本时，使用 <code>trap</code>。</p>
</li>
<li><p>在 Bash 脚本中，子 shell（使用括号<code>(...)</code>）是一种便捷的方式去组织参数。一个常见的例子是临时地移动工作路径，代码如下：</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># do something in current dir</span></div><div class="line">(<span class="built_in">cd</span> /some/other/dir &amp;&amp; other-command)</div><div class="line"><span class="comment"># continue in original dir</span></div></pre></td></tr></table></figure>
<ul>
<li><p>在 Bash 中，注意到其中有许多形式的扩展。检查变量是否存在：<code>${name:?error message}</code>。例如，当 Bash 脚本需要一个参数时，可以使用这样的代码 <code>input_file=${1:?usage: $0 input_file}</code>。数学表达式：<code>i=$(( (i + 1) % 5 ))</code>。序列：<code>{1..10}</code>。 截断字符串：<code>${var%suffix}</code> 和 <code>${var#prefix}</code>。例如，假设 <code>var=foo.pdf</code>，那么 <code>echo ${var%.pdf}.txt</code> 将输出 <code>foo.txt</code>。</p>
</li>
<li><p>通过使用 <code>&lt;(some command)</code> 可以将输出视为文件。例如，对比本地文件 <code>/etc/hosts</code> 和一个远程文件：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diff /etc/hosts &lt;(ssh somehost cat /etc/hosts)</div></pre></td></tr></table></figure>
<ul>
<li><p>了解 Bash 中的“here documents”，例如 <code>cat &lt;&lt;EOF ...</code>。</p>
</li>
<li><p>在 Bash 中，同时重定向标准输出和标准错误，<code>some-command &gt;logfile 2&gt;&amp;1</code>。通常，为了保证命令不会在标准输入里残留一个打开了的文件句柄导致你当前所在的终端无法操作，添加 <code>&lt;/dev/null</code> 是一个好习惯。</p>
</li>
<li><p>使用 <code>man ascii</code> 查看具有十六进制和十进制值的ASCII表。<code>man unicode</code>，<code>man utf-8</code>，以及 <code>man latin1</code> 有助于你去了解通用的编码信息。</p>
</li>
<li><p>使用 <code>screen</code> 或 <a href="https://tmux.github.io/" target="_blank" rel="external"><code>tmux</code></a> 来使用多个屏幕，当你在使用 ssh 时（保存 session 信息）将尤为有用。另一个轻量级的解决方案是 <code>dtach</code>。</p>
</li>
<li><p>ssh 中，了解如何使用 <code>-L</code> 或 <code>-D</code>（偶尔需要用 <code>-R</code>）去开启隧道是非常有用的，例如当你需要从一台远程服务器上访问 web。</p>
</li>
<li><p>对 ssh 设置做一些小优化可能是很有用的，例如这个 <code>~/.ssh/config</code> 文件包含了防止特定环境下断开连接、压缩数据、多通道等选项：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">TCPKeepAlive=yes</div><div class="line">ServerAliveInterval=15</div><div class="line">ServerAliveCountMax=6</div><div class="line">Compression=yes</div><div class="line">ControlMaster auto</div><div class="line">ControlPath /tmp/%r@%h:%p</div><div class="line">ControlPersist yes</div></pre></td></tr></table></figure>
<ul>
<li><p>部分其他的关于 ssh 的选项是安全敏感且应当小心启用的。例如在可信任的网络中：<code>StrictHostKeyChecking=no</code>，<code>ForwardAgent=yes</code></p>
</li>
<li><p>获取文件的八进制格式权限，使用类似如下的代码：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">stat</span> -c <span class="string">'%A %a %n'</span> /etc/timezone</div></pre></td></tr></table></figure>
<ul>
<li><p>使用 <a href="https://github.com/mooz/percol" target="_blank" rel="external"><code>percol</code></a> 或者 <a href="https://github.com/junegunn/fzf" target="_blank" rel="external"><code>fzf</code></a> 可以交互式地从另一个命令输出中选取值。</p>
</li>
<li><p>使用 <code>fpp</code>（<a href="https://github.com/facebook/PathPicker" target="_blank" rel="external">PathPicker</a>）可以与基于另一个命令(例如 <code>git</code>）输出的文件交互。</p>
</li>
<li><p>将 web 服务器上当前目录下所有的文件（以及子目录）暴露给你所处网络的所有用户，使用：<br><code>python -m SimpleHTTPServer 7777</code> （使用端口 7777 和 Python 2）或<code>python -m http.server 7777</code> （使用端口 7777 和 Python 3）。</p>
</li>
<li><p>以某种权限执行命令，使用<code>sudo</code>（root 权限）或<code>sudo -u</code>（其他用户）。使用<code>su</code>或者<code>sudo bash</code>来启动一个以对应用户权限运行的 shell。使用<code>su -</code>模拟其他用户的登录。</p>
</li>
</ul>
<h2 id="文件及数据处理"><a href="#文件及数据处理" class="headerlink" title="文件及数据处理"></a>文件及数据处理</h2><ul>
<li><p>在当前路径下通过文件名定位一个文件，<code>find . -iname &#39;*something*&#39;</code>（或类似的）。在所有路径下通过文件名查找文件，使用 <code>locate something</code> （但请记住 <code>updatedb</code> 可能没有对最近新建的文件建立索引）。</p>
</li>
<li><p>使用 <a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="external"><code>ag</code></a> 在源代码或数据文件里检索（比 <code>grep -r</code> 更好）。</p>
</li>
<li><p>将HTML转为文本：<code>lynx -dump -stdin</code></p>
</li>
<li><p>Markdown，HTML，以及所有文档格式之间的转换，试试 <a href="http://pandoc.org/" target="_blank" rel="external"><code>pandoc</code></a>。</p>
</li>
<li><p>如果你不得不处理 XML，<code>xmlstarlet</code> 宝刀未老。</p>
</li>
<li><p>使用 <a href="http://stedolan.github.io/jq/" target="_blank" rel="external"><code>jq</code></a> 处理 JSON。</p>
</li>
<li><p>Excel 或 CSV 文件的处理，<a href="https://github.com/onyxfish/csvkit" target="_blank" rel="external">csvkit</a> 提供了 <code>in2csv</code>，<code>csvcut</code>，<code>csvjoin</code>，<code>csvgrep</code> 等工具。</p>
</li>
<li><p>关于 Amazon S3，<a href="https://github.com/s3tools/s3cmd" target="_blank" rel="external"><code>s3cmd</code></a> 很方便而 <a href="https://github.com/bloomreach/s4cmd" target="_blank" rel="external"><code>s4cmd</code></a> 更快。Amazon 官方的 <a href="https://github.com/aws/aws-cli" target="_blank" rel="external"><code>aws</code></a> 是其他 AWS 相关工作的基础。</p>
</li>
<li><p>了解如何使用 <code>sort</code> 和 <code>uniq</code>，包括 uniq 的 <code>-u</code> 参数和 <code>-d</code> 参数，详见后文一行代码节。另外可以了解一下 <code>comm</code>。</p>
</li>
<li><p>了解如何使用 <code>cut</code>，<code>paste</code> 和 <code>join</code> 来更改文件。很多人都会使用 <code>cut</code>，但几乎都不会使用 <code>join</code>。</p>
</li>
<li><p>了解如何运用 <code>wc</code> 去计算新行数（<code>-l</code>），字符数（<code>-m</code>），单词数（<code>-w</code>）以及字节数（<code>-c</code>）。</p>
</li>
<li><p>了解如何使用 <code>tee</code> 将标准输入复制到文件甚至标准输出，例如 <code>ls -al | tee file.txt</code>。</p>
</li>
<li><p>了解语言环境对许多命令行工具的微妙影响，包括排序的顺序和性能。大多数 Linux 的安装过程会将 <code>LANG</code> 或其他有关的变量设置为符合本地的设置。意识到当你改变语言环境时，排序的结果可能会改变。明白国际化可能会时 sort 或其他命令运行效率下降<em>许多倍</em>。某些情况下（例如集合运算）你可以放心的使用 <code>export LC_ALL=C</code> 来忽略掉国际化并使用基于字节的顺序。</p>
</li>
<li><p>了解 <code>awk</code> 和 <code>sed</code> 关于数据的简单处理的用法。例如，将文本文件中第三列的所有数字求和：<code>awk &#39;{ x += $3 } END { print x }&#39;</code>. 这可能比同等作用的 Python 代码块三倍且代码量少三倍。</p>
</li>
<li><p>替换一个或多个文件中出现的字符串：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perl -pi.bak <span class="_">-e</span> <span class="string">'s/old-string/new-string/g'</span> my-files-*.txt</div></pre></td></tr></table></figure>
<ul>
<li>依据某种模式批量重命名多个文件，使用 <code>rename</code>。对于复杂的重命名规则，<a href="https://github.com/jlevy/repren" target="_blank" rel="external"><code>repren</code></a> 或许有帮助。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Recover backup files foo.bak -&gt; foo:</span></div><div class="line">rename <span class="string">'s/\.bak$//'</span> *.bak</div><div class="line"><span class="comment"># Full rename of filenames，directories，and contents foo -&gt; bar:</span></div><div class="line">repren --full --preserve-case --from foo --to bar .</div></pre></td></tr></table></figure>
<ul>
<li><p>使用 <code>shuf</code> 从一个文件中随机选取行。</p>
</li>
<li><p>了解 <code>sort</code> 的参数。处理数字方面，使用 <code>-n</code> 或者 <code>-h</code> 来处理可读性数字（例如 <code>du -h</code> 的输出）。明白键的工作原理（<code>-t</code> 和 <code>-k</code>）。例如，注意到你需要 <code>-k1，1</code> 来仅按第一个域来排序，而 <code>-k1</code> 意味着按整行排序。稳定排序（<code>sort -s</code>）在某些情况下很有用。例如，以第二个域为主关键字，第一个域为次关键字进行排序，你可以使用 <code>sort -k1，1 | sort -s -k2，2</code>。</p>
</li>
<li><p>如果你想在 Bash 命令行中写 tab 制表符，按下 <strong>ctrl-v</strong> <strong>[Tab]</strong> 或键入 <code>$&#39;\t&#39;</code> （后者可能更好，因为你可以复制粘贴它）。</p>
</li>
<li><p>标准的源代码对比及合并工具是 <code>diff</code> 和 <code>patch</code>。使用 <code>diffstat</code> 查看变更总览数据。注意到 <code>diff -r</code> 对整个文件夹有效。使用 <code>diff -r tree1 tree2 | diffstat</code> 查看变更总览数据。</p>
</li>
<li><p>对于二进制文件，使用 <code>hd</code> 使其以十六进制显示以及使用 <code>bvi</code> 来编辑二进制。</p>
</li>
<li><p>同样对于二进制文件，使用 <code>strings</code>（包括 <code>grep</code> 等等）允许你查找一些文本。</p>
</li>
<li><p>二进制文件对比（Delta 压缩），使用 <code>xdelta3</code>。</p>
</li>
<li><p>使用 <code>iconv</code> 更改文本编码。而更高级的用法，可以使用 <code>uconv</code>，它支持一些高级的 Unicode 功能。例如，这条命令将所有元音字母转为小写并移除了：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uconv <span class="_">-f</span> utf-8 -t utf-8 -x <span class="string">'::Any-Lower; ::Any-NFD; [:Nonspacing Mark:] &gt;; ::Any-NFC; '</span> &lt; input.txt &gt; output.txt</div></pre></td></tr></table></figure>
<ul>
<li><p>拆分文件，查看 <code>split</code>（按大小拆分）和 <code>csplit</code>（按模式拆分）。</p>
</li>
<li><p>使用 <code>zless</code>，<code>zmore</code>，<code>zcat</code> 和 <code>zgrep</code>对压缩过的文件进行操作。</p>
</li>
</ul>
<h2 id="系统调试"><a href="#系统调试" class="headerlink" title="系统调试"></a>系统调试</h2><ul>
<li><p><code>curl</code> 和 <code>curl -I</code> 可以便捷地被应用于 web 调试中，它们的好兄弟 <code>wget</code> 也可以，或者是更潮的 <a href="https://github.com/jakubroztocil/httpie" target="_blank" rel="external"><code>httpie</code></a>。</p>
</li>
<li><p>使用 <code>iostat</code>、<code>netstat</code>、<code>top</code> （<code>htop</code> 更佳）和 <code>dstat</code> 去获取硬盘、cpu 和网络的状态。熟练掌握这些工具可以使你快速的对系统的当前状态有一个大概的认识。</p>
</li>
<li><p>若要对系统有一个深度的总体认识，使用 <a href="https://github.com/nicolargo/glances" target="_blank" rel="external"><code>glances</code></a>。它在一个终端窗口中向你提供一些系统级的数据。这对于快速的检查各个子系统非常有帮助。</p>
</li>
<li><p>若要了解内存状态，运行并理解 <code>free</code> 和 <code>vmstat</code> 的输出。尤其注意“cached”的值，它指的是 Linux 内核用来作为文件缓存的内存大小，因此它与空闲内存无关。</p>
</li>
<li><p>Java 系统调试则是一件截然不同的事，一个可以用于 Oracle 的 JVM 或其他 JVM 上的调试的小技巧是你可以运行 <code>kill -3 &lt;pid&gt;</code> 同时一个完整的栈轨迹和堆概述（包括 GC 的细节）会被保存到标准输出/日志文件。JDK 中的 <code>jps</code>，<code>jstat</code>，<code>jstack</code>，<code>jmap</code> 很有用。<a href="https://github.com/aragozin/jvm-tools" target="_blank" rel="external">SJK tools</a> 更高级.</p>
</li>
<li><p>使用 <code>mtr</code> 去跟踪路由，用于确定网络问题。</p>
</li>
<li><p>用 <code>ncdu</code> 来查看磁盘使用情况，它比常用的命令，如 <code>du -sh *</code>，更节省时间。</p>
</li>
<li><p>查找正在使用带宽的套接字连接或进程，使用 <code>iftop</code> 或 <code>nethogs</code>。</p>
</li>
<li><p><code>ab</code> 工具（捆绑于 Apache）可以简单粗暴地检查 web 服务器的性能。对于更复杂的负载测试，使用 <code>siege</code>。</p>
</li>
<li><p><code>wireshark</code>，<code>tshark</code> 和 <code>ngrep</code> 可用于复杂的网络调试。</p>
</li>
<li><p>了解 <code>strace</code> 和 <code>ltrace</code>。这俩工具在你的程序运行失败、挂起甚至崩溃，而你却不知道为什么或你想对性能有个总体的认识的时候是非常有用的。注意 profile 参数（<code>-c</code>）和附加到一个运行的进程参数 （<code>-p</code>）。</p>
</li>
<li><p>了解使用 <code>ldd</code> 来检查共享库。</p>
</li>
<li><p>了解如何运用 <code>gdb</code> 连接到一个运行着的进程并获取它的堆栈轨迹。</p>
</li>
<li><p>学会使用 <code>/proc</code>。它在调试正在出现的问题的时候有时会效果惊人。比如：<code>/proc/cpuinfo</code>，<code>/proc/meminfo</code>，<code>/proc/cmdline</code>，<code>/proc/xxx/cwd</code>，<code>/proc/xxx/exe</code>，<code>/proc/xxx/fd/</code>，<code>/proc/xxx/smaps</code>（这里的 <code>xxx</code> 表示进程的 id 或 pid）。</p>
</li>
<li><p>当调试一些之前出现的问题的时候，<code>sar</code> 非常有用。它展示了 cpu、内存以及网络等的历史数据。</p>
</li>
<li><p>关于更深层次的系统分析以及性能分析，看看 <code>stap</code>（<a href="https://sourceware.org/systemtap/wiki" target="_blank" rel="external">SystemTap</a>），<a href="http://en.wikipedia.org/wiki/Perf_(Linux" target="_blank" rel="external"><code>perf</code></a>)，以及<a href="https://github.com/draios/sysdig" target="_blank" rel="external"><code>sysdig</code></a>。</p>
</li>
<li><p>查看你当前使用的系统，使用 <code>uname</code> 或者 <code>uname -a</code> （Unix／kernel 信息） or <code>lsb_release -a</code> （Linux 发行版信息）。</p>
</li>
<li><p>无论什么东西工作得很欢乐时试试 <code>dmesg</code>（可能是硬件或驱动问题）。</p>
</li>
</ul>
<h2 id="一行代码"><a href="#一行代码" class="headerlink" title="一行代码"></a>一行代码</h2><p>一些命令组合的例子：</p>
<ul>
<li>当你需要对文本文件做集合交、并、差运算时，结合使用 <code>sort</code>/<code>uniq</code> 很有帮助。假设 <code>a</code> 与 <code>b</code> 是两内容不同的文件。这种方式效率很高，并且在小文件和上G的文件上都能运用 （<code>sort</code> 不被内存大小约束，尽管在 <code>/tmp</code> 在一个小的根分区上时你可能需要 <code>-T</code> 参数），参阅前文中关于 <code>LC_ALL</code> 和 <code>sort</code> 的 <code>-u</code> 参数的部分。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cat a b | sort | uniq &gt; c   <span class="comment"># c is a union b</span></div><div class="line">cat a b | sort | uniq <span class="_">-d</span> &gt; c   <span class="comment"># c is a intersect b</span></div><div class="line">cat a b b | sort | uniq -u &gt; c   <span class="comment"># c is set difference a - b</span></div></pre></td></tr></table></figure>
<ul>
<li><p>使用 <code>grep . *</code> 来阅读检查目录下所有文件的内容，例如检查一个充满配置文件的目录比如 <code>/sys</code>、<code>/proc</code>、<code>/etc</code>。</p>
</li>
<li><p>计算文本文件第三列中所有数的和（可能比同等作用的 Python 代码快三倍且代码量少三倍）：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">awk <span class="string">'&#123; x += $3 &#125; END &#123; print x &#125;'</span> myfile</div></pre></td></tr></table></figure>
<ul>
<li>如果你想在文件树上查看大小\日期，这可能看起来像递归版的 <code>ls -l</code> 但比 <code>ls -lR</code> 更易于理解：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -type f -ls</div></pre></td></tr></table></figure>
<ul>
<li>假设你有一个类似于 web 服务器日志文件的文本文件，并且一个确定的值只会出现在某些行上，假设一个 <code>acct_id</code> 参数在URI中。如果你想计算出每个 <code>acct_id</code> 值有多少次请求，使用如下代码：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat access.log | egrep -o <span class="string">'acct_id=[0-9]+'</span> | cut <span class="_">-d</span>= <span class="_">-f</span>2 | sort | uniq -c | sort -rn</div></pre></td></tr></table></figure>
<ul>
<li>运行这个函数从这篇文档中随机获取一条小技巧（解析 Markdown 文件并抽取项目）：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">taocl</span></span>() &#123;</div><div class="line">  curl <span class="_">-s</span> https://raw.githubusercontent.com/jlevy/the-art-of-command-line/master/README.md |</div><div class="line">    pandoc <span class="_">-f</span> markdown -t html |</div><div class="line">    xmlstarlet fo --html --dropdtd |</div><div class="line">    xmlstarlet sel -t -v <span class="string">"(html/body/ul/li[count(p)&gt;0])[<span class="variable">$RANDOM</span> mod last()+1]"</span> |</div><div class="line">    xmlstarlet unesc | fmt -80</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="冷门但有用"><a href="#冷门但有用" class="headerlink" title="冷门但有用"></a>冷门但有用</h2><ul>
<li><p><code>expr</code>：计算表达式或正则匹配</p>
</li>
<li><p><code>m4</code>：简单地宏处理器</p>
</li>
<li><p><code>yes</code>：多次打印字符串</p>
</li>
<li><p><code>cal</code>：漂亮的日历</p>
</li>
<li><p><code>env</code>：执行一个命令（脚本文件中很有用）</p>
</li>
<li><p><code>printenv</code>：打印环境变量（调试时或在使用脚本文件时很有用）</p>
</li>
<li><p><code>look</code>：查找以特定字符串开头的单词</p>
</li>
<li><p><code>cut</code>、<code>paste</code> 和 <code>join</code>：数据修改</p>
</li>
<li><p><code>fmt</code>：格式化文本段落</p>
</li>
<li><p><code>pr</code>：将文本格式化成页/列形式</p>
</li>
<li><p><code>fold</code>：包裹文本中的几行</p>
</li>
<li><p><code>column</code>：将文本格式化成多列或表格</p>
</li>
<li><p><code>expand</code> 和 <code>unexpand</code>：制表符与空格之间转换</p>
</li>
<li><p><code>nl</code>：添加行号</p>
</li>
<li><p><code>seq</code>：打印数字</p>
</li>
<li><p><code>bc</code>：计算器</p>
</li>
<li><p><code>factor</code>：分解因数</p>
</li>
<li><p><code>gpg</code>：加密并签名文件</p>
</li>
<li><p><code>toe</code>：terminfo entries 列表</p>
</li>
<li><p><code>nc</code>：网络调试及数据传输</p>
</li>
<li><p><code>socat</code>：套接字代理，与 <code>netcat</code> 类似</p>
</li>
<li><p><code>slurm</code>：网络可视化</p>
</li>
<li><p><code>dd</code>：文件或设备间传输数据</p>
</li>
<li><p><code>file</code>：确定文件类型</p>
</li>
<li><p><code>tree</code>：以树的形式显示路径和文件，类似于递归的 <code>ls</code></p>
</li>
<li><p><code>stat</code>：文件信息</p>
</li>
<li><p><code>time</code>：执行命令，并计算执行时间</p>
</li>
<li><p><code>tac</code>：反向输出文件</p>
</li>
<li><p><code>shuf</code>：文件中随机选取几行</p>
</li>
<li><p><code>comm</code>：一行一行的比较排序过的文件</p>
</li>
<li><p><code>pv</code>：监视通过管道的数据</p>
</li>
<li><p><code>hd</code> 和 <code>bvi</code>：保存或编辑二进制文件</p>
</li>
<li><p><code>strings</code>：从二进制文件中抽取文本</p>
</li>
<li><p><code>tr</code>：转换字母</p>
</li>
<li><p><code>iconv</code> 或 <code>uconv</code>：简易的文件编码</p>
</li>
<li><p><code>split</code> 和 <code>csplit</code>：分割文件</p>
</li>
<li><p><code>units</code>：将一种计量单位转换为另一种等效的计量单位（参阅 <code>/usr/share/units/definitions.units</code>）</p>
</li>
<li><p><code>7z</code>：高比例的文件压缩</p>
</li>
<li><p><code>ldd</code>：动态库信息</p>
</li>
<li><p><code>nm</code>：提取 obj 文件中的符号</p>
</li>
<li><p><code>ab</code>：性能分析 web 服务器</p>
</li>
<li><p><code>strace</code>：系统调用调试</p>
</li>
<li><p><code>mtr</code>：更好的网络调试跟踪工具</p>
</li>
<li><p><code>cssh</code>：可视化的并发 shell</p>
</li>
<li><p><code>rsync</code>：通过 ssh 或本地文件系统同步文件和文件夹</p>
</li>
<li><p><code>wireshark</code> 和 <code>tshark</code>：抓包和网络调试工具</p>
</li>
<li><p><code>ngrep</code>：网络层的 grep</p>
</li>
<li><p><code>host</code> 和 <code>dig</code>：DNS 查找</p>
</li>
<li><p><code>lsof</code>：列出当前系统打开文件的工具以及查看端口信息</p>
</li>
<li><p><code>dstat</code>：系统状态查看</p>
</li>
<li><p><a href="https://github.com/nicolargo/glances" target="_blank" rel="external"><code>glances</code></a>：高层次的多子系统总览</p>
</li>
<li><p><code>iostat</code>：硬盘使用状态</p>
</li>
<li><p><code>mpstat</code>: CPU 使用状态</p>
</li>
<li><p><code>vmstat</code>: 内存使用状态</p>
</li>
<li><p><code>htop</code>：top 的加强版</p>
</li>
<li><p><code>last</code>：登入记录</p>
</li>
<li><p><code>w</code>：查看处于登录状态的用户</p>
</li>
<li><p><code>id</code>：用户/组 ID 信息</p>
</li>
<li><p><code>sar</code>：系统历史数据</p>
</li>
<li><p><code>iftop</code> 或 <code>nethogs</code>：套接字及进程的网络利用</p>
</li>
<li><p><code>ss</code>：套接字数据</p>
</li>
<li><p><code>dmesg</code>：引导及系统错误信息</p>
</li>
<li><p><code>sysctl</code>: 在内核运行时动态地查看和修改内核的运行参数</p>
</li>
<li><p><code>hdparm</code>：SATA/ATA 磁盘更改及性能分析</p>
</li>
<li><p><code>lsb_release</code>：Linux 发行版信息</p>
</li>
<li><p><code>lsblk</code>：列出块设备信息：以树形展示你的磁盘以及磁盘分区信息</p>
</li>
<li><p><code>lshw</code>，<code>lscpu</code>，<code>lspci</code>，<code>lsusb</code> 和 <code>dmidecode</code>：查看硬件信息，包括 CPU、BIOS、RAID、显卡、USB设备等</p>
</li>
<li><p><code>lsmod</code> 和 <code>modifno</code>：列出内核模块，并显示其细节</p>
</li>
<li><p><code>fortune</code>，<code>ddate</code> 和 <code>sl</code>：额，这主要取决于你是否认为蒸汽火车和莫名其妙的名人名言是否“有用”</p>
</li>
</ul>
<h2 id="仅限-MacOS-X-系统"><a href="#仅限-MacOS-X-系统" class="headerlink" title="仅限 MacOS X 系统"></a>仅限 MacOS X 系统</h2><p>以下是<em>仅限于</em> MacOS 系统的技巧</p>
<ul>
<li><p>用 <code>brew</code> （Homebrew）或者 <code>port</code> （MacPorts）进行包管理。这些可以用来在 Mac 系统上安装以上的大多数命令。</p>
</li>
<li><p>用 <code>pbcopy</code> 复制任何命令的输出到桌面应用，用 <code>pbpaste</code> 粘贴输入。</p>
</li>
<li><p>用 <code>open</code> 或者 <code>open -a /Applications/Whatever.app</code> 使用桌面应用打开文件。</p>
</li>
<li><p>Spotlight： 用 <code>mdfind</code> 搜索文件，用 <code>mdls</code> 列出元数据（例如照片的 EXIF 信息）。</p>
</li>
<li><p>注意 MacOS 系统是基于 BSD UNIX 的，许多命令（例如 <code>ps</code>，<code>ls</code>，<code>tail</code>，<code>awk</code>，<code>sed</code>）都和 Linux 中有些微的不同，这些极大的被 System V-style Unix 和 GNU 工具影响。你可以通过标题为 “BSD General Commands Manual” 的 man 页面发现这些不同。在有些情况下 GNU 版本的命令也可能被安装（例如 <code>gawk</code> 和 <code>gsed</code> 对应 GNU 中的 awk 和 sed ）。如果要写跨平台的 Bash 脚本，避免使用这些命令（例如，考虑 Python 或者 <code>perl</code> ）或者经过仔细的测试。</p>
</li>
</ul>
<h2 id="更多资源"><a href="#更多资源" class="headerlink" title="更多资源"></a>更多资源</h2><ul>
<li><a href="https://github.com/alebcay/awesome-shell" target="_blank" rel="external">awesome-shell</a>：一份精心组织的命令行工具及资源的列表。</li>
<li><a href="http://redsymbol.net/articles/unofficial-bash-strict-mode/" target="_blank" rel="external">Strict mode</a>：为了编写更好的脚本文件。</li>
</ul>
<h2 id="免责声明"><a href="#免责声明" class="headerlink" title="免责声明"></a>免责声明</h2><p>除去特别微小的任务，记录下这些代码以便他人查看。责任往往伴随着能力，<em>可以</em>做并不意味着应该做。</p>
<h2 id="授权条款"><a href="#授权条款" class="headerlink" title="授权条款"></a>授权条款</h2><p>本文使用授权协议 <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="external">Creative Commons Attribution-ShareAlike 4.0 International License</a>。</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python提升效率(视频)]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/09/09/Python%E5%AD%A6%E4%B9%A0-2015-09-09-python%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87-%E8%A7%86%E9%A2%91/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<div><br><object width="480" height="400" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" align="middle"><param name="src" value="http://player.youku.com/player.php/sid/XMTMyODYzNjUzNg==/v.swf"><param name="allowfullscreen" value="true"><param name="quality" value="high"><param name="allowscriptaccess" value="always"><embed width="620" height="500" type="application/x-shockwave-flash" src="http://player.youku.com/player.php/sid/XMTMyODYzNjUzNg==/v.swf" allowfullscreen="true" quality="high" allowscriptaccess="always" align="middle"></object><br></div>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python装饰器学习(转载)]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/09/09/Python%E5%AD%A6%E4%B9%A0-2015-09-09-python%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0-%E8%BD%AC%E8%BD%BD/</url>
      <content type="html"><![CDATA[<p>这是转载原文在<a href="http://segmentfault.com/a/1190000003719779" target="_blank" rel="external">这里</a></p>
<a id="more"></a>
<h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本文主要梳理了Python decorator的实现思路，解释了为什么Python decorator是现在这个样子。</p>
<h3 id="关于代理模式、装饰模式"><a href="#关于代理模式、装饰模式" class="headerlink" title="关于代理模式、装饰模式"></a>关于代理模式、装饰模式</h3><p>设计模式中经常听到的代理模式、装饰器模式，这两种叫法实际上是说的同一件事，只是侧重点不同而已。</p>
<p>例如：(以Java为例)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountProxy</span> <span class="keyword">implements</span> <span class="title">Count</span> </span>&#123;</div><div class="line">   	<span class="keyword">private</span> CountImpl countImpl;</div><div class="line">       <span class="function"><span class="keyword">public</span> <span class="title">CountProxy</span><span class="params">(CountImpl countImpl)</span></span>&#123;</div><div class="line">       	countImpl = countImpl;</div><div class="line">       &#125;</div><div class="line">       <span class="meta">@Override</span></div><div class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">queryCount</span><span class="params">()</span></span>&#123;</div><div class="line">       	System.out.println(<span class="string">"事务处理之前"</span>);</div><div class="line">           <span class="comment">// 调用委托类的方法</span></div><div class="line">           countImpl.queryCount();</div><div class="line">           System.out.println(<span class="string">"事务处理之后"</span>);</div><div class="line">       &#125;</div><div class="line">       <span class="meta">@Override</span></div><div class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateCount</span><span class="params">()</span> </span>&#123;</div><div class="line">       	System.out.println(<span class="string">"事务处理之前"</span>);</div><div class="line">           <span class="comment">// 调用委托类的方法</span></div><div class="line">           countImpl.update();</div><div class="line">           System.out.println(<span class="string">"事务处理之后"</span>);</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p><strong>在这个例子中CountProxy是对CountImpl的封装。</strong></p>
<ul>
<li><p>使用者通过CountProxy.queryCount()方法调用CountImpl.queryCount()方法被称为代理，即CountProxy是代理类，CountImpl是被代理类。</p>
</li>
<li><p>在Countproxy.queryCount()中，可以在CountImpl.queryCount()被调用之前和之后执行一些额外的操作，被称为装饰，即CountProxy被称为装饰类，CountImpl被称为被装饰类。</p>
</li>
</ul>
<p><strong><em>so:</em></strong></p>
<ul>
<li>如果强调CountProxy类对CountImpl进行代理的作用，则称为代理模式。</li>
<li>如果强调CountProxy类对CountImpl进行装饰的作用，则称为装饰模式。</li>
</ul>
<p>不论是哪种称呼其本质都是对原有对象的封装，其封装的目的就是增强所管理的对象或者是管理所增强的对象。</p>
<p>从上面的例子可以发现，封装围绕的核心是可调用对象。</p>
<h3 id="Python中的代理-装饰"><a href="#Python中的代理-装饰" class="headerlink" title="Python中的代理/装饰"></a>Python中的代理/装饰</h3><ul>
<li>Python中的可调用对象包括函数和实现<strong>call</strong>方法的类。</li>
<li>Python中的函数也是对象，可以作为高阶函数的参数传入或者返回值返回。</li>
</ul>
<p>因此当被封装的对象是一个函数时，可以使用高阶函数对这个函数进行封装。</p>
<p>例如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">def query_count_proxy(param_fun, name, age)</div><div class="line">	print "事务开始之前"</div><div class="line">    res = param_fun(name, age)</div><div class="line">    print "事务开始之后"</div><div class="line">    return res</div><div class="line">    </div><div class="line">def query_count(name, age)</div><div class="line">	print "something you want"</div><div class="line">    </div><div class="line">query_count_proxy(query_count, name, age)</div></pre></td></tr></table></figure>
<p>但是，这个例子中，query_count函数作为参数传入query_count_proxy函数中，并在query_count_proxy函数中被调用，并作返回值作为其返回值返回，完成了其代理的功能，同时在调用之前和之后加上了一些装饰的代码，完成了装饰的功能，但是query_count_proxy的函数参数和query_count的函数参数不一样了，理想情况应该保持接口一直才对。</p>
<p>为了保持一致，我们可以利用高阶函数可以返回函数的特点来完成：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">def query_count_proxy(param_fun)</div><div class="line">	def inner_function(name,age)</div><div class="line">    	print "事务执行之前"</div><div class="line">        res = param_fun(name, age)</div><div class="line">        print "事务执行之后"</div><div class="line">        return res</div><div class="line">return inner_function</div><div class="line"></div><div class="line">def query_count(name, age)</div><div class="line">	print "somethiing you want"</div><div class="line"></div><div class="line">query_count_proxy(query_count)('daodaoliang',26)</div></pre></td></tr></table></figure>
<p>修改后的例子，query_count_proxy仅负责接收一个被代理的函数query_count作为参数，同时，返回一个函数对象inner_function,真正的封装动作都是在这个闭包函数中。</p>
<p>此时若是调用query_count_proxy(query_count) 就会返回一个函数对象，则给其传递参数就像与执行了inner_function(name,age)</p>
<p>但是目前为止我们的使用方式query_count_proxy(query_count)(‘daodaoliang’,26)并没有做到接口一直，为此我们需要用到python的动态绑定的特性修改为如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">query_count = query_count_proxy(query_count)</div><div class="line">query_count(<span class="string">'daodaoliang'</span>, <span class="number">26</span>)</div></pre></td></tr></table></figure>
<p>执行query_count_proxy(query_count) 返回一个函数对象，并通过动态绑定将其绑定到query_count上面，在此之后执行query_count(‘daodaoliang’, 26) 等同于执行innery_function(‘daodaoliang’, 26)</p>
<p>这么做的结果是代理之后使用方式和未代理时的使用方式一样，都是使用query_count(‘daodaoliang’, 26) 不同的是使用代理后执行的是代理之后的代码。</p>
<p>但是这样子的是不简洁的，这种反复而又琐碎的工作，python给我提供了一个语法糖，就是在其前面加上@query_count.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@query_count_proxy</div><div class="line">   def query_count(name, age)</div><div class="line">   	print "do something you want"</div></pre></td></tr></table></figure>
<p>python 看到这样的语法就会自动执行 query_count = query_count_proxy(query_count)进行名字绑定</p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[深入浅出RPC——深入篇(转载)]]></title>
      <url>/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/2015/08/27/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1-2015-08-27-%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BARPC-%E6%B7%B1%E5%85%A5%E7%AF%87/</url>
      <content type="html"><![CDATA[<hr>
<p>本文转载自<a href="http://mindwind.me/blog/2014/09/22/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BARPC%E2%80%94%E2%80%94%E6%B7%B1%E5%85%A5%E7%AF%87.html" target="_blank" rel="external">这里是原文</a></p>
<p>《深入篇》我们主要围绕 RPC 的功能目标和实现考量去展开，一个基本的 RPC 框架应该提供什么功能，满足什么要求以及如何去实现它？</p>
<a id="more"></a>
<h2 id="RPC-功能目标"><a href="#RPC-功能目标" class="headerlink" title="RPC 功能目标"></a>RPC 功能目标</h2><p><strong>RPC的主要功能呢个目标是让构建分布式计算更加容易，在提供强大的远程调用能力时不损失本地调用的语义简洁性</strong>。为实现该目标，RPC框架提供一种透明的调用机制让使用者不必显式的区分本地调用和远程调用，在前文《浅出篇》给出了一种时间结构，基于stub的是结构来实现，下面我们将细化stub结构的实现。</p>
<h2 id="RPC调用分类"><a href="#RPC调用分类" class="headerlink" title="RPC调用分类"></a>RPC调用分类</h2><p>RPC调用分以下两种：</p>
<ul>
<li><p>同步调用</p>
<blockquote>
<p>客户方等待调用执行完成并返回结果</p>
</blockquote>
</li>
<li><p>异步调用</p>
<blockquote>
<p>客户调用后不用等待执行结果返回，但依然可以通过回调通知等方式获取返回结果，若客户方不关系调用返回结果，则变成单向异步调用，单向调用不用返回结果。</p>
</blockquote>
</li>
</ul>
<h2 id="RPC结构拆解"><a href="#RPC结构拆解" class="headerlink" title="RPC结构拆解"></a>RPC结构拆解</h2><p>《浅出篇》给出了一个比较粗粒度的RPC实现概念结构，这里我们进一步细化它该由哪些组件构成，如下图所示：<br><img src="/res/img/blog/进程间通信/2014-09-22-1.svg" alt="示例"></p>
<p>RPC服务方通过RpcServer导出远程接口方法，而客户方通过RpcClient去引入远程接口方法。客户方向调用本地方法一样去调用远程方法，RPC框架提供接口的代理实现，实际的调用委托给RpcProxy。代理封装调用信用信息将调用转交给RpcInvoker去实际执行，在客户端的RpcInvoker通过连接器RpcConnector去维持服务器端的通道RpcChannel，并使用RpcProtocol执行协议编码(encode)并将编码后的消息通过通道发给服务方。</p>
<p>RPC服务方的RpcAcceptor去接受客户方的调用请求，同样使用RPCProtocol执行协议解码(decode)。解码后的信息传递给RPCProcessor去控制处理调用过程，最后在委托调用给RPCInvoker去实际执行并返回调用结果。</p>
<h2 id="RPC组件职责"><a href="#RPC组件职责" class="headerlink" title="RPC组件职责"></a>RPC组件职责</h2><p>上面我们进一步拆解了RPC实现结构的哥哥组件部分，下面我们详细说明每个部分的职责：</p>
<ul>
<li><ol>
<li>RPCServer<blockquote>
<p>负责导出接口</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcClient<blockquote>
<p>负责导入接口</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcProxy<blockquote>
<p>远程接口代理实现</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcInvoker<blockquote>
<p>客户方实现：负责编码调用信息，并发送调用信息并等待调用返回。<br>服务方实现：负责调用服务端接口的具体实现并返回调用结果。</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcProtocol<blockquote>
<p>负责协议编解码</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcConnector<blockquote>
<p>负责维持客户方和服务方的谅解通道和发送数据到服务方</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcAcceptor<blockquote>
<p>负责接收客户方的请求并返回处理结果</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcProcessor<blockquote>
<p>负责在服务方管理调用过程，包括线程池和调用的超时时间等。</p>
</blockquote>
</li>
</ol>
</li>
<li><ol>
<li>RpcChannel<blockquote>
<p>数据传输通道</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<h2 id="RPC实现分析"><a href="#RPC实现分析" class="headerlink" title="RPC实现分析"></a>RPC实现分析</h2><p>在进一步拆解了组件并划分了职责以后，这里以在Java平台实现该RPC框架概念模型为例，详细分析下实现中需要考虑的因素：</p>
<h3 id="导出远程接口"><a href="#导出远程接口" class="headerlink" title="导出远程接口"></a>导出远程接口</h3><p>导出远程接口的意思指的只有导出的接口可以供远程调用，而未导出的接口则不能用，在java中导出接口的代码片段可能如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DemoServer demo = <span class="keyword">new</span> ...;</div><div class="line">   RpcSerber server = <span class="keyword">new</span> ...;</div><div class="line">   server.export(Demoserver.class, demo, options)</div></pre></td></tr></table></figure>
<p>我们可以导出整个接口也可以更细粒度一点只导出接口中的某些方法，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//只导出Demoserver中签名为hi(string s) 的方法</span></div><div class="line">   server.export(DemoServer.class, demo, <span class="string">"hi"</span>, <span class="keyword">new</span> Class&lt;?&gt;[] &#123;String.class&#125;,options)</div></pre></td></tr></table></figure>
<p>java 中还有一种比较特殊的调用就是多态，也就是一个接口可能有多个实现，那么远程调用时到底调用哪个？ 这个本地调用的语义是通过 jvm 提供的引用多态性隐式实现的，那么对于 RPC 来说跨进程的调用就没法隐式实现了。 如果前面 DemoService 接口有 2 个实现，那么在导出接口时就需要特殊标记不同的实现，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">DemoService demo   = <span class="keyword">new</span> ...;</div><div class="line">DemoService demo2  = <span class="keyword">new</span> ...;</div><div class="line">RpcServer   server = <span class="keyword">new</span> ...;</div><div class="line">server.export(DemoService.class, demo, options);</div><div class="line">server.export(<span class="string">"demo2"</span>, DemoService.class, demo2, options);</div></pre></td></tr></table></figure>
<p>上面 demo2 是另一个实现，我们标记为 demo2 来导出， 那么远程调用时也需要传递该标记才能调用到正确的实现类，这样就解决了多态调用的语义。</p>
<h3 id="导入远程接口与客户端代理"><a href="#导入远程接口与客户端代理" class="headerlink" title="导入远程接口与客户端代理"></a>导入远程接口与客户端代理</h3><p>导入相对于导出远程接口，客户端代码为了能够发起调用必须要获得远程接口的方法或过程定义。 目前，大部分跨语言平台 RPC 框架采用根据 IDL 定义通过 code generator 去生成 stub 代码， 这种方式下实际导入的过程就是通过代码生成器在编译期完成的。 我所使用过的一些跨语言平台 RPC 框架如 CORBAR、WebService、ICE、Thrift 均是此类方式。</p>
<p>代码生成的方式对跨语言平台 RPC 框架而言是必然的选择，而对于同一语言平台的 RPC 则可以通过共享接口定义来实现。 在 java 中导入接口的代码片段可能如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">RpcClient client = <span class="keyword">new</span> ...;</div><div class="line">   DemoServer 	demo = client.refer(DemoServer.class);</div><div class="line">   demo.hi(<span class="string">"how are you"</span>);</div></pre></td></tr></table></figure>
<p>在 java 中 import 是关键字，所以代码片段中我们用 refer 来表达导入接口的意思。 这里的导入方式本质也是一种代码生成技术，只不过是在运行时生成，比静态编译期的代码生成看起来更简洁些。 java 里至少提供了两种技术来提供动态代码生成，一种是 jdk 动态代理，另外一种是字节码生成。 动态代理相比字节码生成使用起来更方便，但动态代理方式在性能上是要逊色于直接的字节码生成的，而字节码生成在代码可读性上要差很多。 两者权衡起来，个人认为牺牲一些性能来获得代码可读性和可维护性显得更重要。</p>
<h3 id="协议编解码"><a href="#协议编解码" class="headerlink" title="协议编解码"></a>协议编解码</h3><p>客户端代理在发起调用前需要对调用信息进行编码，这就要考虑需要编码些什么信息并以什么格式传输到服务端才能让服务端完成调用。 出于效率考虑，编码的信息越少越好（传输数据少），编码的规则越简单越好（执行效率高）。 我们先看下需要编码些什么信息：</p>
<h4 id="调用编码"><a href="#调用编码" class="headerlink" title="调用编码"></a>调用编码</h4><ol>
<li>接口方法</li>
</ol>
<blockquote>
<p>包括接口名、方法名</p>
</blockquote>
<ol>
<li>方法参数</li>
</ol>
<blockquote>
<p>包括参数类型、参数值</p>
</blockquote>
<ol>
<li>调用属性</li>
</ol>
<blockquote>
<p>包括调用属性信息，例如调用附件隐式参数、调用超时时间等</p>
</blockquote>
<h4 id="返回编码"><a href="#返回编码" class="headerlink" title="返回编码"></a>返回编码</h4><ol>
<li>返回结果</li>
</ol>
<blockquote>
<p>接口方法中定义的返回值</p>
</blockquote>
<ol>
<li>返回码</li>
</ol>
<blockquote>
<p>异常返回码</p>
</blockquote>
<ol>
<li>返回异常信息</li>
</ol>
<blockquote>
<p>调用异常信息</p>
</blockquote>
<p>除了以上这些必须的调用信息，我们可能还需要一些元信息以方便程序编解码以及未来可能的扩展。 这样我们的编码消息里面就分成了两部分，一部分是元信息、另一部分是调用的必要信息。 如果设计一种 RPC 协议消息的话，元信息我们把它放在协议消息头中，而必要信息放在协议消息体中。 下面给出一种概念上的 RPC 协议消息设计格式：</p>
<p><strong>消息头</strong></p>
<p><img src="/res/img/blog/进程间通信/2014-09-22-2.png" alt="头信息"></p>
<ul>
<li>magic：协议魔数，为解码设计</li>
<li>header size: 协议头长度，为扩展设计</li>
<li>version: 协议版本，为扩展时使用</li>
<li>st: 消息体序列化类型</li>
<li>hb: 心跳信息标记，为长连接传输层心跳设计</li>
<li>ow: 单向消息标记</li>
<li>rp: 相应消息标记。不置位默认是请求消息</li>
<li>status code： 响应消息状态码</li>
<li>reserved: 为字节对齐保留</li>
<li>message id：消息id</li>
<li>body size:消息体长度</li>
</ul>
<p><strong>消息体</strong></p>
<p>采用序列化编码，常见有以下格式：</p>
<ul>
<li>XML:如webservice(SOAP)</li>
<li>json: 如json-RPC</li>
<li>binary: 如thrift,hession,kryo等</li>
</ul>
<p>格式确定后编解码就简单了，由于头长度一定所以我们比较关心的就是消息体的序列化方式。 序列化我们关心三个方面：</p>
<ul>
<li>序列化和反序列化的效率，越快越好。</li>
<li>序列化后的字节长度，越小越好。</li>
<li>序列化和反序列化的兼容性，接口参数对象若增加了字段，是否兼容。</li>
</ul>
<p>上面这三点有时是鱼与熊掌不可兼得，这里面涉及到具体的序列化库实现细节，就不在本文进一步展开分析了。</p>
<h4 id="传输服务"><a href="#传输服务" class="headerlink" title="传输服务"></a>传输服务</h4><p>协议编码之后，自然就是需要将编码后的 RPC 请求消息传输到服务方，服务方执行后返回结果消息或确认消息给客户方。 RPC 的应用场景实质是一种可靠的请求应答消息流，和 HTTP 类似。 因此选择长连接方式的 TCP 协议会更高效，与 HTTP 不同的是在协议层面我们定义了每个消息的唯一 id，因此可以更容易的复用连接。</p>
<p>既然使用长连接，那么第一个问题是到底 client 和 server 之间需要多少根连接？ 实际上单连接和多连接在使用上没有区别，对于数据传输量较小的应用类型，单连接基本足够。 单连接和多连接最大的区别在于，每根连接都有自己私有的发送和接收缓冲区， 因此大数据量传输时分散在不同的连接缓冲区会得到更好的吞吐效率。 所以，如果你的数据传输量不足以让单连接的缓冲区一直处于饱和状态的话，那么使用多连接并不会产生任何明显的提升， 反而会增加连接管理的开销。</p>
<p>连接是由 client 端发起建立并维持。 如果 client 和 server 之间是直连的，那么连接一般不会中断（当然物理链路故障除外）。 如果 client 和 server 连接经过一些负载中转设备，有可能连接一段时间不活跃时会被这些中间设备中断。 为了保持连接有必要定时为每个连接发送心跳数据以维持连接不中断。 心跳消息是 RPC 框架库使用的内部消息，在前文协议头结构中也有一个专门的心跳位， 就是用来标记心跳消息的，它对业务应用透明。</p>
<h4 id="执行调用"><a href="#执行调用" class="headerlink" title="执行调用"></a>执行调用</h4><p>client stub 所做的事情仅仅是编码消息并传输给服务方，而真正调用过程发生在服务方。 server stub 从前文的结构拆解中我们细分了 RpcProcessor 和 RpcInvoker 两个组件， 一个负责控制调用过程，一个负责真正调用。 这里我们还是以 java 中实现这两个组件为例来分析下它们到底需要做什么？</p>
<p>java 中实现代码的动态接口调用目前一般通过反射调用。 除了原生的 jdk 自带的反射，一些第三方库也提供了性能更优的反射调用， 因此 RpcInvoker 就是封装了反射调用的实现细节。</p>
<p>调用过程的控制需要考虑哪些因素，RpcProcessor 需要提供什么样地调用控制服务呢？ 下面提出几点以启发思考：</p>
<ul>
<li>效率提升</li>
</ul>
<blockquote>
<p>每个请求应该尽快被执行，因此我们不能每请求来再创建线程去执行，需要提供线程池服务.</p>
</blockquote>
<ul>
<li>资源隔离</li>
</ul>
<blockquote>
<p>当我们导出多个远程接口时，如何避免单一接口调用占据所有线程资源，而引发其他接口执行阻塞。</p>
</blockquote>
<ul>
<li>超时控制</li>
</ul>
<blockquote>
<p>当某个接口执行缓慢，而 client 端已经超时放弃等待后，server 端的线程继续执行此时显得毫无意义。</p>
</blockquote>
<h3 id="RPC-异常处理"><a href="#RPC-异常处理" class="headerlink" title="RPC 异常处理"></a>RPC 异常处理</h3><p>无论 RPC 怎样努力把远程调用伪装的像本地调用，但它们依然有很大的不同点，而且有一些异常情况是在本地调用时绝对不会碰到的。 在说异常处理之前，我们先比较下本地调用和 RPC 调用的一些差异：</p>
<ul>
<li>本地调用一定会执行，而远程调用则不一定，调用消息可能因为网络原因并未发送到服务方。</li>
<li>本地调用只会抛出接口声明的异常，而远程调用还会跑出 RPC 框架运行时的其他异常。</li>
<li>本地调用和远程调用的性能可能差距很大，这取决于 RPC 固有消耗所占的比重。</li>
</ul>
<p>正是这些区别决定了使用 RPC 时需要更多考量。 当调用远程接口抛出异常时，异常可能是一个业务异常， 也可能是 RPC 框架抛出的运行时异常（如：网络中断等）。 业务异常表明服务方已经执行了调用，可能因为某些原因导致未能正常执行， 而 RPC 运行时异常则有可能服务方根本没有执行，对调用方而言的异常处理策略自然需要区分。</p>
<p>由于 RPC 固有的消耗相对本地调用高出几个数量级，本地调用的固有消耗是纳秒级，而 RPC 的固有消耗是在毫秒级。 那么对于过于轻量的计算任务就并不合适导出远程接口由独立的进程提供服务， 只有花在计算任务上时间远远高于 RPC 的固有消耗才值得导出为远程接口提供服务。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>至此我们提出了一个 RPC 实现的概念框架，并详细分析了需要考虑的一些实现细节。 无论 RPC 的概念是如何优雅，但是“草丛中依然有几条蛇隐藏着”，只有深刻理解了 RPC 的本质，才能更好地应用。</p>
]]></content>
      
        <categories>
            
            <category> 进程间通信 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[深入浅出RPC——浅出篇(转载)]]></title>
      <url>/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/2015/08/27/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1-2015-08-27-%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BARPC-%E6%B5%85%E5%87%BA%E7%AF%87/</url>
      <content type="html"><![CDATA[<hr>
<p>本文转载自<a href="http://mindwind.me/blog/2014/09/15/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BARPC%E2%80%94%E2%80%94%E6%B5%85%E5%87%BA%E7%AF%87.html" target="_blank" rel="external">这里是原文</a></p>
<p>  近几年的项目中，服务化和微服务化渐渐成为中大型分布式系统架构的主流方式，而 RPC 在其中扮演着关键的作用。 在平时的日常开发中我们都在隐式或显式的使用 RPC，一些刚入行的程序员会感觉 RPC 比较神秘，而一些有多年使用 RPC 经验的程序员虽然使用经验丰富，但有些对其原理也不甚了了。 缺乏对原理层面的理解，往往也会造成开发中的一些误用。</p>
<a id="more"></a>
<p>本文分上下两篇《浅出篇》和《深入篇》，其目标就是想尝试深入浅出的分析下 RPC 本质，我总是这么认为理解了本质才能更好的应用。</p>
<h2 id="RPC是什么"><a href="#RPC是什么" class="headerlink" title="RPC是什么"></a>RPC是什么</h2><p>RPC全称是Remote Procedure Call是一种进程间通信方式。它允许程序调用另外一个地址空间（通常是共享网络的另一台机器）的过程或函数，而不用程序员显式编码这个远程调用的细节。即程序员无论调用本地的还是远程的，本质上编写的调用代码基本相同。</p>
<h2 id="RPC起源"><a href="#RPC起源" class="headerlink" title="RPC起源"></a>RPC起源</h2><p>RPC 这个概念术语在上世纪 80 年代由 <a href="https://en.wikipedia.org/wiki/Bruce_Jay_Nelson" target="_blank" rel="external">Bruce Jay Nelson</a> 提出。 这里我们追溯下当初开发 RPC 的原动机是什么？ 在 Nelson 的论文 <a href="http://birrell.org/andrew/papers/ImplementingRPC.pdf" target="_blank" rel="external">Implementing Remote Procedure Calls</a> 中他提到了几点：</p>
<blockquote>
<p>简单：RPC 概念的语义十分清晰和简单，这样建立分布式计算就更容易。<br>高效：过程调用看起来十分简单而且高效。<br>通用：在单机计算中过程往往是不同算法部分间最重要的通信机制</p>
</blockquote>
<p>通俗一点说，就是一般程序员对于本地的过程调用很熟悉，那么我们把 RPC 作成和本地调用完全类似，那么就更容易被接受，使用起来毫无障碍。 Nelson 的论文发表于 30 年前，其观点今天看来确实高瞻远瞩，今天我们使用的 RPC 框架基本就是按这个目标来实现的。</p>
<h2 id="RPC-结构"><a href="#RPC-结构" class="headerlink" title="RPC 结构"></a>RPC 结构</h2><blockquote>
<p>User<br>User-stub<br>RPCRuntime<br>Server-stub<br>Serve</p>
</blockquote>
<p><img src="/res/img/blog/进程间通信/2014-09-15-1.svg" alt="示例"></p>
<p>这里 user 就是 client 端，当 user 想发起一个远程调用时，它实际是通过本地调用 user-stub。 user-stub 负责将调用的接口、方法和参数通过约定的协议规范进行编码并通过本地的 RPCRuntime 实例传输到远端的实例。 远端 RPCRuntime 实例收到请求后交给 server-stub 进行解码后发起本地端调用，调用结果再返回给 user 端。</p>
<h2 id="RPC-实现"><a href="#RPC-实现" class="headerlink" title="RPC 实现"></a>RPC 实现</h2><p>Nelson 论文中给出的这个实现结构也成为后来大家参考的标准范本。 大约 10 年前，我最早接触分布式计算时使用的 CORBAR 实现结构基本与此类似。 CORBAR 为了解决异构平台的 RPC，使用了 IDL（Interface Definition Language）来定义远程接口，并将其映射到特定的平台语言中。 后来大部分的跨语言平台 RPC 基本都采用了此类方式，比如我们熟悉的 Web Service（SOAP），近年开源的 Thrift 等。 他们大部分都通过 IDL 定义，并提供工具来映射生成不同语言平台的 user-stub 和 server-stub，并通过框架库来提供 RPCRuntime 的支持。 不过貌似每个不同的 RPC 框架都定义了各自不同的 IDL 格式，导致程序员的学习成本进一步上升（苦逼啊），Web Service 尝试建立业界标准，无赖标准规范复杂而效率偏低，否则 Thrift 等更高效的 RPC 框架就没必要出现了。</p>
<p>IDL 是为了跨平台语言实现 RPC 不得已的选择，要解决更广泛的问题自然导致了更复杂的方案。 而对于同一平台内的 RPC 而言显然没必要搞个中间语言出来，例如 java 原生的 RMI，这样对于 java 程序员而言显得更直接简单，降低使用的学习成本。 目前市面上提供的 RPC 框架已经可算是五花八门，百家争鸣了。 需要根据实际使用场景谨慎选型，需要考虑的选型因素我觉得至少包括下面几点：</p>
<blockquote>
<ul>
<li>性能指标</li>
<li>是否需要跨语言平台</li>
<li>内网开放还是公网开放</li>
<li>开源 RPC 框架本身的质量、社区活跃度</li>
</ul>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>《浅出篇》大概就到这里结束了，《深入篇》会具体深入讲解一个 RPC 框架需要实现哪里基本功能，达到什么目标，并以在 java 平台上去具体实现一个 RPC 框架为例，分析其需要考虑的实现因素。</p>
]]></content>
      
        <categories>
            
            <category> 进程间通信 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[pernoca toolkit 学习]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/08/26/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-08-26-Pernoca-ToolKit%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<h2 id="工具安装"><a href="#工具安装" class="headerlink" title="工具安装"></a>工具安装</h2><blockquote>
<ul>
<li><a href="http://www.percona.com/software/percona-toolkit/" target="_blank" rel="external">官网链接</a></li>
<li><a href="http://pan.baidu.com/s/1bnhTLCj" target="_blank" rel="external">手册链接</a></li>
</ul>
</blockquote>
<a id="more"></a>
<h4 id="整包下载链接"><a href="#整包下载链接" class="headerlink" title="整包下载链接:"></a>整包下载链接:</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wget percona.com/get/percona-toolkit.tar.gz</div><div class="line">wget percona.com/get/percona-toolkit.rpm</div><div class="line">wget percona.com/get/percona-toolkit.deb</div></pre></td></tr></table></figure>
<h4 id="单个工具下载链接"><a href="#单个工具下载链接" class="headerlink" title="单个工具下载链接:"></a>单个工具下载链接:</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget percona.com/get/TOOL</div></pre></td></tr></table></figure>
<p>TOOL 要改为下面的的工具的名字</p>
<p><img src="/res/img/blog/数据库学习/2015-08-26.png" alt="工具列表"></p>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python邮件发送]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/08/05/Python%E5%AD%A6%E4%B9%A0-2015-08-05-python%E9%82%AE%E4%BB%B6%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="python邮件发送"><a href="#python邮件发送" class="headerlink" title="python邮件发送"></a><strong>python邮件发送</strong></h2><h3 id="1-纯文本邮件"><a href="#1-纯文本邮件" class="headerlink" title="1. 纯文本邮件"></a><strong>1. 纯文本邮件</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding: utf-8</span></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</div><div class="line"></div><div class="line">sender = <span class="string">'××××××××××××××'</span></div><div class="line">receiver = <span class="string">'××××××××××××××'</span></div><div class="line">subject = <span class="string">'python email test'</span></div><div class="line">smtpserver = <span class="string">'smtp.yeah.net'</span></div><div class="line">username = <span class="string">'××××××××××××××'</span></div><div class="line">password = <span class="string">'××××××××××××××'</span></div><div class="line"></div><div class="line">msg = MIMEText(<span class="string">'你好'</span>,<span class="string">'plain'</span>,<span class="string">'utf-8'</span>)<span class="comment">#中文需参数‘utf-8’，单字节字符不需要</span></div><div class="line">msg[<span class="string">'Subject'</span>] = Header(subject, <span class="string">'utf-8'</span>)</div><div class="line"></div><div class="line">smtp = smtplib.SMTP()</div><div class="line">smtp.connect(smtpserver)</div><div class="line">smtp.login(username, password)</div><div class="line">smtp.sendmail(sender, receiver, msg.as_string())</div><div class="line">smtp.quit()</div></pre></td></tr></table></figure>
<h2 id="2-HTML文本邮件"><a href="#2-HTML文本邮件" class="headerlink" title="2. HTML文本邮件"></a><strong>2. HTML文本邮件</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python3</span></div><div class="line"><span class="comment">#coding: utf-8</span></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"></div><div class="line">sender = <span class="string">'××××××××××××××'</span></div><div class="line">receiver = <span class="string">'××××××××××××××'</span></div><div class="line">subject = <span class="string">'python email test'</span></div><div class="line">smtpserver = <span class="string">'smtp.yeah.net'</span></div><div class="line">username = <span class="string">'××××××××××××××'</span></div><div class="line">password = <span class="string">'××××××××××××××'</span></div><div class="line"></div><div class="line">msg = MIMEText(<span class="string">'&lt;html&gt;&lt;h1&gt;你好&lt;/h1&gt;&lt;/html&gt;'</span>,<span class="string">'html'</span>,<span class="string">'utf-8'</span>)</div><div class="line"></div><div class="line">msg[<span class="string">'Subject'</span>] = subject</div><div class="line"></div><div class="line">smtp = smtplib.SMTP(smtpserver)</div><div class="line">smtp.connect()</div><div class="line">smtp.login(username, password)</div><div class="line">smtp.sendmail(sender, receiver, msg.as_string())</div><div class="line">smtp.quit()</div></pre></td></tr></table></figure>
<h3 id="3-带图片的HTML邮件"><a href="#3-带图片的HTML邮件" class="headerlink" title="3. 带图片的HTML邮件"></a><strong>3. 带图片的HTML邮件</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># coding: UTF-8</span></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</div><div class="line"><span class="keyword">from</span> email.mime.image <span class="keyword">import</span> MIMEImage</div><div class="line"></div><div class="line">sender = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">receiver = <span class="string">'88341189@qq.com'</span></div><div class="line">subject = <span class="string">'python email test'</span></div><div class="line">smtpserver = <span class="string">'smtp.yeah.net'</span></div><div class="line">username = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">password = <span class="string">'××××××××××××××'</span></div><div class="line"></div><div class="line">msgRoot = MIMEMultipart(<span class="string">'related'</span>)</div><div class="line">msgRoot[<span class="string">'Subject'</span>] = <span class="string">'test message'</span></div><div class="line">msgRoot[<span class="string">'From'</span>] = sender</div><div class="line">msgRoot[<span class="string">'To'</span>] = receiver</div><div class="line"></div><div class="line"></div><div class="line">msgText = MIMEText(<span class="string">'&lt;b&gt;Some &lt;i&gt;HTML&lt;/i&gt; text&lt;/b&gt; and an image.&lt;br&gt;&lt;img src="cid:image1"&gt;&lt;br&gt;good!'</span>, <span class="string">'html'</span>, <span class="string">'utf-8'</span>)</div><div class="line">msgRoot.attach(msgText)</div><div class="line"></div><div class="line">fp = open(<span class="string">'d:\\1.png'</span>, <span class="string">'rb'</span>)</div><div class="line">msgImage = MIMEImage(fp.read())</div><div class="line">fp.close()</div><div class="line"></div><div class="line">msgImage.add_header(<span class="string">'Content-ID'</span>, <span class="string">'&lt;image1&gt;'</span>)</div><div class="line">msgRoot.attach(msgImage)</div><div class="line"></div><div class="line">smtp = smtplib.SMTP()</div><div class="line">smtp.connect(smtpserver)</div><div class="line">smtp.docmd(<span class="string">'ehlo'</span>, <span class="string">'daodaoliang@yeah.net'</span>)</div><div class="line">smtp.login(username, password)</div><div class="line">smtp.sendmail(sender, receiver, msgRoot.as_string())</div><div class="line">smtp.quit()</div></pre></td></tr></table></figure>
<h3 id="4-带附件的邮件"><a href="#4-带附件的邮件" class="headerlink" title="4. 带附件的邮件"></a><strong>4. 带附件的邮件</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># coding: UTF-8</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</div><div class="line"></div><div class="line">sender = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">receiver = <span class="string">'88341189@qq.com'</span></div><div class="line">subject = <span class="string">'python email test'</span></div><div class="line">smtpserver = <span class="string">'smtp.yeah.net'</span></div><div class="line">username = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">password = <span class="string">'××××××××××××××'</span></div><div class="line"></div><div class="line">msgRoot = MIMEMultipart(<span class="string">'related'</span>)</div><div class="line">msgRoot[<span class="string">'Subject'</span>] = <span class="string">'test message'</span></div><div class="line">msgRoot[<span class="string">'From'</span>] = sender</div><div class="line">msgRoot[<span class="string">'To'</span>] = receiver</div><div class="line"></div><div class="line"><span class="comment"># 构造附件</span></div><div class="line">att = MIMEText(open(<span class="string">'d:\\1.png'</span>, <span class="string">'rb'</span>).read(), <span class="string">'base64'</span>, <span class="string">'utf-8'</span>)</div><div class="line">att[<span class="string">"Content-Type"</span>] = <span class="string">'application/octet-stream'</span></div><div class="line">att[<span class="string">"Content-Disposition"</span>] = <span class="string">'attachment; filename="1.png"'</span></div><div class="line">msgRoot.attach(att)</div><div class="line"></div><div class="line">smtp = smtplib.SMTP()</div><div class="line">smtp.connect(smtpserver)</div><div class="line">smtp.docmd(<span class="string">'ehlo'</span>, <span class="string">'daodaoliang@yeah.net'</span>)</div><div class="line">smtp.login(username, password)</div><div class="line">smtp.sendmail(sender, receiver, msgRoot.as_string())</div><div class="line">smtp.quit()</div></pre></td></tr></table></figure>
<h3 id="5-邮件群发"><a href="#5-邮件群发" class="headerlink" title="5. 邮件群发"></a><strong>5. 邮件群发</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># coding: UTF-8</span></div><div class="line">__author__ = <span class="string">'daodaoliang'</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</div><div class="line"><span class="keyword">from</span> email.mime.image <span class="keyword">import</span> MIMEImage</div><div class="line"></div><div class="line">sender = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">receiver = [<span class="string">'88341189@qq.com'</span>, <span class="string">'553888032@qq.com'</span>, <span class="string">'836343656@qq.com'</span>, <span class="string">'843834154@qq.com'</span>]</div><div class="line">subject = <span class="string">'python email test'</span></div><div class="line">smtpserver = <span class="string">'smtp.yeah.net'</span></div><div class="line">username = <span class="string">'daodaoliang@yeah.net'</span></div><div class="line">password = <span class="string">'×××××××××××××××××'</span></div><div class="line"></div><div class="line">msgRoot = MIMEMultipart(<span class="string">'related'</span>)</div><div class="line">msgRoot[<span class="string">'Subject'</span>] = <span class="string">'邮件群发测试'</span></div><div class="line">msgRoot[<span class="string">'From'</span>] = sender</div><div class="line">msgRoot[<span class="string">'To'</span>] = <span class="string">','</span>.join(receiver)</div><div class="line"></div><div class="line"></div><div class="line">msgText = MIMEText(<span class="string">'&lt;b&gt;Some &lt;i&gt;HTML&lt;/i&gt; text&lt;/b&gt; and an image.&lt;br&gt;&lt;img src="cid:image1"&gt;&lt;br&gt;good!'</span>, <span class="string">'html'</span>, <span class="string">'utf-8'</span>)</div><div class="line">msgRoot.attach(msgText)</div><div class="line"></div><div class="line">fp = open(<span class="string">'d:\\1.png'</span>, <span class="string">'rb'</span>)</div><div class="line">msgImage = MIMEImage(fp.read())</div><div class="line">fp.close()</div><div class="line"></div><div class="line">msgImage.add_header(<span class="string">'Content-ID'</span>, <span class="string">'&lt;image1&gt;'</span>)</div><div class="line">msgRoot.attach(msgImage)</div><div class="line"></div><div class="line">smtp = smtplib.SMTP()</div><div class="line">smtp.connect(smtpserver)</div><div class="line">smtp.docmd(<span class="string">'ehlo'</span>, <span class="string">'daodaoliang@yeah.net'</span>)</div><div class="line">smtp.login(username, password)</div><div class="line">smtp.sendmail(sender, receiver, msgRoot.as_string())</div><div class="line">smtp.quit()</div></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5配置nginx+phpfpm]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/08/03/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-05-12-CentOS6-5%E9%85%8D%E7%BD%AEnginx-phpfpm/</url>
      <content type="html"><![CDATA[<p>&gt;<br>nginx本身不能处理PHP，它只是个web服务器，当接收到请求后，如果是php请求，则发给php解释器处理，并把结果返回给客户端</p>
<a id="more"></a>
<p>[TOC]</p>
<p>nginx一般是把请求发fastcgi管理进程处理，fascgi管理进程选择cgi子进程处理结果并返回被nginx</p>
<h3 id="1-编译安装php-fpm"><a href="#1-编译安装php-fpm" class="headerlink" title="1. 编译安装php-fpm"></a>1. 编译安装php-fpm</h3><h4 id="1-1-什么是PHP-FPM"><a href="#1-1-什么是PHP-FPM" class="headerlink" title="1.1 什么是PHP-FPM"></a>1.1 什么是PHP-FPM</h4><ul>
<li><p>PHP-FPM是一个PHP FastCGI管理器，是只用于PHP的,<strong>下载地址</strong>：<a href="http://php-fpm.org/download" target="_blank" rel="external">我是下载地址</a></p>
</li>
<li><p>PHP-FPM其实是PHP源代码的一个补丁，旨在将FastCGI进程管理整合进PHP包中。必须将它patch到你的PHP源代码中，在编译安装PHP后才可以使用。</p>
</li>
<li><p>新版PHP已经集成php-fpm了，不再是第三方的包了，推荐使用。PHP-FPM提供了更好的PHP进程管理方式，可以有效控制内存和进程、可以平滑重载PHP配置，比spawn-fcgi具有更多优点，所以被PHP官方收录了。在./configure的时候带 –enable-fpm参数即可开启PHP-FPM。</p>
</li>
</ul>
<p><strong>PS:</strong> PHP详细的安装配置选项地址:<a href="http://www.php.net/manual/en/configure.about.php" target="_blank" rel="external">我是地址</a></p>
<h4 id="1-2-安装先环境准备"><a href="#1-2-安装先环境准备" class="headerlink" title="1.2 安装先环境准备"></a>1.2 安装先环境准备</h4><p><strong>在centos下执行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">yum -y install gcc automake autoconf libtool make</div><div class="line"></div><div class="line">yum -y install gcc gcc-c++ glibc</div><div class="line"></div><div class="line">yum -y install libmcrypt-devel mhash-devel libxslt-devel \</div><div class="line">libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel \</div><div class="line">zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel \</div><div class="line">ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel \</div><div class="line">krb5 krb5-devel libidn libidn-devel openssl openssl-devel</div></pre></td></tr></table></figure>
<h4 id="1-3-PHP-FPM安装"><a href="#1-3-PHP-FPM安装" class="headerlink" title="1.3 PHP-FPM安装"></a>1.3 PHP-FPM安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">wget http://cn2.php.net/distributions/php-5.4.7.tar.gz</div><div class="line"></div><div class="line">tar zvxf php-5.4.7.tar.gz</div><div class="line"></div><div class="line">cd php-5.4.7</div><div class="line"></div><div class="line">./configure --prefix=/usr/local/php  --enable-fpm --with-mcrypt \</div><div class="line">--enable-mbstring --disable-pdo --with-curl --disable-debug  --disable-rpath \</div><div class="line">--enable-inline-optimization --with-bz2  --with-zlib --enable-sockets \</div><div class="line">--enable-sysvsem --enable-sysvshm --enable-pcntl --enable-mbregex \</div><div class="line">--with-mhash --enable-zip --with-pcre-regex --with-mysql --with-mysqli \</div><div class="line">--with-gd --with-jpeg-dir</div><div class="line"></div><div class="line">make all install</div></pre></td></tr></table></figure>
<h4 id="1-4-修改PHP-FPM配置文件"><a href="#1-4-修改PHP-FPM配置文件" class="headerlink" title="1.4 修改PHP-FPM配置文件"></a>1.4 修改PHP-FPM配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">updatedb</div><div class="line"></div><div class="line">located php-fpm</div></pre></td></tr></table></figure>
<p>进入对应的目录后进行配置文件的修改</p>
<h3 id="2-安装配置nginx"><a href="#2-安装配置nginx" class="headerlink" title="2. 安装配置nginx"></a>2. 安装配置nginx</h3><h4 id="2-1-安装nginx"><a href="#2-1-安装nginx" class="headerlink" title="2.1 安装nginx"></a>2.1 安装nginx</h4><p>安装过程请参考我的这篇博客：<a href="http://daodaoliang.github.io/blog/2015/05/12/CentOS6.5%E9%80%9A%E8%BF%87%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85nginx.html" target="_blank" rel="external">博客地址</a></p>
<h4 id="2-2-配置nginx"><a href="#2-2-配置nginx" class="headerlink" title="2.2 配置nginx"></a>2.2 配置nginx</h4><p>在nginx.conf中修改server段的配置文件，增加如下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">location ~ \.php$ &#123;</div><div class="line">root html;</div><div class="line">fastcgi_pass 127.0.0.1:9000;</div><div class="line">fastcgi_index index.php;</div><div class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="line">include fastcgi_params;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>PS：</strong> 其中server段增加的配置中,注意第二行和倒数第二行,否则会出现No input file specified.错误</p>
<h3 id="3-测试"><a href="#3-测试" class="headerlink" title="3.测试"></a>3.测试</h3><p>在根目录下创建index.php文件,启动php-fpm和nginx后在浏览器输入对应的监听地址即可</p>
<h3 id="4-常见错误"><a href="#4-常见错误" class="headerlink" title="4.常见错误"></a>4.常见错误</h3><h4 id="4-1-php-configure时出错"><a href="#4-1-php-configure时出错" class="headerlink" title="4.1 php configure时出错"></a>4.1 php configure时出错</h4><figure class="highlight plain"><figcaption><span>error: XML configuration could not be found```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>apt-get install libxml2 libxml2-dev  (ubuntu下)<br>yum -y install libxml2 libxml2-devel（centos下)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 4.2 Please reinstall the BZip2 distribution</div></pre></td></tr></table></figure></p>
<p>wget <a href="http://www.bzip.org/1.0.5/bzip2-1.0.5.tar.gz" target="_blank" rel="external">http://www.bzip.org/1.0.5/bzip2-1.0.5.tar.gz</a><br>tar -zxvf bzip2-1.0.5.tar.gz<br>cd bzip2-1.0.5<br>make<br>make install<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 4.3 php的配置文件中有一行--with-mysql=/usr</div><div class="line"></div><div class="line">安装的时候提示：</div><div class="line">configure: error: Cannot find MySQL header files under yes.</div><div class="line">Note that the MySQL client library is not bundled anymore.</div><div class="line"></div><div class="line">这是由于安装mysql时没有安装mysql头文件，或者是路径指定不正确,php找不到mysql的头文件引起的错误提示。</div><div class="line"></div><div class="line">* 查看你的系统有没有安装mysql header</div><div class="line"></div><div class="line">```find / -name mysql.h</div></pre></td></tr></table></figure></p>
<p>如果有。请指定–with-mysql=/跟你的正常路径。</p>
<ul>
<li><p>redhat系列安装</p>
<figure class="highlight plain"><figcaption><span>-ivh MySQL-devel-4.1.12-1.i386.rpm```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">* ubuntu安装</div><div class="line">```apt-get install libmysqlclient15-dev</div></pre></td></tr></table></figure>
</li>
<li><p>最后一步php的配置选项添加–with-mysql=/usr</p>
</li>
</ul>
<h4 id="4-4-No-input-file-specified"><a href="#4-4-No-input-file-specified" class="headerlink" title="4.4 No input file specified."></a>4.4 No input file specified.</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">location ~ \.php$ &#123;</div><div class="line">root html;</div><div class="line">fastcgi_pass 127.0.0.1:9000;</div><div class="line">fastcgi_index index.php;</div><div class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="line">include fastcgi_params;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="4-5-mcrypt-h-not-found-Please-reinstall-libmcrypt"><a href="#4-5-mcrypt-h-not-found-Please-reinstall-libmcrypt" class="headerlink" title="4.5 mcrypt.h not found. Please reinstall libmcrypt"></a>4.5 mcrypt.h not found. Please reinstall libmcrypt</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install libmcrypt-devel</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">wget http://softlayer.dl.sourceforge.net/sourceforge/mcrypt/libmcrypt-2.5.8.tar.gz</div><div class="line">tar -zxvf libmcrypt-2.5.8.tar.gz</div><div class="line">cd /usr/local/src/libmcrypt-2.5.8</div><div class="line">./configure --prefix=/usr/local</div><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Qt在Windows上的调试器安装与配置]]></title>
      <url>/Qt%E5%AD%A6%E4%B9%A0/2015/07/30/Qt%E5%AD%A6%E4%B9%A0-2015-07-30-Qt%E5%9C%A8Windows%E4%B8%8A%E7%9A%84%E8%B0%83%E8%AF%95%E5%99%A8%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<hr>
<p>  如果安装Qt时使用的是Visual Studio的预编译版，那么很有可能就会缺少调试器（Debugger），而使用MSVC的Qt对应的原生调试器是CDB（对应MinGW的Qt使用GDB调试器）。本文介绍如何下载安装CDB，并在Qt Creator配置之。</p>
<p>示例环境：Windows 7 64bit + Visual Studio 2013 + Qt 5.5.0</p>
<a id="more"></a>
<h2 id="选择合适的Windows-Driver-Kit（WDK）"><a href="#选择合适的Windows-Driver-Kit（WDK）" class="headerlink" title="选择合适的Windows Driver Kit（WDK）"></a>选择合适的Windows Driver Kit（WDK）</h2><p>CDB已经不再作为独立软件包，而是WDK中的一部分。虽然WDK是对应不同的Windows版本的，但是因为我们只需要CDB，而不开发驱动程序，基本上不用理会操作系统的要求，只需关注对应的Visual Studio版本即可。</p>
<blockquote>
<ul>
<li>WDK 7.1对应的是VS2010</li>
<li>WDK 8.0对应VS2012</li>
<li>WDK 8.1对应VS2013</li>
</ul>
</blockquote>
<p>WDK 8.0、WDK 8.1支持Windows 7、Windows Server 2008 R2、Windows8、Windows 8.1、Windows Server 2012，本文选用的就是WDK 8.1</p>
<p>从微软下载<a href="http://msdn.microsoft.com/en-us/windows/hardware/hh852365" target="_blank" rel="external">WDK</a></p>
<p>得到的是一个不到1MB的在线安装程序，安装时，只需要选中Debugging Tools for Windows即可，其它都可以不安装，如下图所示:</p>
<p><img src="/res/img/blog/Qt学习/daodaoliang.jpg" alt="示例"></p>
<p>安装完成后Close关闭安装程序。</p>
<h2 id="配置Qt-Creator"><a href="#配置Qt-Creator" class="headerlink" title="配置Qt Creator"></a>配置Qt Creator</h2><p>重新启动Qt Creator，在设置里面，Build &amp; Run的Kits选项卡，可以看到Kits里面之前的黄色感叹号三角形没有了，而且Debugger也被自动识别到了。</p>
<p><img src="/res/img/blog/Qt学习/qtcreator-cdb-8-300x173.jpg" alt="示例2"></p>
<p>在Debugger面板里，CDB Path选项卡，点击Insert后边的小三角形选择Symbol Server，弹出的窗口填写存放Symbol的缓存文件夹。确认后如下图</p>
<p><img src="/res/img/blog/Qt学习/cdb-symbolpath.jpg" alt="示例2"></p>
<p>不过第一次debug的时候，可能还是会提示Symbol Server的设置，一般直接确认就可以了。</p>
]]></content>
      
        <categories>
            
            <category> Qt学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql中create_database和create_schema的区别]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/07/27/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-07-27-mysql%E4%B8%ADcreate-database%E5%92%8Ccreate-schema%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p>&gt;<br>  在使用MS SQL的时候，一般创建数据库我们都习惯于使用CREATE DATABASE 来完成，而使用CREATE SCHEMA来创建架构，但是在MySQL中，官方的中文文档在 CREATE DATABASE 语法一节中写了一句：也可以使用CREATE SCHEMA。那么CREATE SCHEMA和CREATE DATABASE在MySQL难道是一样的吗？</p>
<p>  MySQL 5.0官方的英文文档中有这么一句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> creates a <span class="keyword">database</span> <span class="keyword">with</span> the given name.</div><div class="line"><span class="keyword">To</span> <span class="keyword">use</span> this <span class="keyword">statement</span>, you need the <span class="keyword">CREATE</span> privilege <span class="keyword">for</span> the database.</div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> <span class="keyword">is</span> a <span class="keyword">synonym</span> <span class="keyword">for</span> <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">as</span> <span class="keyword">of</span> MySQL <span class="number">5.0</span><span class="number">.2</span>.</div></pre></td></tr></table></figure>
<p>   这个说法译成中文应该是：CREATE　DATABASE根据给定的名称创建数据库，要用这个语法，你需要有数据库的CREATE权限，CREATE SCHEMA从MySQL5.0.2起，可作为CREATE DATABASE的一个代名词。</p>
<p>   按照这个说法，CREATE SCHEMA是和CREATE DATABASE是一样的，为了验证这个说法，参阅了后继的官方文档，在MySQL5.5的英文文档中，官方如是说：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> creates a <span class="keyword">database</span> <span class="keyword">with</span> the given name.</div><div class="line"><span class="keyword">To</span> <span class="keyword">use</span> this <span class="keyword">statement</span>, you need the <span class="keyword">CREATE</span> privilege <span class="keyword">for</span> the database.</div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> <span class="keyword">is</span> a <span class="keyword">synonym</span> <span class="keyword">for</span> <span class="keyword">CREATE</span> DATABASE.</div></pre></td></tr></table></figure>
<p>   中文：CREATE DATABASE根据给定的名称创建数据库，你需要拥有数据库的CREATE权限来使用这个语句。CREATE SCHEMA是CREATE DATABASE的一个代名词。</p>
<p>  由此可见，在MySQL的语法操作中（MySQL5.0.2之后），可以使用CREATE DATABASE和CREATE SCHEMA来创建数据库，两者在功能上是一致的。在使用MySQL官方的MySQL管理工具MySQL Workbench 5.2.47创建数据库时，使用的是CREATE SCHEMA来创建数据库的。而这和MS SQL中的SCHEMA有很大差别。</p>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[检查 MySQL 配置文件 my.cnf 是否有误的方法]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/07/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-07-25-%E6%A3%80%E6%9F%A5MySQL%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E6%9C%89%E8%AF%AF%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/libexec/mysqld --help --verbose</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql修改my.cnf的innodb_log_file_size后数据库启动失败的解决方法]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/07/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-07-25-%E4%BF%AE%E6%94%B9innodb-log-file-size%E5%90%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 找到mysql的数据目录下的ib_logfile文件，删除，然后重启mysql</span></div><div class="line"><span class="comment"># 数据文件在配置文件有配置，若是默认则在`/var/lib/mysql/`下面</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Python字符串相关处理]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/07/06/Python%E5%AD%A6%E4%B9%A0-2015-07-06-Python%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[版本控制Git常用命令图示]]></title>
      <url>/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/2015/06/24/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86-2015-06-24-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6Git%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%9B%BE%E7%A4%BA/</url>
      <content type="html"><![CDATA[<p>本图示转载自：<a href="http://www.cnblogs.com/1-2-3/archive/2010/07/18/git-commands.html" target="_blank" rel="external">这里</a></p>
<a id="more"></a>
<p><img src="/res/img/blog/版本管理/2015-06-24.png" alt="命令图示"></p>
]]></content>
      
        <categories>
            
            <category> 项目工程管理 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Python在windows下的服务程序]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/06/09/Python%E5%AD%A6%E4%B9%A0-2015-06-09-python%E5%9C%A8windows%E4%B8%8B%E7%9A%84%E6%9C%8D%E5%8A%A1/</url>
      <content type="html"><![CDATA[<p>Python程序作为Windows服务启动，需要安装pywin32包。下载路径：</p>
<p><a href="http://sourceforge.net/projects/pywin32/files/pywin32/" target="_blank" rel="external">我是下载路径</a></p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> win32serviceutil </div><div class="line"><span class="keyword">import</span> win32service </div><div class="line"><span class="keyword">import</span> win32event </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PythonService</span><span class="params">(win32serviceutil.ServiceFramework)</span>:</span> </div><div class="line">    <span class="string">"""</span></div><div class="line">    Usage: 'PythonService.py [options] install|update|remove|start [...]|stop|restart [...]|debug [...]'</div><div class="line">    Options for 'install' and 'update' commands only:</div><div class="line">     --username domain\username : The Username the service is to run under</div><div class="line">     --password password : The password for the username</div><div class="line">     --startup [manual|auto|disabled|delayed] : How the service starts, default = manual</div><div class="line">     --interactive : Allow the service to interact with the desktop.</div><div class="line">     --perfmonini file: .ini file to use for registering performance monitor data</div><div class="line">     --perfmondll file: .dll file to use when querying the service for</div><div class="line">       performance data, default = perfmondata.dll</div><div class="line">    Options for 'start' and 'stop' commands only:</div><div class="line">     --wait seconds: Wait for the service to actually start or stop.</div><div class="line">                     If you specify --wait with the 'stop' option, the service</div><div class="line">                     and all dependent services will be stopped, each waiting</div><div class="line">                     the specified period.</div><div class="line">    """</div><div class="line">    <span class="comment">#服务名</span></div><div class="line">    _svc_name_ = <span class="string">"PythonService"</span></div><div class="line">    <span class="comment">#服务显示名称</span></div><div class="line">    _svc_display_name_ = <span class="string">"Python Service Demo"</span></div><div class="line">    <span class="comment">#服务描述</span></div><div class="line">    _svc_description_ = <span class="string">"Python service demo."</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, args)</span>:</span> </div><div class="line">        win32serviceutil.ServiceFramework.__init__(self, args) </div><div class="line">        self.hWaitStop = win32event.CreateEvent(<span class="keyword">None</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">None</span>)</div><div class="line">        self.logger = self._getLogger()</div><div class="line">        self.isAlive = <span class="keyword">True</span></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_getLogger</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">import</span> logging</div><div class="line">        <span class="keyword">import</span> os</div><div class="line">        <span class="keyword">import</span> inspect</div><div class="line">        </div><div class="line">        logger = logging.getLogger(<span class="string">'[PythonService]'</span>)</div><div class="line">        </div><div class="line">        this_file = inspect.getfile(inspect.currentframe())</div><div class="line">        dirpath = os.path.abspath(os.path.dirname(this_file))</div><div class="line">        handler = logging.FileHandler(os.path.join(dirpath, <span class="string">"service.log"</span>))</div><div class="line">        </div><div class="line">        formatter = logging.Formatter(<span class="string">'%(asctime)s %(name)-12s %(levelname)-8s %(message)s'</span>)</div><div class="line">        handler.setFormatter(formatter)</div><div class="line">        </div><div class="line">        logger.addHandler(handler)</div><div class="line">        logger.setLevel(logging.INFO)</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> logger</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SvcDoRun</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">import</span> time</div><div class="line">        self.logger.error(<span class="string">"svc do run...."</span>) </div><div class="line">        <span class="keyword">while</span> self.isAlive:</div><div class="line">            self.logger.error(<span class="string">"I am alive."</span>)</div><div class="line">            time.sleep(<span class="number">1</span>)</div><div class="line">        <span class="comment"># 等待服务被停止 </span></div><div class="line">        <span class="comment">#win32event.WaitForSingleObject(self.hWaitStop, win32event.INFINITE) </span></div><div class="line">            </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SvcStop</span><span class="params">(self)</span>:</span> </div><div class="line">        <span class="comment"># 先告诉SCM停止这个过程 </span></div><div class="line">        self.logger.error(<span class="string">"svc do stop...."</span>)</div><div class="line">        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING) </div><div class="line">        <span class="comment"># 设置事件 </span></div><div class="line">        win32event.SetEvent(self.hWaitStop) </div><div class="line">        self.isAlive = <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>: </div><div class="line">    win32serviceutil.HandleCommandLine(PythonService)</div></pre></td></tr></table></figure>
<ul>
<li>安装服务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py install</div></pre></td></tr></table></figure>
<ul>
<li>让服务自动启动</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py --startup auto install</div></pre></td></tr></table></figure>
<ul>
<li>启动服务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py start</div></pre></td></tr></table></figure>
<ul>
<li>重启服务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py restart</div></pre></td></tr></table></figure>
<ul>
<li>停止服务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py stop</div></pre></td></tr></table></figure>
<ul>
<li>删除/卸载服务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python PythonService.py remove</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql中文乱码问题]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/06/03/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-06-03-mysql%E8%A7%A3%E5%86%B3%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p><strong><em>1. 查看当前编码</em></strong></p>
<ul>
<li>登陆mysql查看</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">show variables like &apos;character%&apos;;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>显示如下：</strong></p>
<p><img src="/res/img/blog/数据库学习/2015-06-03.png" alt="我是图片啦"></p>
<p>character_set_database和character_set_server的默认字符集还是latin1</p>
<p><strong><em>2. 修改字符编码</em></strong></p>
<ul>
<li>在[mysqld]字段加入character-set-server=utf8：</li>
</ul>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="section">[mysqld]</span></div><div class="line"><span class="attr">port</span> = <span class="number">3306</span></div><div class="line"><span class="attr">socket</span> = /var/lib/mysql/mysql.socket</div><div class="line"><span class="attr">character-set-server</span> = utf-<span class="number">8</span></div></pre></td></tr></table></figure>
<ul>
<li>在[client]字段加入default-character-set=utf-8:</li>
</ul>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="section">[client]</span></div><div class="line"><span class="attr">port</span> = <span class="number">3306</span></div><div class="line"><span class="attr">socket</span> = /var/lib/mysql/mysql.sock</div><div class="line"><span class="attr">default-character-set</span>=utf8</div></pre></td></tr></table></figure>
<ul>
<li>在[mysql]字段里加入default-character-set=utf8：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[mysql]</div><div class="line">no-auto-rehash</div><div class="line">default-character-set=utf8</div></pre></td></tr></table></figure>
<p><strong><em>3. 修改完成后，service mysql restart重启mysql服务就生效</em></strong></p>
<p><strong><em>4. 查阅目前的编码</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SHOW VARIABLES LIKE ‘&apos;character%&apos;;</div></pre></td></tr></table></figure>
<p><strong><em>5. 连接层修改编码</em></strong></p>
<p>若是经过上述设置以后汉子依然乱码则需要在发送查询之前执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set names &apos;utf8&apos;</div></pre></td></tr></table></figure>
<p>他相当于：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">SET character_set_client = utf8;</div><div class="line">SET character_set_results = utf8;</div><div class="line">SET character_set_connection = utf8;</div></pre></td></tr></table></figure>
<p><strong><em>6. 终极解决方案</em></strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="section">[client]</span></div><div class="line"><span class="attr">default-character-set</span>=utf8</div><div class="line"><span class="section">[mysql]</span></div><div class="line"><span class="attr">default-character-set</span>=utf8</div><div class="line"><span class="section">[mysqld]</span></div><div class="line"><span class="attr">collation-server</span> = utf8_unicode_ci</div><div class="line"><span class="attr">init-connect</span>=’SET NAMES utf8′</div><div class="line"><span class="attr">character-set-server</span> = utf8</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql配置文件详解]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/06/03/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-06-03-mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<p><strong><em>配置文件解析</em></strong></p>
<p>你也可以使用<a href="https://tools.percona.com/wizard" target="_blank" rel="external">在线配置文件生成向导</a>来完成这个工作</p>
<a id="more"></a>
<p><strong><em>4GB RAM, 只使用InnoDB, ACID, 少量的连接, 队列负载大</em></strong></p>
<h4 id="client"><a href="#client" class="headerlink" title="[client]"></a><strong><em>[client]</em></strong></h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># mysql客户端链接数据库时默认的tcp端口号</span></div><div class="line"><span class="attr">port</span> = <span class="number">3306</span></div><div class="line"><span class="comment"># 为MySQL客户程序与服务器之间的本地通信指定一个套接字文件(Linux下默认是/var/lib/mysql/mysql.sock文件)</span></div><div class="line"><span class="attr">socket</span> = /var/lib/mysql/mysql.sock</div></pre></td></tr></table></figure>
<h4 id="mysqld"><a href="#mysqld" class="headerlink" title="[mysqld]"></a><strong><em>[mysqld]</em></strong></h4><p><strong><em>一般配置</em></strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line"># mysql服务端监听默认的tcp端口号</div><div class="line">port = 3306</div><div class="line">       </div><div class="line"># 为MySQL客户程序与服务器之间的本地通信指定一个套接字文件(Linux下默认是/var/lib/mysql/mysql.sock文件)</div><div class="line">socket = /var/lib/mysql/mysql.sock</div><div class="line"></div><div class="line"># back_log 是操作系统在监听队列中所能保持的连接数,队列保存了在MySQL连接管理器线程处理之前的连接.</div><div class="line"># 如果你有非常高的连接率并且出现”connection refused” 报错,你就应该增加此处的值.</div><div class="line"># 检查你的操作系统文档来获取这个变量的最大值.如果将back_log设定到比你操作系统限制更高的值,将会没有效果</div><div class="line">back_log = 50</div><div class="line"></div><div class="line"># 不在TCP/IP端口上进行监听.如果所有的进程都是在同一台服务器连接到本地的mysqld,这样设置将是增强安全的方法</div><div class="line"># 所有mysqld的连接都是通过Unix sockets 或者命名管道进行的.注意在windows下如果没有打开命名管道选项而只是用此项</div><div class="line"># (通过 “enable-named-pipe” 选项) 将会导致mysql服务没有任何作用!</div><div class="line"># skip-networking</div><div class="line"></div><div class="line"># MySQL 服务所允许的同时会话数的上限，其中一个连接将被SUPER权限保留作为管理员登录.即便已经达到了连接数的上限.</div><div class="line">max_connections = 100</div><div class="line"></div><div class="line"># 每个客户端连接最大的错误允许数量,如果达到了此限制.这个客户端将会被MySQL服务阻止直到执行了”FLUSH HOSTS” 或者服务重启</div><div class="line"># 非法的密码以及其他在链接时的错误会增加此值.查看 “Aborted_connects” 状态来获取全局计数器.</div><div class="line">max_connect_errors = 10</div><div class="line"></div><div class="line"># 所有线程所打开表的数量.这样你需要确认在[mysqld_safe]中 “open-files-limit” 变量设置打开文件数量允许至少4096</div><div class="line">table_cache = 2048</div><div class="line"></div><div class="line"># 允许外部文件级别的锁. 打开文件锁会对性能造成负面影响,</div><div class="line"># 所以只有在你在同样的文件上运行多个数据库实例时才使用此选项(注意仍会有其他约束!)</div><div class="line"># 或者你在文件层面上使用了其他一些软件依赖来锁定MyISAM表</div><div class="line">external-locking</div><div class="line"></div><div class="line"># 服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小(当与大的BLOB字段一起工作时相当必要)</div><div class="line"># 每个连接独立的大小.大小动态增加</div><div class="line">max_allowed_packet = 16M</div><div class="line"></div><div class="line"># 在一个事务中binlog为了记录SQL状态所持有的cache大小,如果你经常使用大的,多声明的事务,你可以增加此值来获取更大的性能.</div><div class="line"># 所有从事务来的状态都将被缓冲在binlog缓冲中然后在提交后一次性写入到binlog中,如果事务比此值大, 会使用磁盘上的临时文件来替代.</div><div class="line"># 此缓冲在每个连接的事务第一次更新状态时被创建</div><div class="line">binlog_cache_size = 1M</div><div class="line"></div><div class="line"># 独立的内存表所允许的最大容量.此选项为了防止意外创建一个超大的内存表导致永尽所有的内存资源.</div><div class="line">max_heap_table_size = 64M</div><div class="line"></div><div class="line"># 排序缓冲被用来处理类似ORDER BY以及GROUP BY队列所引起的排序,如果排序后的数据无法放入排序缓冲,一个用来替代的基于磁盘的合并分类会被使用</div><div class="line"># 查看 “Sort_merge_passes” 状态变量.在排序发生时由每个线程分配</div><div class="line">sort_buffer_size = 8M</div><div class="line"></div><div class="line"># 此缓冲被使用来优化全联合(full JOINs 不带索引的联合).类似的联合在极大多数情况下有非常糟糕的性能表现,但是将此值设大能够减轻性能影响.</div><div class="line"># 通过 “Select_full_join” 状态变量查看全联合的数量,当全联合发生时,在每个线程中分配</div><div class="line">join_buffer_size = 8M</div><div class="line"></div><div class="line"># 我们在cache中保留多少线程用于重用,当一个客户端断开连接后,如果cache中的线程还少于thread_cache_size,则客户端线程被放入cache中.</div><div class="line"># 这可以在你需要大量新连接的时候极大的减少线程创建的开销, (一般来说如果你有好的线程模型的话,这不会有明显的性能提升.).</div><div class="line">thread_cache_size = 8</div><div class="line"></div><div class="line"># 此允许应用程序给予线程系统一个提示在同一时间给予渴望被运行的线程的数量.</div><div class="line"># 此值只对于支持 thread_concurrency() 函数的系统有意义( 例如Sun Solaris).</div><div class="line"># 你可可以尝试使用 [CPU数量]*(2..4) 来作为thread_concurrency的值</div><div class="line">thread_concurrency = 8</div><div class="line"></div><div class="line"># 查询缓冲常被用来缓冲 SELECT 的结果并且在下一次同样查询的时候不再执行直接返回结果.</div><div class="line"># 打开查询缓冲可以极大的提高服务器速度, 如果你有大量的相同的查询并且很少修改表.</div><div class="line"># 查看 “Qcache_lowmem_prunes” 状态变量来检查是否当前值对于你的负载来说是否足够高.</div><div class="line"># 注意: 在你表经常变化的情况下或者如果你的查询原文每次都不同,</div><div class="line"># 查询缓冲也许引起性能下降而不是性能提升.</div><div class="line">query_cache_size = 64M</div><div class="line"></div><div class="line"># 只有小于此设定值的结果才会被缓冲</div><div class="line"># 此设置用来保护查询缓冲,防止一个极大的结果集将其他所有的查询结果都覆盖.</div><div class="line"># query_cache_limit = 2M</div><div class="line"></div><div class="line"># 被全文检索索引的最小的字长.</div><div class="line"># 你也许希望减少它,如果你需要搜索更短字的时候.</div><div class="line"># 注意在你修改此值之后,</div><div class="line"># 你需要重建你的 FULLTEXT 索引</div><div class="line">ft_min_word_len = 4</div><div class="line"></div><div class="line"># 如果你的系统支持 memlock() 函数,你也许希望打开此选项用以让运行中的mysql在在内存高度紧张的时候。</div><div class="line"># 数据在内存中保持锁定并且防止可能被swapping out</div><div class="line"># 此选项对于性能有益</div><div class="line"># memlock</div><div class="line"></div><div class="line"># 当创建新表时作为默认使用的表类型,</div><div class="line"># 如果在创建表示没有特别执行表类型,将会使用此值</div><div class="line">default_table_type = MYISAM</div><div class="line"></div><div class="line"># 线程使用的堆大小. 此容量的内存在每次连接时被预留.</div><div class="line"># MySQL 本身常不会需要超过64K的内存</div><div class="line"># 如果你使用你自己的需要大量堆的UDF函数</div><div class="line"># 或者你的操作系统对于某些操作需要更多的堆,</div><div class="line"># 你也许需要将其设置的更高一点.</div><div class="line">thread_stack = 192K</div><div class="line"></div><div class="line"># 设定默认的事务隔离级别.可用的级别如下:</div><div class="line"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE</div><div class="line">transaction_isolation = REPEATABLE-READ</div><div class="line"></div><div class="line"># 内部(内存中)临时表的最大大小</div><div class="line"># 如果一个表增长到比此值更大,将会自动转换为基于磁盘的表.</div><div class="line"># 此限制是针对单个表的,而不是总和.</div><div class="line">tmp_table_size = 64M</div><div class="line"></div><div class="line"># 打开二进制日志功能.</div><div class="line"># 在复制(replication)配置中,作为MASTER主服务器必须打开此项</div><div class="line"># 如果你需要从你最后的备份中做基于时间点的恢复,你也同样需要二进制日志.</div><div class="line"># 如果你需要从你最后的备份中做基于时间点的恢复,你也同样需要二进制日志.</div><div class="line">log-bin=mysql-bin</div><div class="line"></div><div class="line"># 如果你在使用链式从服务器结构的复制模式 (A-&gt;B-&gt;C),</div><div class="line"># 你需要在服务器B上打开此项.</div><div class="line"># 此选项打开在从线程上重做过的更新的日志,</div><div class="line"># 并将其写入从服务器的二进制日志.</div><div class="line"># log_slave_updates</div><div class="line"></div><div class="line"># 打开全查询日志. 所有的由服务器接收到的查询 (甚至对于一个错误语法的查询)</div><div class="line"># 都会被记录下来. 这对于调试非常有用, 在生产环境中常常关闭此项.</div><div class="line"># log</div><div class="line"></div><div class="line"># 将警告打印输出到错误log文件. 如果你对于MySQL有任何问题</div><div class="line"># 你应该打开警告log并且仔细审查错误日志,查出可能的原因.</div><div class="line"># log_warnings</div><div class="line"></div><div class="line"># 记录慢速查询. 慢速查询是指消耗了比 “long_query_time” 定义的更多时间的查询.</div><div class="line"># 如果 log_long_format 被打开,那些没有使用索引的查询也会被记录.</div><div class="line"># 如果你经常增加新查询到已有的系统内的话. 一般来说这是一个好主意,</div><div class="line">log_slow_queries</div><div class="line"></div><div class="line"># 所有的使用了比这个时间(以秒为单位)更多的查询会被认为是慢速查询.</div><div class="line"># 不要在这里使用”1″, 否则会导致所有的查询,甚至非常快的查询页被记录下来(由于MySQL 目前时间的精确度只能达到秒的级别).</div><div class="line">long_query_time = 2</div><div class="line"></div><div class="line"># 在慢速日志中记录更多的信息.</div><div class="line"># 一般此项最好打开.</div><div class="line"># 打开此项会记录使得那些没有使用索引的查询也被作为到慢速查询附加到慢速日志里</div><div class="line">log_long_format</div><div class="line"></div><div class="line"># 此目录被MySQL用来保存临时文件.例如,</div><div class="line"># 它被用来处理基于磁盘的大型排序,和内部排序一样.</div><div class="line"># 以及简单的临时表.</div><div class="line"># 如果你不创建非常大的临时文件,将其放置到 swapfs/tmpfs 文件系统上也许比较好</div><div class="line"># 另一种选择是你也可以将其放置在独立的磁盘上.</div><div class="line"># 你可以使用”;”来放置多个路径</div><div class="line"># 他们会按照roud-robin方法被轮询使用.</div><div class="line"># tmpdir = /tmp</div></pre></td></tr></table></figure>
<p><strong><em>复制有关的设置</em></strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">	# 唯一的服务辨识号,数值位于 1 到 2^32-1之间.</div><div class="line">	# 此值在master和slave上都需要设置.</div><div class="line">	# 如果 “master-host” 没有被设置,则默认为1, 但是如果忽略此选项,MySQL不会作为master生效.</div><div class="line">	server-id = 1</div><div class="line"></div><div class="line">	# 复制结构中的master – 必须</div><div class="line">	# master-host =</div><div class="line">	</div><div class="line">	# 当连接到master上时slave所用来认证的用户名 – 必须</div><div class="line">	# master-user =</div><div class="line"></div><div class="line">	# 当连接到master上时slave所用来认证的密码 – 必须</div><div class="line">	# master-password =</div><div class="line"></div><div class="line">	# master监听的端口.</div><div class="line">	# 可选 – 默认是3306</div><div class="line">	# master-port =</div><div class="line"></div><div class="line">	# 使得slave只读.只有用户拥有SUPER权限和在上面的slave线程能够修改数据.</div><div class="line">	# 你可以使用此项去保证没有应用程序会意外的修改slave而不是master上的数据</div><div class="line">	# read_only</div><div class="line"></div><div class="line">```	</div><div class="line"></div><div class="line">***MyISAM 相关选项***</div><div class="line"></div><div class="line">```ini</div><div class="line">	# 关键词缓冲的大小, 一般用来缓冲MyISAM表的索引块.</div><div class="line">	# 不要将其设置大于你可用内存的30%,</div><div class="line">	# 因为一部分内存同样被OS用来缓冲行数据</div><div class="line">	# 甚至在你并不使用MyISAM 表的情况下, 你也需要仍旧设置起 8-64M 内存由于它同样会被内部临时磁盘表使用.</div><div class="line">	key_buffer_size = 32M</div><div class="line"></div><div class="line">	# 用来做MyISAM表全表扫描的缓冲大小.</div><div class="line">	# 当全表扫描需要时,在对应线程中分配.</div><div class="line">	read_buffer_size = 2M</div><div class="line"></div><div class="line">	# 当在排序之后,从一个已经排序好的序列中读取行时,行数据将从这个缓冲中读取来防止磁盘寻道.</div><div class="line">	# 如果你增高此值,可以提高很多ORDER BY的性能.</div><div class="line">	# 当需要时由每个线程分配</div><div class="line">	read_rnd_buffer_size = 16M</div><div class="line"></div><div class="line">	# MyISAM 使用特殊的类似树的cache来使得突发插入</div><div class="line">	# (这些插入是,INSERT SELECT, INSERT VALUES (), (), , 以及 LOAD DATA</div><div class="line">	# INFILE) 更快. 此变量限制每个进程中缓冲树的字节数.</div><div class="line">	# 设置为 0 会关闭此优化.</div><div class="line">	# 为了最优化不要将此值设置大于 “key_buffer_size”.</div><div class="line">	# 当突发插入被检测到时此缓冲将被分配.</div><div class="line">	bulk_insert_buffer_size = 64M</div><div class="line"></div><div class="line">	# 此缓冲当MySQL需要在 REPAIR, OPTIMIZE, ALTER 以及 LOAD DATA INFILE 到一个空表中引起重建索引时被分配.</div><div class="line">	# 这在每个线程中被分配.所以在设置大值时需要小心.</div><div class="line">	myisam_sort_buffer_size = 128M</div><div class="line"></div><div class="line">	# MySQL重建索引时所允许的最大临时文件的大小 (当 REPAIR, ALTER TABLE 或者 LOAD DATA INFILE).</div><div class="line">	# 如果文件大小比此值更大,索引会通过键值缓冲创建(更慢)</div><div class="line">	myisam_max_sort_file_size = 10G</div><div class="line"></div><div class="line">	# 如果被用来更快的索引创建索引所使用临时文件大于制定的值,那就使用键值缓冲方法.</div><div class="line">	# 这主要用来强制在大表中长字串键去使用慢速的键值缓冲方法来创建索引.</div><div class="line">	myisam_max_extra_sort_file_size = 10G</div><div class="line"></div><div class="line">	# 如果一个表拥有超过一个索引, MyISAM 可以通过并行排序使用超过一个线程去修复他们.</div><div class="line">	# 这对于拥有多个CPU以及大量内存情况的用户,是一个很好的选择.</div><div class="line">	myisam_repair_threads = 1</div><div class="line"></div><div class="line">	# 自动检查和修复没有适当关闭的 MyISAM 表.</div><div class="line">	myisam_recover</div><div class="line"></div><div class="line">	# 默认关闭 Federated</div><div class="line">	skip-federated</div></pre></td></tr></table></figure>
<p><strong><em>BDB 相关选项</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 如果你运行的MySQL服务有BDB支持但是你不准备使用的时候使用此选项. 这会节省内存并且可能加速一些事.</div><div class="line">skip-bdb</div></pre></td></tr></table></figure>
<p><strong><em>INNODB 相关选项</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"># 如果你的MySQL服务包含InnoDB支持但是并不打算使用的话,</div><div class="line"># 使用此选项会节省内存以及磁盘空间,并且加速某些部分</div><div class="line"># skip-innodb</div><div class="line"></div><div class="line"># 附加的内存池被InnoDB用来保存 metadata 信息</div><div class="line"># 如果InnoDB为此目的需要更多的内存,它会开始从OS这里申请内存.</div><div class="line"># 由于这个操作在大多数现代操作系统上已经足够快, 你一般不需要修改此值.</div><div class="line"># SHOW INNODB STATUS 命令会显示当先使用的数量.</div><div class="line">innodb_additional_mem_pool_size = 16M</div><div class="line"></div><div class="line"># InnoDB使用一个缓冲池来保存索引和原始数据, 不像 MyISAM.</div><div class="line"># 这里你设置越大,你在存取表里面数据时所需要的磁盘I/O越少.</div><div class="line"># 在一个独立使用的数据库服务器上,你可以设置这个变量到服务器物理内存大小的80%</div><div class="line"># 不要设置过大,否则,由于物理内存的竞争可能导致操作系统的换页颠簸.</div><div class="line"># 注意在32位系统上你每个进程可能被限制在 2-3.5G 用户层面内存限制,</div><div class="line"># 所以不要设置的太高.</div><div class="line">innodb_buffer_pool_size = 2G</div><div class="line"></div><div class="line"># InnoDB 将数据保存在一个或者多个数据文件中成为表空间.</div><div class="line"># 如果你只有单个逻辑驱动保存你的数据,一个单个的自增文件就足够好了.</div><div class="line"># 其他情况下.每个设备一个文件一般都是个好的选择.</div><div class="line"># 你也可以配置InnoDB来使用裸盘分区 – 请参考手册来获取更多相关内容</div><div class="line">innodb_data_file_path = ibdata1:10M:autoextend</div><div class="line"></div><div class="line"># 设置此选项如果你希望InnoDB表空间文件被保存在其他分区.</div><div class="line"># 默认保存在MySQL的datadir中.</div><div class="line"># innodb_data_home_dir =</div><div class="line"></div><div class="line"># 用来同步IO操作的IO线程的数量. This value is</div><div class="line"># 此值在Unix下被硬编码为4,但是在Windows磁盘I/O可能在一个大数值下表现的更好.</div><div class="line">innodb_file_io_threads = 4</div><div class="line"></div><div class="line"># 如果你发现InnoDB表空间损坏, 设置此值为一个非零值可能帮助你导出你的表.</div><div class="line"># 从1开始并且增加此值知道你能够成功的导出表.</div><div class="line"># innodb_force_recovery=1</div><div class="line"></div><div class="line"># 在InnoDb核心内的允许线程数量.</div><div class="line"># 最优值依赖于应用程序,硬件以及操作系统的调度方式.</div><div class="line"># 过高的值可能导致线程的互斥颠簸.</div><div class="line">innodb_thread_concurrency = 16</div><div class="line"></div><div class="line"># 如果设置为1 ,InnoDB会在每次提交后刷新(fsync)事务日志到磁盘上,</div><div class="line"># 这提供了完整的ACID行为.</div><div class="line"># 如果你愿意对事务安全折衷, 并且你正在运行一个小的食物, 你可以设置此值到0或者2来减少由事务日志引起的磁盘I/O</div><div class="line"># 0代表日志只大约每秒写入日志文件并且日志文件刷新到磁盘.</div><div class="line"># 2代表日志写入日志文件在每次提交后,但是日志文件只有大约每秒才会刷新到磁盘上.</div><div class="line">innodb_flush_log_at_trx_commit = 1</div><div class="line"></div><div class="line"># 加速InnoDB的关闭. 这会阻止InnoDB在关闭时做全清除以及插入缓冲合并.</div><div class="line"># 这可能极大增加关机时间, 但是取而代之的是InnoDB可能在下次启动时做这些操作.</div><div class="line"># innodb_fast_shutdown</div><div class="line"></div><div class="line"># 用来缓冲日志数据的缓冲区的大小.</div><div class="line"># 当此值快满时, InnoDB将必须刷新数据到磁盘上.</div><div class="line"># 由于基本上每秒都会刷新一次,所以没有必要将此值设置的太大(甚至对于长事务而言)</div><div class="line">innodb_log_buffer_size = 8M</div><div class="line"></div><div class="line"># 在日志组中每个日志文件的大小.</div><div class="line"># 你应该设置日志文件总合大小到你缓冲池大小的25%~100%</div><div class="line"># 来避免在日志文件覆写上不必要的缓冲池刷新行为.</div><div class="line"># 不论如何, 请注意一个大的日志文件大小会增加恢复进程所需要的时间.</div><div class="line">innodb_log_file_size = 256M</div><div class="line"></div><div class="line"># 在日志组中的文件总数.</div><div class="line"># 通常来说2~3是比较好的.</div><div class="line">innodb_log_files_in_group = 3</div><div class="line"></div><div class="line"># InnoDB的日志文件所在位置. 默认是MySQL的datadir.</div><div class="line"># 你可以将其指定到一个独立的硬盘上或者一个RAID1卷上来提高其性能</div><div class="line"># innodb_log_group_home_dir</div><div class="line"></div><div class="line"># 在InnoDB缓冲池中最大允许的脏页面的比例.</div><div class="line"># 如果达到限额, InnoDB会开始刷新他们防止他们妨碍到干净数据页面.</div><div class="line"># 这是一个软限制,不被保证绝对执行.</div><div class="line">innodb_max_dirty_pages_pct = 90</div><div class="line"></div><div class="line"># InnoDB用来刷新日志的方法.</div><div class="line"># 表空间总是使用双重写入刷新方法</div><div class="line"># 默认值是 “fdatasync”, 另一个是 “O_DSYNC”.</div><div class="line"># innodb_flush_method=O_DSYNC</div><div class="line"></div><div class="line"># 在被回滚前,一个InnoDB的事务应该等待一个锁被批准多久.</div><div class="line"># InnoDB在其拥有的锁表中自动检测事务死锁并且回滚事务.</div><div class="line"># 如果你使用 LOCK TABLES 指令, 或者在同样事务中使用除了InnoDB以外的其他事务安全的存储引擎</div><div class="line"># 那么一个死锁可能发生而InnoDB无法注意到.</div><div class="line"># 这种情况下这个timeout值对于解决这种问题就非常有帮助.</div><div class="line">innodb_lock_wait_timeout = 120</div></pre></td></tr></table></figure>
<h4 id="mysqldump"><a href="#mysqldump" class="headerlink" title="[mysqldump]"></a><strong><em>[mysqldump]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 不要在将内存中的整个结果写入磁盘之前缓存. 在导出非常巨大的表时需要此项</div><div class="line">quick</div><div class="line">max_allowed_packet = 16M</div></pre></td></tr></table></figure>
<h4 id="mysql"><a href="#mysql" class="headerlink" title="[mysql]"></a><strong><em>[mysql]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">no-auto-rehash</div><div class="line"># 仅仅允许使用键值的 UPDATEs 和 DELETEs .</div><div class="line"># safe-updates</div></pre></td></tr></table></figure>
<h4 id="isamchk"><a href="#isamchk" class="headerlink" title="[isamchk]"></a><strong><em>[isamchk]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">key_buffer = 512M</div><div class="line">sort_buffer_size = 512M</div><div class="line">read_buffer = 8M</div><div class="line">write_buffer = 8M</div></pre></td></tr></table></figure>
<h4 id="myisamchk"><a href="#myisamchk" class="headerlink" title="[myisamchk]"></a><strong><em>[myisamchk]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">key_buffer = 512M</div><div class="line">sort_buffer_size = 512M</div><div class="line">read_buffer = 8M</div><div class="line">write_buffer = 8M</div></pre></td></tr></table></figure>
<h4 id="mysqlhotcopy"><a href="#mysqlhotcopy" class="headerlink" title="[mysqlhotcopy]"></a><strong><em>[mysqlhotcopy]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">interactive-timeout</div></pre></td></tr></table></figure>
<h4 id="mysqld-safe"><a href="#mysqld-safe" class="headerlink" title="[mysqld_safe]"></a><strong><em>[mysqld_safe]</em></strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 增加每个进程的可打开文件数量.</div><div class="line"># 警告: 确认你已经将全系统限制设定的足够高!</div><div class="line"># 打开大量表需要将此值设b</div><div class="line">open-files-limit = 8192</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux脚本文件格式错误]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/06/01/linux%E5%AD%A6%E4%B9%A0-2015-06-01-linux%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E9%94%99%E8%AF%AF/</url>
      <content type="html"><![CDATA[<hr>
<ul>
<li><strong><em>/bin/sh<code>^</code>M:bad interpreter: No such file or directory</em></strong></li>
</ul>
<blockquote>
<ul>
<li><p>这个错误发生在你在windows下编写文件上传到linux服务器去运行的时候。<br>错误原因：windows和linux的文件不一样。</p>
</li>
<li><p>解决办法:vi该文件 在命令模式下输入 :set ff=unix 回车</p>
</li>
<li><p>执行完成后输入:wq</p>
</li>
</ul>
</blockquote>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux目录结构]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/05/27/linux%E5%AD%A6%E4%B9%A0-2015-05-27-linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/</url>
      <content type="html"><![CDATA[<hr>
<p>在Linux文件系统中的每一个子目录都有特定的目的和用途。一般都是根据FHS标准定义一个正式的文件系统结构的，这个标准规定了哪些目录应该哪些作用</p>
<a id="more"></a>
<p>FHS依据文件系统使用的频繁与否与是否允许使用者随意更动, 而将目录定义成为四种交互作用的形态,用表格来说有点像底下这样：</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">可分享的(shareable)</th>
<th style="text-align:center">不可分享的(unshareable)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">不变的(static)</td>
<td style="text-align:center">/usr (软件放置处)</td>
<td style="text-align:center">/etc (配置文件)</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">/opt (第三方协力软件)</td>
<td style="text-align:center">/boot (开机与核心档)</td>
</tr>
<tr>
<td style="text-align:center">可变动的(variable)</td>
<td style="text-align:center">/var/mail (使用者邮件信箱)</td>
<td style="text-align:center">/var/run (程序相关)</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">/var/spool/news (新闻组)</td>
<td style="text-align:center">/var/lock (程序相关)</td>
</tr>
</tbody>
</table>
<ul>
<li><p>可分享的：可以分享给其他系统挂载使用的目录,所以包括执行文件与用户的邮件等数据, 是能够分享给网络上其他主机挂载用的目录；</p>
</li>
<li><p>不可分享的：自己机器上面运作的装置文件或者是与程序有关的socket文件等, 由于仅与自身机器有关,所以当然就不适合分享给其他主机了.</p>
</li>
<li><p>不变的：有些数据是不会经常变动的,跟随着distribution而不变动. 例如函式库、文件说明文件、系统管理员所管理的主机服务配置文件等等；</p>
</li>
<li><p>可变动的：经常改变的数据,例如登录文件、一般用户可自行收受的新闻组等.</p>
<p><strong><em>事实上,FHS针对目录树架构仅定义出三层目录底下应该放置什么数据而已,分别是底下这三个目录的定义：</em></strong></p>
</li>
<li><p>/ (root, 根目录)：与开机系统有关；</p>
</li>
<li><p>/usr (unix software resource)：与软件安装/执行有关；</p>
</li>
<li><p>/var (variable)：与系统运作过程有关.</p>
</li>
</ul>
<h3 id="1-根目录-的意义与内容："><a href="#1-根目录-的意义与内容：" class="headerlink" title="1.根目录 (/) 的意义与内容："></a><strong>1.根目录 (/) 的意义与内容：</strong></h3><p><strong><em>摘要：</em></strong></p>
<ul>
<li>所有的目录都是由根目录衍生出来的(根目录是整个系统最重要的一个目录)</li>
<li>与开机/还原/系统修复等动作有关. (由于系统开机时需要特定的开机软件、核心文件、开机所需程序、 函式库等等文件数据,若系统出现错误时,根目录也必须要包含有能够修复文件系统的程序才行)</li>
<li>FHS标准建议：根目录(/)所在分割槽应该越小越好, 且应用程序所安装的软件最好不要与根目录放在同一个分割槽内,保持根目录越小越好.(因为越大的分割槽妳会放入越多的数据,如此一来根目录所在分割槽就可能会有较多发生错误的机会,如此不但效能较佳,根目录所在的文件系统也较不容易发生问题.)</li>
</ul>
<h4 id="1-1根目录-底下目录FHS定义的说明："><a href="#1-1根目录-底下目录FHS定义的说明：" class="headerlink" title="1.1根目录(/)底下目录FHS定义的说明："></a><strong>1.1根目录(/)底下目录FHS定义的说明：</strong></h4><table>
<thead>
<tr>
<th style="text-align:center">目录</th>
<th style="text-align:left">应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/bin</td>
<td style="text-align:left">系统有很多放置执行文件的目录,但/bin比较特殊.因为/bin放置的是在单人维护模式下还能够被操作的指令. 在/bin底下的指令可以被root与一般账号所使用,主要有：cat, chmod, chown, date, mv, mkdir, cp, bash等等常用的指令.</td>
</tr>
<tr>
<td style="text-align:center">/boot</td>
<td style="text-align:left">这个目录主要在放置开机会使用到的文件,包括Linux核心文件以及开机选单与开机所需配置文件等等. Linux kernel常用的档名为：vmlinuz,如果使用的是grub这个开机管理程序, 则还会存在/boot/grub/这个目录！</td>
</tr>
<tr>
<td style="text-align:center">/dev</td>
<td style="text-align:left">在Linux系统上,任何装置与接口设备都是以文件的型态存在于这个目录当中的. 你只要透过存取这个目录底下的某个文件,就等于存取某个装置啰～ 比要重要的文件有/dev/null, /dev/zero, /dev/tty, /dev/lp<em>, /dev/hd</em>, /dev/sd*等等</td>
</tr>
<tr>
<td style="text-align:center">/etc</td>
<td style="text-align:left">系统主要的配置文件几乎都放置在这个目录内,例如人员的账号密码文件、 各种服务的启始档等等.一般来说,这个目录下的各文件属性是可以让一般使用者查阅的, 但是只有root有权力修改.FHS建议不要放置可执行文件(binary)在这个目录中喔.比较重要的文件有： /etc/inittab, /etc/init.d/, /etc/modprobe.conf, /etc/X11/, /etc/fstab, /etc/sysconfig/ 等等.</td>
</tr>
<tr>
<td style="text-align:center">/home</td>
<td style="text-align:left">这是系统默认的用户家目录(home directory).在你新增一个一般使用者账号时, 默认户家目录都会规范到这里来.比较重要的是,家目录有两种代号喔：~：代表目前这个用户的家目录,而 ~dmtsai ：则代表 dmtsai 的家目录！</td>
</tr>
<tr>
<td style="text-align:center">/lib</td>
<td style="text-align:left">系统的函式库非常的多,而/lib放置的则是在开机时会用到的函式库, 以及在/bin或/sbin底下的指令会呼叫的函式库而已. 什么是函式库呢？妳可以将他想成是『外挂』,某些指令必须要有这些『外挂』才能够顺利完成程序的执行之意. 尤其重要的是/lib/modules/这个目录, 因为该目录会放置核心相关的模块(驱动程序)喔！</td>
</tr>
<tr>
<td style="text-align:center">/media</td>
<td style="text-align:left">media是『媒体』的英文,顾名思义,这个/media底下放置的就是可移除的装置啦！ 包括软盘、光盘、DVD等等装置都暂时挂载于此.常见的档名有：/media/floppy, /media/cdrom等等.</td>
</tr>
<tr>
<td style="text-align:center">/mnt</td>
<td style="text-align:left">如果妳想要暂时挂载某些额外的装置,一般建议妳可以放置到这个目录中. 在最早时候,这个目录的用途与/media相同啦！只是有了/media之后,这个目录就用来暂时挂载用了.</td>
</tr>
<tr>
<td style="text-align:center">/opt</td>
<td style="text-align:left">这个是给第三方协力软件放置的目录.什么是第三方协力软件啊？ 举例来说,KDE这个桌面管理系统是一个独立的计划,不过他可以安装到Linux系统中,因此KDE的软件就建议放置到此目录下了. 另外,如果妳想要自行安装额外的软件(非原本的distribution提供的),那么也能够将你的软件安装到这里来. 不过,以前的Linux系统中,我们还是习惯放置在/usr/local目录下呢！</td>
</tr>
<tr>
<td style="text-align:center">/root</td>
<td style="text-align:left">系统管理员(root)的家目录.之所以放在这里,是因为如果进入单人维护模式而仅挂载根目录时, 该目录就能够拥有root的家目录,所以我们会希望root的家目录与根目录放置在同一个分割槽中</td>
</tr>
<tr>
<td style="text-align:center">/sbin</td>
<td style="text-align:left">Linux有非常多指令是用来设定系统环境的,这些指令只有root才能够利用来『设定』系统,其他用户最多只能用来『查询』而已. 放在/sbin底下的为开机过程中所需要的,里面包括了开机、修复、还原系统所需要的指令. 至于某些服务器软件程序,一般则放置到/usr/sbin/当中.至于本机自行安装的软件所产生的系统执行文件(system binary), 则放置到/usr/local/sbin/当中了.常见的指令包括：fdisk, fsck, ifconfig, init, mkfs等等.</td>
</tr>
<tr>
<td style="text-align:center">/srv</td>
<td style="text-align:left">srv可以视为『service』的缩写,是一些网络服务启动之后,这些服务所需要取用的数据目录. 常见的服务例如WWW, FTP等等.举例来说,WWW服务器需要的网页数据就可以放置在/srv/www/里面.</td>
</tr>
<tr>
<td style="text-align:center">/tmp</td>
<td style="text-align:left">这是让一般使用者或者是正在执行的程序暂时放置文件的地方. 这个目录是任何人都能够存取的,所以你需要定期的清理一下.当然,重要数据不可放置在此目录啊！ 因为FHS甚至建议在开机时,应该要将/tmp下的数据都删除！</td>
</tr>
<tr>
<td style="text-align:center">/lost+found</td>
<td style="text-align:left">这个目录是使用标准的ext2/ext3文件系统格式才会产生的一个目录,目的在于当文件系统发生错误时, 将一些遗失的片段放置到这个目录下.这个目录通常会在分割槽的最顶层存在, 例如你加装一颗硬盘于/disk中,那在这个系统下就会自动产生一个这样的目录『/disk/lost+found』</td>
</tr>
<tr>
<td style="text-align:center">/proc</td>
<td style="text-align:left">这个目录本身是一个『虚拟文件系统(virtual filesystem)』喔！他放置的数据都是在内存当中, 例如系统核心、行程信息(process)、周边装置的状态及网络状态等等.因为这个目录下的数据都是在内存当中, 所以本身不占任何硬盘空间啊！比较重要的文件例如：/proc/cpuinfo, /proc/dma, /proc/interrupts, /proc/ioports, /proc/net/* 等等.</td>
</tr>
<tr>
<td style="text-align:center">/sys</td>
<td style="text-align:left">这个目录其实跟/proc非常类似,也是一个虚拟的文件系统,主要也是记录与核心相关的信息. 包括目前已加载的核心模块与核心侦测到的硬件装置信息等等.这个目录同样不占硬盘容量！</td>
</tr>
</tbody>
</table>
<h4 id="PS：不可以移动的目录："><a href="#PS：不可以移动的目录：" class="headerlink" title="PS：不可以移动的目录："></a><strong>PS：不可以移动的目录：</strong></h4><ul>
<li>根目录与开机有关,开机过程中仅有根目录会被挂载, 其他分割槽则是在开机完成之后才会持续的进行挂载的行为.就是因为如此,因此根目录下与开机过程有关的目录, 就不能够与根目录放到不同的目录去！<ul>
<li>/etc：配置文件</li>
<li>/bin：重要执行档</li>
<li>/dev：所需要的装置文件</li>
<li>/lib：执行档所需的函式库与核心所需的模块</li>
<li>/sbin：重要的系统执行文件</li>
</ul>
</li>
</ul>
<h3 id="1-2-usr-的意义与内容："><a href="#1-2-usr-的意义与内容：" class="headerlink" title="1.2 /usr 的意义与内容："></a><strong>1.2 /usr 的意义与内容：</strong></h3><ul>
<li>依据FHS的基本定义,/usr里面放置的数据属于可分享的与不可变动的(shareable, static), 如果你知道如何透过网络进行分割槽的挂载,那么/usr确实可以分享给局域网络内的其他主机来使用！</li>
<li>usr(Unix Software Resource 即Unix操作系统软件资源) FHS建议所有软件开发者,应该将他们的数据合理的分别放置到这个目录下的次目录,而不要自行建立该软件自己独立的目录.</li>
<li>所有系统默认的软件(distribution发布者提供的软件)都会放置到/usr底下,因此这个目录有点类似Windows 系统的『C:\Windows\ + C:\Program files\』这两个目录的综合体,系统刚安装完毕时,这个目录会占用最多的硬盘容量.</li>
</ul>
<p>/usr的次目录建议有底下这些：</p>
<table>
<thead>
<tr>
<th style="text-align:center">目录</th>
<th style="text-align:left">应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/usr/X11R6/</td>
<td style="text-align:left">为X Window System重要数据所放置的目录,之所以取名为X11R6是因为最后的X版本为第11版,且该版的第6次释出之意.</td>
</tr>
<tr>
<td style="text-align:center">/usr/bin/</td>
<td style="text-align:left">绝大部分的用户可使用指令都放在这里！请注意到他与/bin的不同之处.(是否与开机过程有关)</td>
</tr>
<tr>
<td style="text-align:center">/usr/include/</td>
<td style="text-align:left">c/c++等程序语言的档头(header)与包含档(include)放置处,当我们以tarball方式 (*.tar.gz 的方式安装软件)安装某些数据时,会使用到里头的许多包含档喔！</td>
</tr>
<tr>
<td style="text-align:center">/usr/lib/</td>
<td style="text-align:left">包含各应用软件的函式库、目标文件(object file),以及不被一般使用者惯用的执行档或脚本(script). 某些软件会提供一些特殊的指令来进行服务器的设定,这些指令也不会经常被系统管理员操作, 那就会被摆放到这个目录下啦.要注意的是,如果你使用的是X86_64的Linux系统, 那可能会有/usr/lib64/目录产生喔！</td>
</tr>
<tr>
<td style="text-align:center">/usr/local/</td>
<td style="text-align:left">系统管理员在本机自行安装自己下载的软件(非distribution默认提供者),建议安装到此目录, 这样会比较便于管理.举例来说,你的distribution提供的软件较旧,你想安装较新的软件但又不想移除旧版, 此时你可以将新版软件安装于/usr/local/目录下,可与原先的旧版软件有分别啦！ 你可以自行到/usr/local去看看,该目录下也是具有bin, etc, include, lib…的次目录！</td>
</tr>
<tr>
<td style="text-align:center">/usr/sbin/</td>
<td style="text-align:left">非系统正常运作所需要的系统指令.最常见的就是某些网络服务器软件的服务指令(daemon)！</td>
</tr>
<tr>
<td style="text-align:center">/usr/share/</td>
<td style="text-align:left">放置共享文件的地方,在这个目录下放置的数据几乎是不分硬件架构均可读取的数据, 因为几乎都是文本文件.</td>
</tr>
<tr>
<td style="text-align:center">/usr/src/</td>
<td style="text-align:left">一般原始码建议放置到这里,src有source的意思.至于核心原始码则建议放置到/usr/src/linux/目录下.</td>
</tr>
</tbody>
</table>
<h3 id="1-3-var-的意义与内容："><a href="#1-3-var-的意义与内容：" class="headerlink" title="1.3 /var 的意义与内容："></a><strong><em>1.3 /var 的意义与内容：</em></strong></h3><ul>
<li>/var目录主要针对常态性变动的文件,包括缓存(cache)、登录档(log file)以及某些软件运作所产生的文件, 包括程序文件(lock file, run file),或者例如MySQL数据库的文件等等. 所以/var在系统运作后才会渐渐占用硬盘容量的目录</li>
</ul>
<p>常见的次目录有：</p>
<table>
<thead>
<tr>
<th style="text-align:center">目录</th>
<th style="text-align:left">应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/var/cache/</td>
<td style="text-align:left">应用程序本身运作过程中会产生的一些暂存档；</td>
</tr>
<tr>
<td style="text-align:center">/var/lib/</td>
<td style="text-align:left">程序本身执行的过程中,需要使用到的数据文件放置的目录.在此目录下各自的软件应该要有各自的目录. 举例来说,MySQL的数据库放置到/var/lib/mysql/而rpm的数据库则放到/var/lib/rpm去！</td>
</tr>
<tr>
<td style="text-align:center">/var/lock/</td>
<td style="text-align:left">某些装置或者是文件资源一次只能被一个应用程序所使用,如果同时有两个程序使用该装置时, 就可能产生一些错误的状况,因此就得要将该装置上锁(lock),以确保该装置只会给单一软件所使用. 举例来说,刻录机正在刻录一块光盘,你想一下,会不会有两个人同时在使用一个刻录机烧片？ 如果两个人同时刻录,那片子写入的是谁的数据？所以当第一个人在刻录时该刻录机就会被上锁, 第二个人就得要该装置被解除锁定(就是前一个人用完了)才能够继续使用啰.</td>
</tr>
<tr>
<td style="text-align:center">/var/log/</td>
<td style="text-align:left">重要到不行！这是登录文件放置的目录！里面比较重要的文件如/var/log/messages, /var/log/wtmp(记录登入者的信息)等.</td>
</tr>
<tr>
<td style="text-align:center">/var/mail/</td>
<td style="text-align:left">放置个人电子邮件信箱的目录,不过这个目录也被放置到/var/spool/mail/目录中！ 通常这两个目录是互为链接文件啦！</td>
</tr>
<tr>
<td style="text-align:center">/var/run/</td>
<td style="text-align:left">某些程序或者是服务启动后,会将他们的PID放置在这个目录下喔！ 至于PID的意义我们会在后续章节提到的.</td>
</tr>
<tr>
<td style="text-align:center">/var/spool/</td>
<td style="text-align:left">这个目录通常放置一些队列数据,所谓的『队列』就是排队等待其他程序使用的数据啦！ 这些数据被使用后通常都会被删除.举例来说,系统收到新信会放置到/var/spool/mail/中, 但使用者收下该信件后该封信原则上就会被删除.信件如果暂时寄不出去会被放到/var/spool/mqueue/中, 等到被送出后就被删除.如果是工作排程数据(crontab),就会被放置到/var/spool/cron/目录中！</td>
</tr>
</tbody>
</table>
<p><img src="/res/img/blog/linux学习/2015-05-27.png" alt="2012090616454275"></p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下SSH命令用法小结]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/05/27/linux%E5%AD%A6%E4%B9%A0-2015-05-27-linux%E4%B8%8BSSH%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%BB%93/</url>
      <content type="html"><![CDATA[<hr>
<p>SSH为Secure Shell的缩写，由IETF的网络工作小组（Network Working Group）所制定；SSH为创建在应用层和传输层基础上的安全协议。<br>在我们日常的工作中，经常涉及到维护服务器，那么为了方便操作，以及安全方面的考虑，通常我们都会在服务器上安装ssh服务端，这样，在我们自己的机器上通过ssh客户端工具连接到服务器，既方便又安全。下面说说ssh应用的基本功能。</p>
<a id="more"></a>
<h4 id="1、连接到远程主机："><a href="#1、连接到远程主机：" class="headerlink" title="1、连接到远程主机："></a><strong><em>1、连接到远程主机：</em></strong></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssh name@remoteserver</div><div class="line">;或者</div><div class="line">ssh remoteserver <span class="_">-l</span> name</div></pre></td></tr></table></figure>
<p><strong><em>说明：</em></strong>以上两种方式都可以远程登录到远程主机，server代表远程主机，name为登录远程主机的用户名。</p>
<h4 id="2、连接到远程主机指定的端口："><a href="#2、连接到远程主机指定的端口：" class="headerlink" title="2、连接到远程主机指定的端口："></a><strong><em>2、连接到远程主机指定的端口：</em></strong></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssh name@remoteserver -p 2222</div><div class="line">;或者</div><div class="line">ssh remoteserver <span class="_">-l</span> name –p 2222</div></pre></td></tr></table></figure>
<p><strong><em>说明：</em></strong>p 参数指定端口号，通常在路由里做端口映射时，我们不会把22端口直接映射出去，而是转换成其他端口号，这时就需要使用-p 端口号命令格式。</p>
<h4 id="3、通过远程主机1跳到远程主机2："><a href="#3、通过远程主机1跳到远程主机2：" class="headerlink" title="3、通过远程主机1跳到远程主机2："></a><strong><em>3、通过远程主机1跳到远程主机2：</em></strong></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -t remoteserver1 ssh remoteserver2</div></pre></td></tr></table></figure>
<p><strong><em>说明：</em></strong>当远程主机remoteserver2无法直接到达时，可以使用-t参数，然后由remoteserver1跳转到remoteserver2。在此过程中要先输入remoteserver1的密码，然后再输入remoteserver2的密码，然后就可以操作remoteserver2了。</p>
<h4 id="4、通过SSH运行远程shell命令："><a href="#4、通过SSH运行远程shell命令：" class="headerlink" title="4、通过SSH运行远程shell命令："></a><strong><em>4、通过SSH运行远程shell命令：</em></strong></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh <span class="_">-l</span> name remoteserver ‘<span class="built_in">command</span>’</div></pre></td></tr></table></figure>
<p><strong><em>说明：</em></strong>连接到远程主机，并执行远程主机的command命令。例如：查看远程主机的内存使用情况。</p>
<h4 id="5、修改SSH监听端口："><a href="#5、修改SSH监听端口：" class="headerlink" title="5、修改SSH监听端口："></a><strong><em>5、修改SSH监听端口：</em></strong></h4><p>&gt;<br>默认情况下，SSH监听连接端口22，攻击者使用端口扫描软件就可以看到主机是否运行有SSH服务，将SSH端口修改为大于1024的端口是一个明智的选择，因为大多数端口扫描软件（包括nmap）默认情况都不扫描高位端口。打开/etc/ssh/sshd_config文件并查找下面这样的行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Port  22</div><div class="line">``` </div><div class="line"></div><div class="line">去掉该行前面的<span class="comment"># 号，然后修改端口号并重新启动SSH服务：</span></div><div class="line"></div><div class="line">```sh</div><div class="line">$ /etc/init.d/ssh restart</div></pre></td></tr></table></figure>
<h4 id="6、仅允许SSH协议版本2："><a href="#6、仅允许SSH协议版本2：" class="headerlink" title="6、仅允许SSH协议版本2："></a><strong><em>6、仅允许SSH协议版本2：</em></strong></h4><p>&gt;<br>有两个SSH协议版本，仅使用SSH协议版本2会更安全，SSH协议版本1有安全问题，包括中间人攻击（man-in-the-middle）和注入（insertion）攻击。编辑/etc/ssh/sshd_config文件并查找下面这样的行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Protocol 2,1</span></div></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Protocol 2</div></pre></td></tr></table></figure>
<h4 id="7、禁止root用户登录："><a href="#7、禁止root用户登录：" class="headerlink" title=" 7、禁止root用户登录："></a><strong><em> 7、禁止root用户登录：</em></strong></h4><p>&gt;<br>通常情况下，不采用直接用root用户登录到远程主机，由于root用户拥有超级权限，这样会带来安全隐患，所以，一般我们用普通用户登录，当需要管理远程主机时，再切换到root用户下。打开/etc/ssh/sshd_config文件并查找下面这样的行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#PermitRootLogin yes</span></div></pre></td></tr></table></figure>
<p> 将#号去掉，然后将yes修改成no，重启ssh服务，这样就可以禁止root用户登录。</p>
<h4 id="8、设置登录时提示信息"><a href="#8、设置登录时提示信息" class="headerlink" title="8、设置登录时提示信息"></a><strong><em>8、设置登录时提示信息</em></strong></h4><p>&gt;<br>首先编辑一个文件，如bannertest.txt，文件内容自行定义。然后打开/etc/ssh/sshd_config文件并查找下面这样的行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#Banner /some/path</span></div></pre></td></tr></table></figure>
<p>将#号去掉，然后将bannertest.txt文件的全路径替换/some/path，然后保存，重启ssh服务。当客户端登录时，就会看到bannertest.txt文件中的提示信息。</p>
<h4 id="9、scp命令："><a href="#9、scp命令：" class="headerlink" title="9、scp命令："></a><strong><em>9、scp命令：</em></strong></h4><p>&gt;<br>scp命令是SSH中最方便有用的命令，可以在两台服务器之间传送文件。并且在传输过程中仍是使用ssh加密的。</p>
<p> 将远程主机的/tmp/test 文件复制到本地的/bak文件夹下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp -p root@192.168.1.120:/tmp/<span class="built_in">test</span> /bak</div></pre></td></tr></table></figure>
<p>将本地/bak/1234 文件复制到远程主机的/tmp路径下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp -p /bak/1234 root@192.168.1.120:/tmp</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[远程开机包封装]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/05/19/Python%E5%AD%A6%E4%B9%A0-2015-05-19-Wake-on-lan%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA/</url>
      <content type="html"><![CDATA[<ul>
<li>使用方法<ul>
<li>同一局域网内的机器，只需指定目标主机的MAC地址，就令远程主机开机。</li>
<li>非同一局域网的情况下，除需指定目标主机的MAC地址，还需指定目标主机的地址。</li>
</ul>
</li>
</ul>
<a id="more"></a>
<ul>
<li>示例：<ul>
<li>同一局域网内的使用示例：./wake_on_lan.py -m 12-34-56-78-90-AB</li>
<li>非同一局域网的使用示例：./wake_on_lan.py -m 12-34-56-78-90-AB -a 8.8.8.8</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding=utf-8</span></div><div class="line"><span class="keyword">from</span> optparse <span class="keyword">import</span> OptionParser</div><div class="line"><span class="keyword">import</span> socket</div><div class="line"><span class="keyword">import</span> struct</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">wake</span><span class="params">(addr, mac)</span>:</span></div><div class="line">    mac_data = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">12</span>, <span class="number">2</span>):</div><div class="line">        mac_data.append(int(mac[i:i+<span class="number">2</span>], <span class="number">16</span>))</div><div class="line">    packet = struct.pack(<span class="string">"!BBBBBB"</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>);</div><div class="line">    packet_mac = struct.pack(<span class="string">"!BBBBBB"</span>, *mac_data)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">16</span>):</div><div class="line">        packet += packet_mac</div><div class="line">    <span class="comment">#print "len: ", len(packet), "data: ", packet</span></div><div class="line">    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</div><div class="line">    s.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, <span class="number">1</span>)</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        s.sendto(packet, addr)</div><div class="line">        <span class="keyword">print</span> <span class="string">"唤醒数据包发送完成"</span>, addr, mac</div><div class="line">    <span class="keyword">finally</span>:</div><div class="line">        s.close()</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    usage = <span class="string">"%prog [options]"</span></div><div class="line">    parser = OptionParser(usage = usage)</div><div class="line">    parser.add_option(<span class="string">"-a"</span>, <span class="string">"--addr"</span>, dest=<span class="string">"addr"</span>, help=<span class="string">"Boardcast address"</span>, metavar=<span class="string">"255.255.255.255"</span>)</div><div class="line">    parser.add_option(<span class="string">"-p"</span>, <span class="string">"--port"</span>, dest=<span class="string">"port"</span>, help=<span class="string">"Port"</span>, metavar=<span class="string">"7"</span>)</div><div class="line">    parser.add_option(<span class="string">"-m"</span>, <span class="string">"--mac"</span>, dest=<span class="string">"mac"</span>, help=<span class="string">"MAC address"</span>, metavar=<span class="string">"FF-FF-FF-FF-FF-FF"</span>)</div><div class="line">    (options, args) = parser.parse_args()</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> options.mac:</div><div class="line">        parser.print_help()</div><div class="line">        <span class="keyword">return</span></div><div class="line">    addr = <span class="string">"255.255.255.255"</span></div><div class="line">    port = <span class="number">7</span></div><div class="line">    mac = options.mac.replace(<span class="string">"-"</span>, <span class="string">""</span>)</div><div class="line">    <span class="keyword">if</span> options.addr:</div><div class="line">        addr = options.addr</div><div class="line">    <span class="keyword">if</span> len(mac) != <span class="number">12</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">"无效的MAC地址: %s"</span> % options.mac</div><div class="line">        <span class="keyword">return</span></div><div class="line">    <span class="keyword">if</span> options.port:</div><div class="line">        port = int(options.port)</div><div class="line">    wake((addr, port), mac)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux系统信息命令]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/05/19/linux%E5%AD%A6%E4%B9%A0-2015-05-19-linux%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<hr>
<p><strong>linux系统信息</strong></p>
<ul>
<li>查看内核/操作系统/CPU信息 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uname <span class="_">-a</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<ul>
<li>查看操作系统版本 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head -n 1 /etc/issue</div></pre></td></tr></table></figure>
<ul>
<li>查看CPU信息 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/cpuinfo</div></pre></td></tr></table></figure>
<ul>
<li>查看计算机名</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hostname</div></pre></td></tr></table></figure>
<ul>
<li>列出所有PCI设备 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lspci -tv</div></pre></td></tr></table></figure>
<ul>
<li>列出所有USB设备</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsusb -tv</div></pre></td></tr></table></figure>
<ul>
<li>列出加载的内核模块 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsmod</div></pre></td></tr></table></figure>
<ul>
<li>查看环境变量 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">env</div></pre></td></tr></table></figure>
<ul>
<li>显示机器的处理器架构(1)</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arch</div></pre></td></tr></table></figure>
<ul>
<li>显示机器的处理器架构(2) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uname -m</div></pre></td></tr></table></figure>
<ul>
<li>显示正在使用的内核版本</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uname -r</div></pre></td></tr></table></figure>
<ul>
<li>显示硬件系统部件</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dmidecode -q</div></pre></td></tr></table></figure>
<ul>
<li>罗列一个磁盘的架构特性 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hdparm -i /dev/hda</div></pre></td></tr></table></figure>
<ul>
<li>在磁盘上执行测试性读取操作</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hdparm -tT /dev/sda</div></pre></td></tr></table></figure>
<ul>
<li>显示中断</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/interrupts</div></pre></td></tr></table></figure>
<ul>
<li>校验内存使用 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/meminfo</div></pre></td></tr></table></figure>
<ul>
<li>显示哪些swap被使用 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/swaps</div></pre></td></tr></table></figure>
<ul>
<li>显示内核的版本</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/version</div></pre></td></tr></table></figure>
<ul>
<li>显示网络适配器及统计</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/net/dev</div></pre></td></tr></table></figure>
<ul>
<li>显示已加载的文件系统</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/mounts</div></pre></td></tr></table></figure>
<ul>
<li>显示系统日期 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">date</div></pre></td></tr></table></figure>
<ul>
<li>显示2015年的日历表</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">	cal 2015</div><div class="line">``` </div><div class="line"></div><div class="line">* 设置日期和时间 – 月日时分年.秒</div><div class="line"></div><div class="line">```sh</div><div class="line">	date 041217002007.00</div></pre></td></tr></table></figure>
<ul>
<li>将时间修改保存到 BIOS</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">clock -w</div></pre></td></tr></table></figure>
<p><strong>系统的关机、重启以及登出</strong></p>
<ul>
<li>关闭系统(1) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shutdown -h now</div></pre></td></tr></table></figure>
<ul>
<li>关闭系统(2) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">init 0</div></pre></td></tr></table></figure>
<ul>
<li>关闭系统(3)</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">telinit 0</div></pre></td></tr></table></figure>
<ul>
<li>按预定时间关闭系统 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shutdown -h hours:minutes &amp;</div></pre></td></tr></table></figure>
<ul>
<li>取消按预定时间关闭系统</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shutdown -c</div></pre></td></tr></table></figure>
<ul>
<li>重启  (1) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shutdown -r now</div></pre></td></tr></table></figure>
<ul>
<li>重启  (2) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">reboot</div></pre></td></tr></table></figure>
<ul>
<li>注销</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">logout</span></div></pre></td></tr></table></figure>
<p><strong>查看linux系统资源</strong></p>
<ul>
<li>查看内存使用量和交换区使用量 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">free -m</div></pre></td></tr></table></figure>
<ul>
<li>查看各分区使用情况</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">df -h</div></pre></td></tr></table></figure>
<ul>
<li>查看指定目录的大小</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">du -sh &lt;目录名&gt;</div></pre></td></tr></table></figure>
<ul>
<li>查看内存总量 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep MemTotal /proc/meminfo</div></pre></td></tr></table></figure>
<ul>
<li>查看空闲内存量 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep MemFree /proc/meminfo</div></pre></td></tr></table></figure>
<ul>
<li>查看系统运行时间、用户数、负载 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uptime</div></pre></td></tr></table></figure>
<ul>
<li>查看系统负载</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/loadavg</div></pre></td></tr></table></figure>
<p><strong>查看linux磁盘和分区</strong></p>
<ul>
<li>查看挂接的分区状态 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount | column -t</div></pre></td></tr></table></figure>
<ul>
<li>查看所有分区</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fdisk <span class="_">-l</span></div></pre></td></tr></table></figure>
<ul>
<li>查看所有交换分区</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">swapon <span class="_">-s</span></div></pre></td></tr></table></figure>
<ul>
<li>查看磁盘参数(仅适用于IDE设备) </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hdparm -i /dev/hda</div></pre></td></tr></table></figure>
<ul>
<li>查看启动时IDE设备检测状况</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dmesg | grep IDE</div></pre></td></tr></table></figure>
<p><strong>查看网络配置的命令</strong></p>
<ul>
<li>查看所有网络接口的属性 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig</div></pre></td></tr></table></figure>
<ul>
<li>查看防火墙设置 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iptables -L</div></pre></td></tr></table></figure>
<ul>
<li>查看路由表</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">route -n</div></pre></td></tr></table></figure>
<ul>
<li>查看所有监听端口</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -lntp</div></pre></td></tr></table></figure>
<ul>
<li>查看所有已经建立的连接</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -antp</div></pre></td></tr></table></figure>
<ul>
<li>查看网络统计信息</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat <span class="_">-s</span></div></pre></td></tr></table></figure>
<p><strong>查看linux进程</strong></p>
<ul>
<li>查看所有进程</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ps -ef</div></pre></td></tr></table></figure>
<ul>
<li>实时显示进程状态</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">top</div></pre></td></tr></table></figure>
<p><strong>查看用户的命令</strong></p>
<ul>
<li>查看活动用户</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">w</div></pre></td></tr></table></figure>
<ul>
<li>查看指定用户信息</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">id &lt;用户名&gt;</div></pre></td></tr></table></figure>
<ul>
<li>查看用户登录日志</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">last</div></pre></td></tr></table></figure>
<ul>
<li>查看系统所有用户 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cut <span class="_">-d</span>: <span class="_">-f</span>1 /etc/passwd</div></pre></td></tr></table></figure>
<ul>
<li>查看系统所有组</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cut <span class="_">-d</span>: <span class="_">-f</span>1 /etc/group</div></pre></td></tr></table></figure>
<ul>
<li>查看当前用户的计划任务</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">crontab <span class="_">-l</span></div></pre></td></tr></table></figure>
<p><strong>查看系统服务的命令</strong></p>
<ul>
<li>列出所有系统服务 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig –list</div></pre></td></tr></table></figure>
<ul>
<li>列出所有启动的系统服务</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig –list | grep on</div></pre></td></tr></table></figure>
<p><strong>安装程序的命令</strong></p>
<ul>
<li>查看所有安装的软件包</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa</div></pre></td></tr></table></figure>
<p><strong>获取帮助的命令</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">man &lt;命令&gt;</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下mysql忘记root密码的处理方案]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/05/17/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-04-15-linux%E4%B8%8Bmysql%E5%BF%98%E8%AE%B0root%E5%AF%86%E7%A0%81%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><ul>
<li>首先确认mysql数据库处于安全状态，因为在找回密码的过程中，mysql处于没有密码保护的状态，任何人都可以连接数据库并且对数据库作出修改，建议断开对外端口，或者断开对外网线，最保险的办法就是断开对外网络同时登录服务器通过控制台操作</li>
<li></li>
</ul>
<a id="more"></a>
<h4 id="修改mysql的登录设置"><a href="#修改mysql的登录设置" class="headerlink" title="修改mysql的登录设置"></a>修改mysql的登录设置</h4><ul>
<li>修改配置文件</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /etc/my.cnf</div></pre></td></tr></table></figure>
<p>在<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&gt; skip-grant-tables </div><div class="line"></div><div class="line">* 重新启动mysqld</div><div class="line"></div><div class="line">```sh</div><div class="line">    /etc/init.d/mysqld restart</div></pre></td></tr></table></figure></p>
<ul>
<li>登录并修改mysql密码</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/usr/bin/mysql </div><div class="line">use mysql;</div><div class="line">update user <span class="built_in">set</span> password=PASSWORD(<span class="string">'p12#456'</span>) <span class="built_in">where</span> user=<span class="string">'root'</span> and host=<span class="string">'root'</span> or host=<span class="string">'localhost'</span>;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
<ul>
<li>修改配置文件并重启服务</li>
</ul>
<p>将刚才在[mysqld]的段中加上的skip-grant-tables删除 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/mysqld restart</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 6.5通过源码安装nginx]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/05/12/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-05-12-CentOS6-5%E9%80%9A%E8%BF%87%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85nginx/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h4 id="1-下载nginx源码"><a href="#1-下载nginx源码" class="headerlink" title="1.下载nginx源码"></a><strong><em>1.下载nginx源码</em></strong></h4><ul>
<li>官方网址：<a href="http://nginx.org/en/download.html" target="_blank" rel="external">http://nginx.org/en/download.html</a></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /tmp</div><div class="line"><span class="comment"># 文章写作时最新的稳定版本为1.8.0</span></div><div class="line">wget http://nginx.org/download/nginx-1.8.0.tar.gz</div></pre></td></tr></table></figure>
<ul>
<li>解压源码包</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -zxvf nginx-1.8.0.tar.gz</div></pre></td></tr></table></figure>
<h3 id="2-编译安装nginx"><a href="#2-编译安装nginx" class="headerlink" title="2.编译安装nginx"></a><strong><em>2.编译安装nginx</em></strong></h3><ul>
<li>安装依赖包文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install openssl-devel pcre-devel zlib-devel</div></pre></td></tr></table></figure>
<p><a href="ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/" target="_blank" rel="external">pcre可用包</a></p>
<ul>
<li>配置nginx编译选项</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /tmp/nginx-1.8.0</div><div class="line">./configure  --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/<span class="built_in">log</span>/nginx/error.log --http-log-path=/var/<span class="built_in">log</span>/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-http_ssl_module --with-http_realip_module --with-http_addition_module --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_random_index_module --with-http_secure_link_module --with-http_stub_status_module --with-http_auth_request_module --with-mail --with-mail_ssl_module --with-file-aio --with-ipv6 --with-http_spdy_module --with-cc-opt=<span class="string">'-O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic'</span></div></pre></td></tr></table></figure>
<ul>
<li>编译安装</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<h3 id="3-启动测试nginx"><a href="#3-启动测试nginx" class="headerlink" title="3. 启动测试nginx"></a><strong><em>3. 启动测试nginx</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/usr/sbin/nginx</div><div class="line"><span class="comment"># 提示错误</span></div><div class="line">nginx: [emerg] getpwnam(<span class="string">"nginx"</span>) failed</div></pre></td></tr></table></figure>
<ul>
<li>创建nginx用户和组</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">groupadd -r nginx</div><div class="line">useradd -r -g nginx <span class="_">-s</span> /bin/<span class="literal">false</span> -M nginx</div></pre></td></tr></table></figure>
<ul>
<li>创建相应目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 启动错误</div><div class="line">nginx: [emerg] mkdir() &quot;/var/tmp/nginx/client/&quot; failed (2: No such file or directory)</div><div class="line"># 创建对应目录</div><div class="line">mkdir /var/tmp/nginx</div></pre></td></tr></table></figure>
<ul>
<li>启动nginx</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/sbin/nginx</div></pre></td></tr></table></figure>
<h3 id="4-nginx-基本操作"><a href="#4-nginx-基本操作" class="headerlink" title="4. nginx 基本操作"></a><strong><em>4. nginx 基本操作</em></strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">查看帮助</div><div class="line">/usr/local/nginx/sbin/nginx -h</div><div class="line"></div><div class="line">立即停止进程(TERM信号)</div><div class="line">/usr/local/nginx/sbin/nginx -s stop</div><div class="line"></div><div class="line">温和停止进程(QUIT信号)</div><div class="line">/usr/local/nginx/sbin/nginx -s quit</div><div class="line"></div><div class="line">重加载</div><div class="line">/etc/init.d/nginx reload #有init脚本情况下</div><div class="line">/usr/local/nginx/sbin/nginx -s reload #原生</div><div class="line"></div><div class="line">检测配置文件是否正确</div><div class="line">/usr/local/nginx/sbin/nginx -t #生产路径下的</div><div class="line">/usr/local/nginx/sbin/nginx -t -c /home/ken/tmp/test.conf #可以测试某个临时文件</div></pre></td></tr></table></figure>
<h3 id="5-HTTP基本配置"><a href="#5-HTTP基本配置" class="headerlink" title="5. HTTP基本配置"></a><strong><em>5. HTTP基本配置</em></strong></h3><h4 id="5-1-配置说明"><a href="#5-1-配置说明" class="headerlink" title="5.1 配置说明"></a><strong>5.1 配置说明</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">注释，#</div><div class="line">每条指令总是以分号结束(;)</div><div class="line">配置继承：在一个区块中嵌套其他区段，那么被嵌套的区段会继承其父区段的设置</div><div class="line">字符串，可以没有引号，但是如果存在特殊字符（空格，分号，花括号）需要用引号引起</div><div class="line">单位：大小(k/K m/M) 时间值(ms/s/m/h/d/w/M/y 默认s)</div><div class="line">模块提供各种变量值，可以进行读取和赋值（每个模块提供变量列表需要自己去查）</div></pre></td></tr></table></figure>
<h4 id="5-2-配置文件目录结构"><a href="#5-2-配置文件目录结构" class="headerlink" title="5.2 配置文件目录结构"></a><strong>5.2 配置文件目录结构</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">/usr/local/nginx/conf/</div><div class="line"></div><div class="line">- mime.types 一个文件扩展列表，它们与MIME类型关联</div><div class="line">- fastcgi.conf 与FastCGI相关的配置文件</div><div class="line">- proxy.conf 与Proxy相关的配置文件</div><div class="line">- nginx.conf 应用程序的基本配置文件</div><div class="line">- sites/</div><div class="line">    |- a.conf #允许给每个单独网站建立一个配置文件</div><div class="line">    |- b.conf</div><div class="line">    |- dir/</div><div class="line">        |- c.conf</div><div class="line"></div><div class="line">需要在nginx.conf中使用包含命令</div><div class="line">include sites/*.conf;</div><div class="line">include sites/*/*.conf;</div></pre></td></tr></table></figure>
<h4 id="5-3-配置文件结构"><a href="#5-3-配置文件结构" class="headerlink" title="5.3 配置文件结构"></a><strong>5.3 配置文件结构</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">http &#123; #嵌入配置文件的根部， 一个http里可以配置多个server</div><div class="line"></div><div class="line">    server &#123; #声明一个站点</div><div class="line">        server_name www.website.com; #监听的主机名</div><div class="line">        listen 80; #监听套接字所使用的ip地址和端口号</div><div class="line"></div><div class="line">        error_page 404 /not_found.html;</div><div class="line">        error_page 500 501 502 503 504 /server_error.html;</div><div class="line"></div><div class="line">        index index.html;</div><div class="line"></div><div class="line">        root /var/www/website/com/html; #定义文档的根目录</div><div class="line"></div><div class="line">        #location, 通过制定的模式与客户端请求的URI相匹配</div><div class="line">        location / &#123; #网站的特定位置</div><div class="line">        &#125;</div><div class="line">        location /admin/ &#123; #网站的特定位置 #</div><div class="line">            alias /var/www/locked/; #只能放在 location区段中，为指定路径提供别名</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        #操作符,匹配时跟定义顺序无关</div><div class="line">        location = /abcd &#123; #精确匹配，不能用正则</div><div class="line">        &#125;</div><div class="line">        location /abc/ &#123; #url必须以指定模式开始，不能用正则</div><div class="line">        &#125;</div><div class="line">        location ^~ /abcd$ &#123; #吴标致行为，URI定位必须以指定模式开始，如果匹配，停止搜索其他模式</div><div class="line">        &#125;</div><div class="line">        location ~ ^/abcd$ &#123; #正则匹配，区分大小写</div><div class="line">        &#125;</div><div class="line">        location ~* ^/abcd$ &#123; #正则匹配，不区分大小写</div><div class="line">        &#125;</div><div class="line">        location @test  &#123; #定义location区段名，客户端不能访问，内部产生的请求可以,例如try_files或error_page</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-模块"><a href="#6-模块" class="headerlink" title="6. 模块"></a><strong>6. 模块</strong></h3><h4 id="6-1-模块化"><a href="#6-1-模块化" class="headerlink" title="6.1 模块化"></a><strong>6.1 模块化</strong></h4><p>nginx真正的魅力在于它的模块，整个应用程序建立在一个模块化系统之上，在编译时，可以对每一个模块进行启用或者禁用</p>
<h4 id="6-2-index模块"><a href="#6-2-index模块" class="headerlink" title="6.2 index模块"></a><strong>6.2 index模块</strong></h4><p>定义去哪里找index,可以定义多个，但是 nginx 只提供第一个找到的文件；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">index index.php index.html /data/website/index.html;</div><div class="line">#可以指定多个，但是ngxin提供第一个找到的文件</div></pre></td></tr></table></figure>
<h4 id="6-3-Log模块"><a href="#6-3-Log模块" class="headerlink" title="6.3 Log模块"></a><strong>6.3 Log模块</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">access_log /file/path;</div><div class="line">error_log /file/path error;  #level: debug/info/notice/warn/error/crit</div></pre></td></tr></table></figure>
<p>日志格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">log_format main $remote_addr - $remote_user [$time_local] &quot;$request&quot;  $status $body_bytes_sent &quot;$http_referer&quot; &quot;$http_user_agent&quot; $http_x_forwarded_for;</div><div class="line"></div><div class="line">access_log /var/log/test.log main;</div></pre></td></tr></table></figure>
<h4 id="6-4-Real-IP模块"><a href="#6-4-Real-IP模块" class="headerlink" title="6.4 Real IP模块"></a><strong>6.4 Real IP模块</strong></h4><p>默认编译nginx不包含这个模块</p>
<p>当通过nginx将用户请求进行转发时，接收请求的应用要拿到用户的真实IP(经转发拿到的是服务器的IP)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">real_ip_header X-Forwarded-For;</div></pre></td></tr></table></figure>
<h4 id="6-5-Access模块"><a href="#6-5-Access模块" class="headerlink" title="6.5 Access模块"></a><strong>6.5 Access模块</strong></h4><p>可以禁用ip段, 语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#如果规则之间有冲突，会以最前面匹配的规则为准</div><div class="line">deny IP;</div><div class="line">deny subnet;</div><div class="line">allow IP;</div><div class="line">allow subnet;</div><div class="line"># block all ips</div><div class="line">deny    all;</div><div class="line"># allow all ips</div><div class="line">allow    all;</div></pre></td></tr></table></figure>
<p>配置一个blockips.conf,然后在nginx.conf中include</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">location &#123;</div><div class="line">    allow 127.0.0.1; #允许本地ip 注意顺序，allow要放在前面</div><div class="line">    deny all; #禁止其他ip</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-6-Rewrite模块"><a href="#6-6-Rewrite模块" class="headerlink" title="6.6 Rewrite模块"></a><strong>6.6 Rewrite模块</strong></h4><p>作用：执行URL重定向,允许你去掉带有恶意的URL，包含多个参数（修改）<br>利用正则的匹配，分组和引用，达到目的break/return/set等</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">rewrite A B option;</div><div class="line">options:</div><div class="line">        last :表示完成rewrite</div><div class="line">        break:本规则匹配完成后，终止匹配，不再匹配后面的规则</div><div class="line">        redirect:返回302临时重定向，地址栏会显示跳转后的地址</div><div class="line">        permanent:返回301永久重定向，地址栏会显示跳转后的地址</div></pre></td></tr></table></figure>
<h4 id="6-7-Proxy模块"><a href="#6-7-Proxy模块" class="headerlink" title="6.7 Proxy模块"></a><strong>6.7 Proxy模块</strong></h4><p>默认模块，允许你把客户端的HTTP请求转到后端服务器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">location / &#123;</div><div class="line">    proxy_pass_header Server;  #该指令强制一些被忽略的头传递到客户端</div><div class="line">    proxy_redirect off; #允许改写出现在HTTP头却被后端服务器触发重定向的URL,对相应本身不做任何处理</div><div class="line">    proxy_set_header Host $http_host; #允许你重新定义代理header值再转到后端服务器.目标服务器可以看到客户端的原始主机名</div><div class="line">    proxy_set_header X-Real-IP $remote_addr; #目标服务器可以看到客户端的真实ip，而不是转发服务器的ip</div><div class="line">    proxy_set_header X-Scheme $scheme;</div><div class="line">    proxy_pass http://localhost:8080;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>upstream模块</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">upstream up_name &#123;</div><div class="line">    server 192.168.0.1:9000 weight=5; #权重</div><div class="line">    server 192.168.0.2:9000 weight=5 max_fails=5 fail_timeout=60s; #在60s内，其错误通信超过5次,认为该服务失效</div><div class="line">    server 192.168.0.3:9000 down; #服务标记为离线，不再使用</div><div class="line">    server 192.168.0.4:9000 backup; #备份服务器，其他全部宕机了才启用</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="7-配置静态化目录"><a href="#7-配置静态化目录" class="headerlink" title="7. 配置静态化目录"></a><strong>7. 配置静态化目录</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">location /static/</div><div class="line">&#123;</div><div class="line">    root /var/www/app/;</div><div class="line">    autoindex off;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="8-负载均衡"><a href="#8-负载均衡" class="headerlink" title="8. 负载均衡"></a><strong>8. 负载均衡</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line">    include mime.types;</div><div class="line">    default_type application/octet-stream;</div><div class="line"></div><div class="line">    keepalive_timeout 120;</div><div class="line"></div><div class="line">    tcp_nodelay on;</div><div class="line"></div><div class="line">    upstream up_localhost &#123;</div><div class="line">        server 127.0.0.1:8000 weight=5;</div><div class="line">        server 127.0.0.1:8001 weight=10;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    server &#123;</div><div class="line">        listen 80;</div><div class="line"></div><div class="line">        server_name localhost;</div><div class="line"></div><div class="line">        location /&#123;</div><div class="line">            proxy_pass http://up_localhost;</div><div class="line">            proxy_set_header Host $host;</div><div class="line">            proxy_set_header X-Real_IP $remote_addr;</div><div class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-控制页面缓存"><a href="#9-控制页面缓存" class="headerlink" title="9. 控制页面缓存"></a><strong>9. 控制页面缓存</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">location ~ \.(htm|html|gif|jpg|jpeg|png|bmp|ico|css|js|txt)$ &#123;</div><div class="line">    root /opt/webapp;</div><div class="line">    expires 24h;</div><div class="line">&#125;</div><div class="line"></div><div class="line">expires 1 January, 1970, 00:00:01 GMT;</div><div class="line">expires 60s;</div><div class="line">expires 30m;</div><div class="line">expires 24h;</div><div class="line">expires 1d;</div><div class="line">expires max;</div><div class="line">expires off;</div></pre></td></tr></table></figure>
<h3 id="10-nginx的内置变量"><a href="#10-nginx的内置变量" class="headerlink" title="10. nginx的内置变量"></a><strong>10. nginx的内置变量</strong></h3><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">$arg_PARAMETER 这个变量包含在查询字符串时GET请求PARAMETER的值。</div><div class="line">$args 这个变量等于请求行中的参数。</div><div class="line">$binary_remote_addr 二进制码形式的客户端地址。</div><div class="line">$body_bytes_sent</div><div class="line">$content_length 请求头中的Content-length字段。</div><div class="line">$content_type 请求头中的Content-Type字段。</div><div class="line">$cookie_COOKIE cookie COOKIE的值。</div><div class="line">$document_root 当前请求在root指令中指定的值。</div><div class="line">$document_uri 与$uri相同。</div><div class="line">$host 请求中的主机头字段，如果请求中的主机头不可用，则为服务器处理请求的服务器名称。</div><div class="line">$is_args 如果$args设置，值为&quot;?&quot;，否则为&quot;&quot;。</div><div class="line">$limit_rate 这个变量可以限制连接速率。</div><div class="line">$nginx_version 当前运行的nginx版本号。</div><div class="line">$query_string 与$args相同。</div><div class="line">$remote_addr 客户端的IP地址。</div><div class="line">$remote_port 客户端的端口。</div><div class="line">$remote_user 已经经过Auth Basic Module验证的用户名。</div><div class="line">$request_filename 当前连接请求的文件路径，由root或alias指令与URI请求生成。</div><div class="line">$request_body 这个变量（0.7.58+）包含请求的主要信息。在使用proxy_pass或fastcgi_pass指令的location中比较有意义。</div><div class="line">$request_body_file 客户端请求主体信息的临时文件名。</div><div class="line">$request_completion 请求完成</div><div class="line">$request_method 这个变量是客户端请求的动作，通常为GET或POST。包括0.8.20及之前的版本中，这个变量总为main request中的动作，如果当前请求是一个子请求，并不使用这个当前请求的动作。</div><div class="line">$request_uri 这个变量等于包含一些客户端请求参数的原始URI，它无法修改，请查看$uri更改或重写URI。</div><div class="line">$schemeHTTP 方法（如http，https）。按需使用，例：</div><div class="line">rewrite ^(.+)$ $scheme://example.com$1 redirect;</div><div class="line">$server_addr 服务器地址，在完成一次系统调用后可以确定这个值，如果要绕开系统调用，则必须在listen中指定地址并且使用bind参数。</div><div class="line">$server_name 服务器名称。</div><div class="line">$server_port 请求到达服务器的端口号。</div><div class="line">$server_protocol 请求使用的协议，通常是HTTP/1.0或HTTP/1.1。</div><div class="line">$uri 请求中的当前URI(不带请求参数，参数位于$args)，可以不同于浏览器传递的$request_uri的值，它可以通过内部重定向，或者使用index指令进行修改。</div></pre></td></tr></table></figure>
</code></pre><p>参考链接：</p>
<p><a href="http://www.wklken.me/posts/2013/11/23/nginx-base.html" target="_blank" rel="external">http://www.wklken.me/posts/2013/11/23/nginx-base.html</a></p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 6.5安装配置MySQL数据库]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/05/04/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-05-04-CentOS6-5%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h4 id="1-卸载原有数据库"><a href="#1-卸载原有数据库" class="headerlink" title="1.卸载原有数据库"></a><strong><em>1.卸载原有数据库</em></strong></h4><blockquote>
<ul>
<li>1.1 查询是否安装了数据库</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa | grep mysql</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>1.2卸载mysql数据库</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 普通删除模式</span></div><div class="line">rpm <span class="_">-e</span> mysql</div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#  强力删除模式，如果使用上面命令删除时，提示有依赖的其它文件，则用该命令可以对其进行强力删除</span></div><div class="line">rpm <span class="_">-e</span> --nodeps mysql</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>1.3 检查是否卸载成功</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa | grep mysql</div></pre></td></tr></table></figure>
<h4 id="2-mysql安装"><a href="#2-mysql安装" class="headerlink" title="2.mysql安装"></a><strong><em>2.mysql安装</em></strong></h4><blockquote>
<ul>
<li>2.1 查看可用的mysql版本</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum list | grep mysql</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>2.2 更新YUM源</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 第一步 在这里http://dev.mysql.com/downloads/repo/yum/选择对应的版本链接</span></div><div class="line"><span class="comment"># 第二步 更新源sudo rpm -Uvh 你选择的对应的连接 或者对于linux 6 (# wget http://dev.mysql.com/get/mysql57-community-release-el6-7.noarch.rpm # yum localinstall mysql57-community-release-el6-7.noarch.rpm)</span></div><div class="line"><span class="comment"># 第三步 查看默认的安装状态 yum repolist all | grep mysql</span></div><div class="line"><span class="comment"># 第四步 禁用和启用 yum-config-manager --disable mysql56-community 和 yum-config-manager --enable mysql57-community-dmr</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>2.3 安装数据库以及依赖文件</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install -y mysql-server mysql mysql-devel</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>2.4 查看安装mysql的状态</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qi mysql-server</div></pre></td></tr></table></figure>
<h4 id="3-mysql数据库的初始化及相关配置"><a href="#3-mysql数据库的初始化及相关配置" class="headerlink" title="3.mysql数据库的初始化及相关配置"></a><strong><em>3.mysql数据库的初始化及相关配置</em></strong></h4><blockquote>
<ul>
<li>3.1 启动数据库服务</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">	service mysqld start</div><div class="line">``` </div><div class="line"></div><div class="line">&gt; * 3.2 设置开启自启动</div><div class="line"></div><div class="line">```sh</div><div class="line">	<span class="comment"># 检查是否开启自启动</span></div><div class="line">	chkconfig --list | grep mysqld</div></pre></td></tr></table></figure>
<p>and</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置开机自启动</span></div><div class="line">chkconfig mysqld on</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>3.3　为root用户设置密码</li>
</ul>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#通过该命令给root账号设置密码为 root</span></div><div class="line">mysqladmin -u root password <span class="string">'root'</span></div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 为root账号设置密码</span></div><div class="line">/usr/bin/mysqladmin -u root password <span class="string">'new-password'</span></div></pre></td></tr></table></figure>
<p>特别说明5.7以后的版本的密码修改策略：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 默认密码在日至文件里面</span></div><div class="line"><span class="comment"># 第一步 获取默认随机密码 sudo grep 'temporary password' /var/log/mysqld.log</span></div><div class="line"><span class="comment"># 第二步 登陆 mysql -uroot -p </span></div><div class="line"><span class="comment"># 第三步 修改密码 ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!'; </span></div><div class="line"><span class="comment"># 然后给root用户进行权限配置</span></div></pre></td></tr></table></figure>
<p><strong>特别说明</strong> mysql_secure_installation 只有在5.6版本的时候可以用。</p>
<h4 id="4-mysql数据库配置文件说明"><a href="#4-mysql数据库配置文件说明" class="headerlink" title="4.mysql数据库配置文件说明"></a><strong><em>4.mysql数据库配置文件说明</em></strong></h4><blockquote>
<ul>
<li>4.1 配置文件存放位置</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># 默认存放位置/etc/my.cnf</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>4.2 配置文件说明</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 暂时先不写了</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[windows64位python注册问题]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/04/20/Python%E5%AD%A6%E4%B9%A0-2015-04-20-windows64%E4%BD%8Dpython%E6%B3%A8%E5%86%8C%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>Windows 7 64位下安装了 Python 的64位安装包，再安装其他预编译的Library就会有找不到Python的错误。 应该是有些Key没有加入到注册表中，需要运行下面的脚本修正。</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># script to register Python 2.0 or later for use with win32all</span></div><div class="line"><span class="comment"># and other extensions that require Python registry settings</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># written by Joakim Loew for Secret Labs AB / PythonWare</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># source:</span></div><div class="line"><span class="comment"># http://www.pythonware.com/products/works/articles/regpy20.htm</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># modified by Valentine Gogichashvili as described in http://www.mail-archive.com/distutils-sig@python.org/msg10512.html</span></div><div class="line"> </div><div class="line"><span class="keyword">import</span> sys</div><div class="line"> </div><div class="line"><span class="keyword">from</span> _winreg <span class="keyword">import</span> *</div><div class="line"> </div><div class="line"><span class="comment"># tweak as necessary</span></div><div class="line">version = sys.version[:<span class="number">3</span>]</div><div class="line">installpath = sys.prefix</div><div class="line"> </div><div class="line">regpath = <span class="string">"SOFTWARE\\Python\\Pythoncore\\%s\\"</span> % (version)</div><div class="line">installkey = <span class="string">"InstallPath"</span></div><div class="line">pythonkey = <span class="string">"PythonPath"</span></div><div class="line">pythonpath = <span class="string">"%s;%s\\Lib\\;%s\\DLLs\\"</span> % (</div><div class="line">    installpath, installpath, installpath</div><div class="line">)</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">RegisterPy</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        reg = OpenKey(HKEY_CURRENT_USER, regpath)</div><div class="line">    <span class="keyword">except</span> EnvironmentError <span class="keyword">as</span> e:</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            reg = CreateKey(HKEY_CURRENT_USER, regpath)</div><div class="line">            SetValue(reg, installkey, REG_SZ, installpath)</div><div class="line">            SetValue(reg, pythonkey, REG_SZ, pythonpath)</div><div class="line">            CloseKey(reg)</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"*** Unable to register!"</span></div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"--- Python"</span>, version, <span class="string">"is now registered!"</span></div><div class="line">        <span class="keyword">return</span></div><div class="line">    <span class="keyword">if</span> (QueryValue(reg, installkey) == installpath <span class="keyword">and</span></div><div class="line">        QueryValue(reg, pythonkey) == pythonpath):</div><div class="line">        CloseKey(reg)</div><div class="line">        <span class="keyword">print</span> <span class="string">"=== Python"</span>, version, <span class="string">"is already registered!"</span></div><div class="line">        <span class="keyword">return</span></div><div class="line">    CloseKey(reg)</div><div class="line">    <span class="keyword">print</span> <span class="string">"*** Unable to register!"</span></div><div class="line">    <span class="keyword">print</span> <span class="string">"*** You probably have another Python installation!"</span></div><div class="line"> </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    RegisterPy()</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[redis配置文件说明]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/04/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-redis%E4%B8%93%E9%A2%98-2015-04-15-redis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<p><strong><em>redis info</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">redis-cli</div><div class="line">auth 密码</div><div class="line">info</div></pre></td></tr></table></figure>
<a id="more"></a>
<ul>
<li>[server]</li>
</ul>
<p>&gt;<br>记录了 Redis 服务器的信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">redis_version</td>
<td style="text-align:left">redis服务器版本</td>
</tr>
<tr>
<td style="text-align:left">redis_git_sha1</td>
<td style="text-align:left">Git SHA1</td>
</tr>
<tr>
<td style="text-align:left">redis_git_dirty</td>
<td style="text-align:left">Git dirty flag</td>
</tr>
<tr>
<td style="text-align:left">os</td>
<td style="text-align:left">Redis 服务器的宿主操作系统</td>
</tr>
<tr>
<td style="text-align:left">arch_bits</td>
<td style="text-align:left">架构（32 或 64 位）</td>
</tr>
<tr>
<td style="text-align:left">multiplexing_api</td>
<td style="text-align:left">Redis 所使用的事件处理机制</td>
</tr>
<tr>
<td style="text-align:left">gcc_version</td>
<td style="text-align:left">编译 Redis 时所使用的 GCC 版本</td>
</tr>
<tr>
<td style="text-align:left">process_id</td>
<td style="text-align:left">服务器进程的 PID</td>
</tr>
<tr>
<td style="text-align:left">run_id</td>
<td style="text-align:left">Redis 服务器的随机标识符（用于 Sentinel 和集群）</td>
</tr>
<tr>
<td style="text-align:left">tcp_port</td>
<td style="text-align:left">TCP/IP 监听端口</td>
</tr>
<tr>
<td style="text-align:left">uptime_in_seconds</td>
<td style="text-align:left">自 Redis 服务器启动以来，经过的秒数</td>
</tr>
<tr>
<td style="text-align:left">uptime_in_days</td>
<td style="text-align:left">自 Redis 服务器启动以来，经过的天数</td>
</tr>
<tr>
<td style="text-align:left">lru_clock</td>
<td style="text-align:left">以分钟为单位进行自增的时钟，用于 LRU 管理</td>
</tr>
</tbody>
</table>
<ul>
<li>[clients]</li>
</ul>
<p>&gt;<br>记录了已链接客户端信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">connected_clients</td>
<td style="text-align:left">已连接客户端的数量（不包括通过从属服务器连接的客户端）</td>
</tr>
<tr>
<td style="text-align:left">client_longest_output_list</td>
<td style="text-align:left">当前连接的客户端当中，最长的输出列表</td>
</tr>
<tr>
<td style="text-align:left">client_longest_input_buf</td>
<td style="text-align:left">当前连接的客户端当中，最大输入缓存</td>
</tr>
<tr>
<td style="text-align:left">blocked_clients</td>
<td style="text-align:left">正在等待阻塞命令（BLPOP、BRPOP、BRPOPLPUSH）的客户端的数量</td>
</tr>
</tbody>
</table>
<ul>
<li>[memory]</li>
</ul>
<p>&gt;<br>记录了服务器的内存信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">used_memory</td>
<td style="text-align:left">由 Redis 分配器分配的内存总量，以字节（byte）为单位</td>
</tr>
<tr>
<td style="text-align:left">used_memory_human</td>
<td style="text-align:left">以人类可读的格式返回 Redis 分配的内存总量</td>
</tr>
<tr>
<td style="text-align:left">used_memory_rss</td>
<td style="text-align:left">从操作系统的角度，返回 Redis 已分配的内存总量（俗称常驻集大小）。这个值和 top 、 ps 等命令的输出一致</td>
</tr>
<tr>
<td style="text-align:left">used_memory_peak</td>
<td style="text-align:left">Redis 的内存消耗峰值（以字节为单位）</td>
</tr>
<tr>
<td style="text-align:left">used_memory_peak_human</td>
<td style="text-align:left">以人类可读的格式返回 Redis 的内存消耗峰值</td>
</tr>
<tr>
<td style="text-align:left">used_memory_lua</td>
<td style="text-align:left">Lua 引擎所使用的内存大小（以字节为单位）</td>
</tr>
<tr>
<td style="text-align:left">mem_fragmentation_ratio</td>
<td style="text-align:left">used_memory_rss 和 used_memory 之间的比率</td>
</tr>
<tr>
<td style="text-align:left">mem_allocator</td>
<td style="text-align:left">在编译时指定的， Redis 所使用的内存分配器。可以是 libc 、 jemalloc 或者 tcmalloc</td>
</tr>
</tbody>
</table>
<ul>
<li>[persistence]</li>
</ul>
<p>&gt;<br>记录了跟 RDB 持久化和 AOF 持久化有关的信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">loading</td>
<td style="text-align:left">一个标志值，记录了服务器是否正在载入持久化文件</td>
</tr>
<tr>
<td style="text-align:left">rdb_changes_since_last_save</td>
<td style="text-align:left">距离最近一次成功创建持久化文件之后，经过了多少秒</td>
</tr>
<tr>
<td style="text-align:left">rdb_bgsave_in_progress</td>
<td style="text-align:left">一个标志值，记录了服务器是否正在创建 RDB 文件</td>
</tr>
<tr>
<td style="text-align:left">rdb_last_save_time</td>
<td style="text-align:left">最近一次成功创建 RDB 文件的 UNIX 时间戳</td>
</tr>
<tr>
<td style="text-align:left">rdb_last_bgsave_status</td>
<td style="text-align:left">一个标志值，记录了最近一次创建 RDB 文件的结果是成功还是失败</td>
</tr>
<tr>
<td style="text-align:left">rdb_last_bgsave_time_sec</td>
<td style="text-align:left">记录了最近一次创建 RDB 文件耗费的秒数</td>
</tr>
<tr>
<td style="text-align:left">rdb_current_bgsave_time_sec</td>
<td style="text-align:left">如果服务器正在创建 RDB 文件，那么这个域记录的就是当前的创建操作已经耗费的秒数</td>
</tr>
<tr>
<td style="text-align:left">aof_enabled</td>
<td style="text-align:left">一个标志值，记录了 AOF 是否处于打开状态</td>
</tr>
<tr>
<td style="text-align:left">aof_rewrite_in_progress</td>
<td style="text-align:left">一个标志值，记录了服务器是否正在创建 AOF 文件</td>
</tr>
<tr>
<td style="text-align:left">aof_rewrite_scheduled</td>
<td style="text-align:left">一个标志值，记录了在 RDB 文件创建完毕之后，是否需要执行预约的 AOF 重写操作</td>
</tr>
<tr>
<td style="text-align:left">aof_last_rewrite_time_sec</td>
<td style="text-align:left">最近一次创建 AOF 文件耗费的时长</td>
</tr>
<tr>
<td style="text-align:left">aof_current_rewrite_time_sec</td>
<td style="text-align:left">如果服务器正在创建 AOF 文件，那么这个域记录的就是当前的创建操作已经耗费的秒数</td>
</tr>
<tr>
<td style="text-align:left">aof_last_bgrewrite_status</td>
<td style="text-align:left">一个标志值，记录了最近一次创建 AOF 文件的结果是成功还是失</td>
</tr>
<tr>
<td style="text-align:left">aof_current_size</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–AOF 文件目前的大小</td>
</tr>
<tr>
<td style="text-align:left">aof_base_size</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–服务器启动时或者 AOF 重写最近一次执行之后，AOF 文件的大小</td>
</tr>
<tr>
<td style="text-align:left">aof_pending_rewrite</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–一个标志值，记录了是否有 AOF 重写操作在等待 RDB 文件创建完毕之后执行</td>
</tr>
<tr>
<td style="text-align:left">aof_buffer_length</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–AOF 缓冲区的大小</td>
</tr>
<tr>
<td style="text-align:left">aof_rewrite_buffer_length</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–AOF 重写缓冲区的大小</td>
</tr>
<tr>
<td style="text-align:left">aof_pending_bio_fsync</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–后台 I/O 队列里面，等待执行的 fsync 调用数量</td>
</tr>
<tr>
<td style="text-align:left">aof_delayed_fsync</td>
<td style="text-align:left">AOF 持久化功能处于开启状态–被延迟的 fsync 调用数量</td>
</tr>
</tbody>
</table>
<ul>
<li>[stats]</li>
</ul>
<p>&gt;<br>记录了一般统计信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total_connections_received</td>
<td style="text-align:left">服务器已接受的连接请求数量</td>
</tr>
<tr>
<td style="text-align:left">total_commands_processed</td>
<td style="text-align:left">服务器已执行的命令数量</td>
</tr>
<tr>
<td style="text-align:left">instantaneous_ops_per_sec</td>
<td style="text-align:left">服务器每秒钟执行的命令数量</td>
</tr>
<tr>
<td style="text-align:left">rejected_connections</td>
<td style="text-align:left">因为最大客户端数量限制而被拒绝的连接请求数量</td>
</tr>
<tr>
<td style="text-align:left">expired_keys</td>
<td style="text-align:left">因为过期而被自动删除的数据库键数量</td>
</tr>
<tr>
<td style="text-align:left">evicted_keys</td>
<td style="text-align:left">因为最大内存容量限制而被驱逐（evict）的键数量</td>
</tr>
<tr>
<td style="text-align:left">keyspace_hits</td>
<td style="text-align:left">查找数据库键成功的次数</td>
</tr>
<tr>
<td style="text-align:left">keyspace_misses</td>
<td style="text-align:left">查找数据库键失败的次数</td>
</tr>
<tr>
<td style="text-align:left">pubsub_channels</td>
<td style="text-align:left">目前被订阅的频道数量</td>
</tr>
<tr>
<td style="text-align:left">pubsub_patterns</td>
<td style="text-align:left">目前被订阅的模式数量</td>
</tr>
<tr>
<td style="text-align:left">latest_fork_usec</td>
<td style="text-align:left">最近一次 fork() 操作耗费的毫秒数</td>
</tr>
</tbody>
</table>
<ul>
<li>[replication]</li>
</ul>
<p>&gt;<br>主/从复制信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">role</td>
<td style="text-align:left">如果当前服务器没有在复制任何其他服务器，那么这个域的值就是 master ；否则的话，这个域的值就是 slave 。注意，在创建复制链的时候，一个从服务器也可能是另一个服务器的主服务器</td>
</tr>
<tr>
<td style="text-align:left">ter_host</td>
<td style="text-align:left">从服务器—主服务器的 IP 地址</td>
</tr>
<tr>
<td style="text-align:left">master_port</td>
<td style="text-align:left">从服务器—主服务器的 TCP 监听端口号</td>
</tr>
<tr>
<td style="text-align:left">master_link_status</td>
<td style="text-align:left">从服务器—复制连接当前的状态， up 表示连接正常， down 表示连接断开</td>
</tr>
<tr>
<td style="text-align:left">master_last_io_seconds_ago</td>
<td style="text-align:left">从服务器—距离最近一次与主服务器进行通信已经过去了多少秒钟</td>
</tr>
<tr>
<td style="text-align:left">master_sync_in_progress</td>
<td style="text-align:left">从服务器—一个标志值，记录了主服务器是否正在与这个从服务器进行同步</td>
</tr>
<tr>
<td style="text-align:left">master_sync_left_bytes</td>
<td style="text-align:left">同步操作正在进行—距离同步完成还缺少多少字节数据</td>
</tr>
<tr>
<td style="text-align:left">master_sync_last_io_seconds_ago</td>
<td style="text-align:left">同步操作正在进行—距离最近一次因为 SYNC 操作而进行 I/O 已经过去了多少秒</td>
</tr>
<tr>
<td style="text-align:left">master_link_down_since_seconds</td>
<td style="text-align:left">断线状态—主从服务器连接断开了多少秒</td>
</tr>
<tr>
<td style="text-align:left">connected_slaves</td>
<td style="text-align:left">已连接的从服务器数量</td>
</tr>
</tbody>
</table>
<ul>
<li>[cpu]</li>
</ul>
<p>&gt;<br>计算量统计信息</p>
<table>
<thead>
<tr>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">used_cpu_sys</td>
<td style="text-align:left">Redis 服务器耗费的系统 CPU</td>
</tr>
<tr>
<td style="text-align:left">used_cpu_user</td>
<td style="text-align:left">Redis 服务器耗费的用户 CPU</td>
</tr>
<tr>
<td style="text-align:left">used_cpu_sys_children</td>
<td style="text-align:left">后台进程耗费的系统 CPU</td>
</tr>
<tr>
<td style="text-align:left">used_cpu_user_children</td>
<td style="text-align:left">后台进程耗费的用户 CPU</td>
</tr>
</tbody>
</table>
<ul>
<li>[keyspace]</li>
</ul>
<p>&gt;<br>记录了数据库相关的统计信息，比如数据库的键数量、数据库已经被删除的过期键数量等</p>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[刀刀亮的书单]]></title>
      <url>/%E5%88%80%E5%88%80%E7%88%B1%E5%AD%A6%E4%B9%A0/2015/04/05/%E5%88%80%E5%88%80%E7%88%B1%E5%AD%A6%E4%B9%A0-2015-04-05-%E5%88%80%E5%88%80%E4%BA%AE%E7%9A%84%E4%B9%A6%E5%8D%95/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<blockquote>
<ul>
<li><p>1.《深入理解计算机系统》</p>
</li>
<li><p>2.《代码整洁之道》</p>
</li>
<li><p>3.《高性能MySql》</p>
</li>
</ul>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 刀刀爱学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql远程表链接]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/04/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-04-02-mysql%E8%BF%9C%E7%A8%8B%E8%A1%A8%E9%93%BE%E6%8E%A5/</url>
      <content type="html"><![CDATA[<h3 id="FEDERATED简介"><a href="#FEDERATED简介" class="headerlink" title="FEDERATED简介"></a>FEDERATED简介</h3><p>FEDERATED存储引擎是访问远程数据库中的表，在平时开发中可以用此特性来访问远程库中的参数表之类的，还是非常方便的。使用时直接在本地构建一个federated表来链接远程数据表，配置好之后本地数据库可以直接和远程数据表进行同步，实际上这个数据库并不是真实存放数据，所需要的数据都是存放在远程服务器上。</p>
<a id="more"></a>
<h3 id="配置条件"><a href="#配置条件" class="headerlink" title="配置条件"></a>配置条件</h3><ul>
<li><p>mysql版本需要5.1以上；</p>
</li>
<li><p>在安装是需要把federated引擎已经安装;</p>
</li>
</ul>
<h3 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h3><ul>
<li>1.开启federated引擎；</li>
</ul>
<p>在mysql终端执行:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">show engines;</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/数据库学习/2015-04-02.png" alt="数据库引擎"></p>
<p>若是引擎关闭则需要配置开启，方式如下；</p>
<p><strong><em>修改mysql的配置文件：</em></strong></p>
<p>&gt;<br>在my.ini中[mysqld]标签下下直接加上一行 federated重启数据库服务即可</p>
<ul>
<li>2.建立远程表连接</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_test ( </div><div class="line">   <span class="keyword">id</span> <span class="built_in">BIGINT</span>(<span class="number">20</span>) <span class="keyword">UNSIGNED</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT, </div><div class="line">   <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>, </div><div class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>) </div><div class="line">) <span class="keyword">ENGINE</span>=FEDERATED <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">CONNECTION</span>=<span class="string">'mysql://root:abc@192.168.88.16:3306/dbname/tablename'</span></div></pre></td></tr></table></figure>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a><strong><em>注意</em></strong></h3><ul>
<li>1.本地的表结构必须与远程的完全一样。</li>
<li>2.远程数据库目前仅限MySQL</li>
<li>3.不支持事务</li>
<li>4.不支持表结构修改 </li>
</ul>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[redis常用命令总结]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/04/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-redis%E4%B8%93%E9%A2%98-2015-04-02-redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="系统类命令："><a href="#系统类命令：" class="headerlink" title="系统类命令："></a><strong><em>系统类命令：</em></strong></h3><ul>
<li><code>quit</code>：关闭连接（connection）</li>
<li><code>auth</code>：简单密码认证</li>
<li><code>save</code>：将数据同步保存到磁盘</li>
<li><code>bgsave</code>：将数据异步保存到磁盘</li>
<li><code>lastsave</code>：返回上次成功将数据保存到磁盘的Unix时戳</li>
<li><code>shundown</code>：将数据同步保存到磁盘，然后关闭服务</li>
<li><code>info</code>：提供服务器的信息和统计</li>
<li><code>monitor</code>：实时转储收到的请求</li>
<li><code>slaveof</code>：改变复制策略设置</li>
<li><code>config</code>：在运行时配置Redis服务器</li>
</ul>
<h3 id="对key操作的命令："><a href="#对key操作的命令：" class="headerlink" title="对key操作的命令："></a><strong><em>对key操作的命令：</em></strong></h3><ul>
<li><code>exists(key)</code>：确认一个key是否存在</li>
<li><code>del(key)</code>：删除一个key</li>
<li><code>type(key)</code>：返回值的类型</li>
<li><code>keys(pattern)</code>：返回满足给定pattern的所有key</li>
<li><code>randomkey</code>：随机返回key空间的一个</li>
<li><code>keyrename(oldname, newname)</code>：重命名key</li>
<li><code>dbsize</code>：返回当前数据库中key的数目</li>
<li><code>expire</code>：设定一个key的活动时间（s）</li>
<li><code>ttl</code>：获得一个key的活动时间</li>
<li><code>select(index)</code>：按索引查询</li>
<li><code>move(key, dbindex)</code>：移动当前数据库中的key到dbindex数据库</li>
<li><code>flushdb</code>：删除当前选择数据库中的所有key</li>
<li><code>flushall</code>：删除所有数据库中的所有key</li>
</ul>
<h3 id="对string操作的命令："><a href="#对string操作的命令：" class="headerlink" title="对string操作的命令："></a><strong><em>对string操作的命令：</em></strong></h3><ul>
<li><code>set(key, value)</code>：给数据库中名称为key的string赋予值value</li>
<li><code>get(key)</code>：返回数据库中名称为key的string的value</li>
<li><code>getset(key, value)</code>：给名称为key的string赋予上一次的value</li>
<li><code>mget(key1, key2,…, key N)</code>：返回库中多个string的value</li>
<li><code>setnx(key, value)</code>：添加string，名称为key，值为value</li>
<li><code>setex(key, time, value)</code>：向库中添加string，设定过期时间time</li>
<li><code>mset(key N, value N)</code>：批量设置多个string的值</li>
<li><code>msetnx(key N, value N)</code>：如果所有名称为key i的string都不存在</li>
<li><code>incr(key)</code>：名称为key的string增1操作</li>
<li><code>incrby(key, integer)</code>：名称为key的string增加integer</li>
<li><code>decr(key)</code>：名称为key的string减1操作</li>
<li><code>decrby(key, integer)</code>：名称为key的string减少integer</li>
<li><code>append(key, value)</code>：名称为key的string的值附加value</li>
<li><code>substr(key, start, end)</code>：返回名称为key的string的value的子串</li>
</ul>
<h3 id="对List操作的命令："><a href="#对List操作的命令：" class="headerlink" title="对List操作的命令："></a><strong><em>对List操作的命令：</em></strong></h3><ul>
<li><code>rpush(key, value)</code>：在名称为key的list尾添加一个值为value的元素</li>
<li><code>lpush(key, value)</code>：在名称为key的list头添加一个值为value的 元素</li>
<li><code>llen(key)</code>：返回名称为key的list的长度</li>
<li><code>lrange(key, start, end)</code>：返回名称为key的list中start至end之间的元素</li>
<li><code>ltrim(key, start, end)</code>：截取名称为key的list</li>
<li><code>lindex(key, index)</code>：返回名称为key的list中index位置的元素</li>
<li><code>lset(key, index, value)</code>：给名称为key的list中index位置的元素赋值</li>
<li><code>lrem(key, count, value)</code>：删除count个key的list中值为value的元素</li>
<li><code>lpop(key)</code>：返回并删除名称为key的list中的首元素</li>
<li><code>rpop(key)</code>：返回并删除名称为key的list中的尾元素</li>
<li><code>blpop(key1, key2,… key N, timeout)</code>：lpop命令的block版本。</li>
<li><code>brpop(key1, key2,… key N, timeout)</code>：rpop的block版本。</li>
<li><code>rpoplpush(srckey, dstkey)</code>：返回并删除名称为srckey的list的尾元素，并将该元素添加到名称为dstkey的list的头部</li>
</ul>
<h3 id="对Set操作的命令："><a href="#对Set操作的命令：" class="headerlink" title="对Set操作的命令："></a><strong><em>对Set操作的命令：</em></strong></h3><ul>
<li><code>sadd(key, member)</code>：向名称为key的set中添加元素member</li>
<li><code>srem(key, member)</code> ：删除名称为key的set中的元素member</li>
<li><code>spop(key)</code> ：随机返回并删除名称为key的set中一个元素</li>
<li><code>smove(srckey, dstkey, member)</code> ：移到集合元素</li>
<li><code>scard(key)</code> ：返回名称为key的set的基数</li>
<li><code>sismember(key, member)</code> ：member是否是名称为key的set的元素</li>
<li><code>sinter(key1, key2,…key N)</code> ：求交集</li>
<li><code>sinterstore(dstkey, (keys))</code> ：求交集并将交集保存到dstkey的集合</li>
<li><code>sunion(key1, (keys))</code> ：求并集</li>
<li><code>sunionstore(dstkey, (keys))</code> ：求并集并将并集保存到dstkey的集合</li>
<li><code>sdiff(key1, (keys))</code>：求差集</li>
<li><code>sdiffstore(dstkey, (keys))</code> ：求差集并将差集保存到dstkey的集合</li>
<li><code>smembers(key)</code> ：返回名称为key的set的所有元素</li>
<li><code>srandmember(key)</code> ：随机返回名称为key的set的一个元素</li>
</ul>
<h3 id="对Hash操作的命令："><a href="#对Hash操作的命令：" class="headerlink" title="对Hash操作的命令："></a><strong><em>对Hash操作的命令：</em></strong></h3><ul>
<li><code>hset(key, field, value)</code>：向名称为key的hash中添加元素field</li>
<li><code>hget(key, field)</code>：返回名称为key的hash中field对应的value</li>
<li><code>hmget(key, (fields))</code>：返回名称为key的hash中field i对应的value</li>
<li><code>hmset(key, (fields))</code>：向名称为key的hash中添加元素field </li>
<li><code>hincrby(key, field, integer)</code>：将名称为key的hash中field的value增加integer</li>
<li><code>hexists(key, field)</code>：名称为key的hash中是否存在键为field的域</li>
<li><code>hdel(key, field)</code>：删除名称为key的hash中键为field的域</li>
<li><code>hlen(key)</code>：返回名称为key的hash中元素个数</li>
<li><code>hkeys(key)</code>：返回名称为key的hash中所有键</li>
<li><code>hvals(key)</code>：返回名称为key的hash中所有键对应的value</li>
<li><code>hgetall(key)</code>：返回名称为key的hash中所有的键（field）及其对应的value</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下mysql定时备份]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/03/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-03-24-linux%E4%B8%8B%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BDmysql%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="1-在服务器上建立备份文件的存放文件夹"><a href="#1-在服务器上建立备份文件的存放文件夹" class="headerlink" title="1. 在服务器上建立备份文件的存放文件夹"></a>1. 在服务器上建立备份文件的存放文件夹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo mkdir /usr/local/dbbackup</div></pre></td></tr></table></figure>
<h3 id="2-编写备份脚本"><a href="#2-编写备份脚本" class="headerlink" title="2. 编写备份脚本"></a>2. 编写备份脚本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi dbbackup.sh</div></pre></td></tr></table></figure>
<p>在里面编写如下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysqldump -uroot -p1W8a6N0g1Y3i3F1a1N99 cusflo | gzip &gt; /usr/local/cusflo-dbback/cusflo`date +%Y-%m-%d_%H%M%S`.sql.gz</div><div class="line"></div><div class="line">cd  /usr/local/cusflo-dbback/</div><div class="line"></div><div class="line">rm -rf `find . -name &apos;*.sql.gz&apos; -mtime 30`</div></pre></td></tr></table></figure>
<h3 id="3-更改备份脚本权限"><a href="#3-更改备份脚本权限" class="headerlink" title="3.更改备份脚本权限"></a>3.更改备份脚本权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chmod +x dbbackup.sh</div></pre></td></tr></table></figure>
<h3 id="4-修改crontab定时执行脚本"><a href="#4-修改crontab定时执行脚本" class="headerlink" title="4.修改crontab定时执行脚本"></a>4.修改crontab定时执行脚本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">crontab -e</div></pre></td></tr></table></figure>
<h4 id="若每天晚上23点30备份，添加如下代码"><a href="#若每天晚上23点30备份，添加如下代码" class="headerlink" title="若每天晚上23点30备份，添加如下代码:"></a>若每天晚上23点30备份，添加如下代码:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">30 23 * * * /usr/local/dbbackscripts/dbbackup.sh</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[ubuntu下redis环境搭建]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/03/24/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-03-24-ubuntu%E4%B8%8Bredis%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h2 id="ubuntu下redis环境搭建"><a href="#ubuntu下redis环境搭建" class="headerlink" title="ubuntu下redis环境搭建"></a><strong><em>ubuntu下redis环境搭建</em></strong></h2><h3 id="1-下载安装"><a href="#1-下载安装" class="headerlink" title="1. 下载安装"></a><strong><em>1. 下载安装</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://download.redis.io/redis-stable.tar.gz</div></pre></td></tr></table></figure>
<p>然后</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo tar -zxvf redis-stable.tar.gz</div><div class="line"><span class="built_in">cd</span> redis-stable</div><div class="line">sudo make</div><div class="line">sudo make <span class="built_in">test</span></div><div class="line">sudo make install</div></pre></td></tr></table></figure>
<p><strong><em>通常在make test时发现以下错误：</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">You need tcl 8.5 or newer <span class="keyword">in</span> order to run the Redis <span class="built_in">test</span></div><div class="line">make: *** [<span class="built_in">test</span>] Error 1</div></pre></td></tr></table></figure>
<p>则需要安装tcl 参考<a href="http://www.linuxfromscratch.org/blfs/view/cvs/general/tcl.html" target="_blank" rel="external">这个网址</a></p>
<h3 id="2-创建redis文件夹"><a href="#2-创建redis文件夹" class="headerlink" title="2. 创建redis文件夹"></a><strong><em>2. 创建redis文件夹</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo mkdir /etc/redis</div><div class="line">sudo mkdir /var/redis</div></pre></td></tr></table></figure>
<h3 id="3-复制修改启动脚本"><a href="#3-复制修改启动脚本" class="headerlink" title="3. 复制修改启动脚本"></a><strong><em>3. 复制修改启动脚本</em></strong></h3><ul>
<li>将启动脚本复制到/etc/init.d目录下</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo cp utils/redis_init_script /etc/init.d/redis_6379</div></pre></td></tr></table></figure>
<ul>
<li>修改启动脚本</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/init.d/redis_6379</div></pre></td></tr></table></figure>
<p>修改其中的REDIS_PORT为自己需要的端口，同时在脚本顶部加上：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#chkconfig: 2345 80 90</span></div><div class="line"><span class="comment">#description:auto_run</span></div></pre></td></tr></table></figure>
<p>以确保服务支持chkconfig</p>
<h3 id="4-创建redis的工作目录"><a href="#4-创建redis的工作目录" class="headerlink" title="4. 创建redis的工作目录"></a><strong><em>4. 创建redis的工作目录</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo mkdir /var/redis/6379</div></pre></td></tr></table></figure>
<h3 id="5-修改配置文件"><a href="#5-修改配置文件" class="headerlink" title="5. 修改配置文件"></a><strong><em>5. 修改配置文件</em></strong></h3><ul>
<li>将redis的配置文件拷贝到/etc/redis目录下，并修改或确认参数</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sudo cp redis.conf /etc/redis/6379.conf</div><div class="line"><span class="comment">#设置daemonize为true</span></div><div class="line"><span class="comment">#设置pidfile为/var/run/redis_6379.pid</span></div><div class="line"><span class="comment">#设置loglevel</span></div><div class="line"><span class="comment">#设置logfile为/var/log/redis_6379.log</span></div><div class="line"><span class="comment">#设置dir为/var/redis/6379</span></div><div class="line"><span class="comment"># requirepass foobared去掉注释，foobared改为自己的密码</span></div></pre></td></tr></table></figure>
<h3 id="6-设置启动脚本"><a href="#6-设置启动脚本" class="headerlink" title="6. 设置启动脚本"></a><strong><em>6. 设置启动脚本</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/sbin/chkconfig --add redis_6379 &amp;&amp; /sbin/chkconfig redis_6379 on</div></pre></td></tr></table></figure>
<h3 id="7-启动redis"><a href="#7-启动redis" class="headerlink" title="7. 启动redis"></a><strong><em>7. 启动redis</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo /etc/init.d/redis_6379 start</div></pre></td></tr></table></figure>
<h3 id="8-开启防火墙的6379端口"><a href="#8-开启防火墙的6379端口" class="headerlink" title="8. 开启防火墙的6379端口"></a><strong><em>8. 开启防火墙的6379端口</em></strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">这里就不在赘述了，前面的博客有写的～～</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[gcc常见编译错误以及解决方案]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/03/23/linux%E5%AD%A6%E4%B9%A0-2015-03-23-gcc%E5%B8%B8%E8%A7%81%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<hr>
<p><strong>1. gcc: error trying to exec ‘cc1plus’: execvp: 没有那个文件或目录</strong></p>
<a id="more"></a>
<ul>
<li>该错误原因一般为没有安装g++或者g++版本和Gcc版本不统一所致，解决方案如下：</li>
</ul>
<p>更新软件版本并安装g++</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install gcc-c++</div><div class="line">sudo apt-get update</div></pre></td></tr></table></figure>
<p><strong>2. configure: error: You need a C++ compiler for C++ support.</strong></p>
<ul>
<li>该错误是在centos6.5进行构建某个包的源码时报错，解决方案如下：</li>
</ul>
<p>安装gcc和个g++</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install -y gcc gcc-c++</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux服务器监控psdash配置]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/03/21/Python%E5%AD%A6%E4%B9%A0-2015-03-21-linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%91%E6%8E%A7psdash%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<p>psdash是一款linux下的系统资源监控的web版本，和其相似的还有linux-dash.</p>
<a id="more"></a>
<p><strong>1.安装前的环境准备</strong></p>
<ul>
<li>安装python,我用的环境是python 2. 7. 9</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-pip</div><div class="line">sudo pip install python-dev</div></pre></td></tr></table></figure>
<p><strong>2.安装psdash</strong></p>
<ul>
<li>可以直接用pip进行安装</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip install psdash</div></pre></td></tr></table></figure>
<ul>
<li>或者用安装脚本</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo git <span class="built_in">clone</span>  https://github.com/daodaoliang/psdash.git</div><div class="line">sudo <span class="built_in">cd</span>  psdash</div><div class="line">sudo python setup.py install</div></pre></td></tr></table></figure>
<ul>
<li>也可以直接启用python</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo git <span class="built_in">clone</span>  https://github.com/daodaoliang/psdash.git</div><div class="line">sudo <span class="built_in">cd</span>  psdash</div><div class="line">sudo python ./psdash/run.py</div></pre></td></tr></table></figure>
<p><strong>3. 启动测试</strong></p>
<ul>
<li>直接测试</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo psdash -p 5000 <span class="_">-l</span> <span class="string">'/var/log/*.log'</span></div></pre></td></tr></table></figure>
<ul>
<li>打开浏览器进行测试</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1:5000</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/python学习/2015-03-21.png" alt="截图"></p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[SSH免密码登陆]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/03/19/linux%E5%AD%A6%E4%B9%A0-2015-03-19-%E4%BD%BF%E7%94%A8SSH%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E9%99%86/</url>
      <content type="html"><![CDATA[<hr>
<p><strong><em>前期准备</em></strong></p>
<ul>
<li>Server端需要安装并开启SSH服务</li>
<li>Client端需要支持ssh-keygen命令</li>
<li>确认两台机器能够连接到Internet</li>
</ul>
<a id="more"></a>
<p><strong>1.  检测SSH安装是否成功</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -V</div></pre></td></tr></table></figure>
<p>若是不成功显示版本信息则需要按照平台的不同进行相关的SSH的安装。</p>
<p><strong>2. Client端产生密钥对</strong></p>
<p>在Client端执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen</div></pre></td></tr></table></figure>
<ul>
<li>执行过程中，它先要求你确认保存公钥的位置（默认为：.ssh/id_rsa），然后它会让你重复输入一个密码两次，如果不想在使用公钥的时候输入密码，可以留空，执行完毕后，就会生成数据Client端的一对密钥。</li>
<li>查看Client端的用户目录下～/.ssh，看有没有用 xxx_rsa 和 xxx_rsa.pub 来命名的一对文件，有 .pub 后缀的文件就是公钥，另一个文件则是密钥。</li>
<li>公钥是公开的，不需要保密，而私钥是由个人自己持有，并且必须妥善保管和注意保密。</li>
</ul>
<p><strong> 3. 将Client生成的公钥复制到Server端</strong></p>
<ul>
<li>登陆到Server端查阅 ~/.ssh目录下是否有authorized_keys文件。</li>
<li>若是没有创建它</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">touch authorized_keys</div></pre></td></tr></table></figure>
<ul>
<li>将复制到的Client端公钥内容，粘贴至Server端刚才创建的 authorized_keys 文件中，保存文件。</li>
<li>更改 authorized_keys 文件的权限</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod 600  authorized_keys</div></pre></td></tr></table></figure>
<p><strong>3. 验证无密码登陆</strong></p>
<ul>
<li>在Client端命令行执行如下命令：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@114.113.158.119</div></pre></td></tr></table></figure>
<ul>
<li>直接登陆至Server端，表示验证成功。</li>
</ul>
<p><strong>4. 注意事项</strong></p>
<ul>
<li>ssh-keygen执行完毕后一定要检查下phenix用户家目录下.ssh目录中是否有一对密钥</li>
<li>在将公钥粘贴至Server端后，一定要修改authorized_keys文件的权限为600，否则认证会失败</li>
<li>Server端需要开启SSH服务，不然客户端使用ssh连接不上</li>
</ul>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[少年行]]></title>
      <url>/%E5%BF%83%E4%B8%96%E7%95%8C/2015/02/10/%E6%96%B0%E4%B8%96%E7%95%8C-2015-02-10-%E5%B0%91%E5%B9%B4%E8%A1%8C/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p>###<strong><em>少年行</em></strong></p>
<p><strong><em>其一</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">新丰美酒斗十千，咸阳游侠多少年。</div><div class="line">相逢意气为君饮，系马高楼垂柳边。</div></pre></td></tr></table></figure>
<p><strong><em>其二</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">出身仕汉羽林郎，初随骠骑战渔阳。</div><div class="line">孰知不向边庭苦，纵死犹闻侠骨香。</div></pre></td></tr></table></figure>
<p><strong><em>其三</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">一身能擘两雕弧，虏骑千重只似无。</div><div class="line">偏坐金鞍调白羽，纷纷射杀五单于。</div></pre></td></tr></table></figure>
<p><strong><em>其四</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">汉家君臣欢宴终，高议云台论战功。</div><div class="line">天子临轩赐侯印，将军佩出明光宫。</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 心世界 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux安装脚本]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/02/05/linux%E5%AD%A6%E4%B9%A0-2015-02-05-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># user can config the following configs, then package.</span></div><div class="line">INSTALL=/usr/<span class="built_in">local</span>/cusflo-server</div><div class="line"><span class="function"><span class="title">ok_msg</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$&#123;1&#125;</span><span class="variable">$&#123;POS&#125;</span><span class="variable">$&#123;BLACK&#125;</span>[<span class="variable">$&#123;GREEN&#125;</span>  OK  <span class="variable">$&#123;BLACK&#125;</span>]"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">failed_msg</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$&#123;1&#125;</span><span class="variable">$&#123;POS&#125;</span><span class="variable">$&#123;BLACK&#125;</span>[<span class="variable">$&#123;RED&#125;</span>FAILED<span class="variable">$&#123;BLACK&#125;</span>]"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># discover the current work dir, the log and access.</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"argv[0]=<span class="variable">$0</span>"</span></div><div class="line"><span class="keyword">if</span> [[ ! <span class="_">-f</span> <span class="variable">$0</span> ]]; <span class="keyword">then</span> </div><div class="line">    <span class="built_in">echo</span> <span class="string">"directly execute the scripts on shell."</span>;</div><div class="line">    work_dir=`<span class="built_in">pwd</span>`</div><div class="line"><span class="keyword">else</span> </div><div class="line">    <span class="built_in">echo</span> <span class="string">"execute scripts in file: <span class="variable">$0</span>"</span>;</div><div class="line">    work_dir=`dirname <span class="variable">$0</span>`; work_dir=`(<span class="built_in">cd</span> <span class="variable">$&#123;work_dir&#125;</span> &amp;&amp; <span class="built_in">pwd</span>)`</div><div class="line"><span class="keyword">fi</span></div><div class="line">product_dir=<span class="variable">$work_dir</span></div><div class="line"></div><div class="line"><span class="comment"># user must stop service first.</span></div><div class="line">ok_msg <span class="string">"check previous install"</span></div><div class="line"><span class="keyword">if</span> [[ <span class="_">-f</span> /etc/init.d/cusflo-server-moon ]]; <span class="keyword">then</span></div><div class="line">    /etc/init.d/cusflo-server-moon status &gt;/dev/null 2&gt;&amp;1</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> </div><div class="line">        failed_msg <span class="string">"you must stop the service first: sudo /etc/init.d/cusflo-server-moon stop"</span>; </div><div class="line">        <span class="built_in">exit</span> 1; </div><div class="line">    <span class="keyword">fi</span></div><div class="line"><span class="keyword">fi</span></div><div class="line">ok_msg <span class="string">"previous install checked"</span></div><div class="line"></div><div class="line"><span class="comment"># backup old srs</span></div><div class="line">ok_msg <span class="string">"backup old cusflo-server-moon"</span></div><div class="line">install_root=<span class="variable">$INSTALL</span></div><div class="line">install_bin=<span class="variable">$install_root</span>/</div><div class="line"><span class="keyword">if</span> [[ <span class="_">-d</span> <span class="variable">$install_root</span> ]]; <span class="keyword">then</span></div><div class="line">    backup_dir=<span class="variable">$&#123;install_root&#125;</span>.`date <span class="string">"+%Y-%m-%d_%H-%M-%S"</span>`</div><div class="line">    ok_msg <span class="string">"backup installed dir"</span></div><div class="line">    ok_msg <span class="string">"    to=<span class="variable">$backup_dir</span>"</span></div><div class="line">    mv <span class="variable">$install_root</span> <span class="variable">$backup_dir</span> 2&gt;&amp;1</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"backup installed dir failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">    ok_msg <span class="string">"backup installed dir success"</span></div><div class="line"><span class="keyword">fi</span></div><div class="line">ok_msg <span class="string">"old srs backuped"</span></div><div class="line"></div><div class="line"><span class="comment"># copy core files</span></div><div class="line">ok_msg <span class="string">"copy core components"</span></div><div class="line">(</div><div class="line">    mkdir -p <span class="variable">$install_root</span></div><div class="line">    cp -r <span class="variable">$work_dir</span>/conf <span class="variable">$install_root</span> &amp;&amp;</div><div class="line">    cp -r <span class="variable">$work_dir</span>/dog <span class="variable">$install_root</span> &amp;&amp;</div><div class="line">    cp -r <span class="variable">$work_dir</span>/<span class="built_in">log</span> <span class="variable">$install_root</span> &amp;&amp;</div><div class="line">    cp -r <span class="variable">$work_dir</span>/moon <span class="variable">$install_root</span> &amp;&amp;</div><div class="line">    cp -r <span class="variable">$work_dir</span>/scripts <span class="variable">$install_root</span></div><div class="line">) 2&gt;&amp;1</div><div class="line">ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"copy core components failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">ok_msg <span class="string">"copy core components success"</span></div><div class="line"></div><div class="line"><span class="comment"># install init.d scripts</span></div><div class="line">ok_msg <span class="string">"install init.d scripts"</span></div><div class="line">(</div><div class="line">    rm -rf /etc/init.d/cusflo-server-moon &amp;&amp;</div><div class="line">    ln -sf <span class="variable">$install_root</span>/scripts/cusflo-server-moon /etc/init.d/cusflo-server-moon</div><div class="line">) 2&gt;&amp;1</div><div class="line">ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"install init.d scripts failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">ok_msg <span class="string">"install init.d scripts success"</span></div><div class="line"></div><div class="line"><span class="comment"># install system service</span></div><div class="line">lsb_release --id|grep <span class="string">"CentOS"</span> &gt;/dev/null 2&gt;&amp;1; os_id_centos=$?</div><div class="line">lsb_release --id|grep <span class="string">"Ubuntu"</span> &gt;/dev/null 2&gt;&amp;1; os_id_ubuntu=$?</div><div class="line">lsb_release --id|grep <span class="string">"Debian"</span> &gt;/dev/null 2&gt;&amp;1; os_id_debian=$?</div><div class="line">lsb_release --id|grep <span class="string">"Raspbian"</span> &gt;/dev/null 2&gt;&amp;1; os_id_rasabian=$?</div><div class="line"><span class="keyword">if</span> [[ 0 <span class="_">-eq</span> <span class="variable">$os_id_centos</span> ]]; <span class="keyword">then</span></div><div class="line">    ok_msg <span class="string">"install system service for CentOS"</span></div><div class="line">    /sbin/chkconfig --add cusflo-server-moon &amp;&amp; /sbin/chkconfig cusflo-server-moon on</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"install system service failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">    ok_msg <span class="string">"install system service success"</span></div><div class="line"><span class="keyword">elif</span> [[ 0 <span class="_">-eq</span> <span class="variable">$os_id_ubuntu</span> ]]; <span class="keyword">then</span></div><div class="line">    ok_msg <span class="string">"install system service for Ubuntu"</span></div><div class="line">    update-rc.d cusflo-server-moon defaults</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"install system service failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">    ok_msg <span class="string">"install system service success"</span></div><div class="line"><span class="keyword">elif</span> [[ 0 <span class="_">-eq</span> <span class="variable">$os_id_debian</span> ]]; <span class="keyword">then</span></div><div class="line">    ok_msg <span class="string">"install system service for Debian"</span></div><div class="line">    update-rc.d cusflo-server-moon defaults</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"install system service failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">    ok_msg <span class="string">"install system service success"</span></div><div class="line"><span class="keyword">elif</span> [[ 0 <span class="_">-eq</span> <span class="variable">$os_id_rasabian</span> ]]; <span class="keyword">then</span></div><div class="line">    ok_msg <span class="string">"install system service for RaspberryPi"</span></div><div class="line">    update-rc.d cusflo-server-moon defaults</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$&#123;ret&#125;</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"install system service failed"</span>; <span class="built_in">exit</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">    ok_msg <span class="string">"install system service success"</span></div><div class="line"><span class="keyword">else</span></div><div class="line">    warn_msg <span class="string">"ignore and donot install system service for `lsb_release --id|awk '&#123;print <span class="variable">$3</span>&#125;'`."</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">""</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"install success, you can:"</span></div><div class="line"><span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$&#123;GREEN&#125;</span>      sudo ./moon/scripts/cusflo-server-moon start<span class="variable">$&#123;BLACK&#125;</span>"</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"cusflo-server-moon root is <span class="variable">$&#123;INSTALL&#125;</span>"</span></div><div class="line"></div><div class="line"><span class="built_in">exit</span> 0</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Python包管理]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/02/04/Python%E5%AD%A6%E4%B9%A0-2015-02-04-python%E7%AE%A1%E7%90%86%E5%8C%85%E5%AE%89%E8%A3%85/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="安装setuptoolsl"><a href="#安装setuptoolsl" class="headerlink" title="安装setuptoolsl"></a><strong><em>安装setuptoolsl</em></strong></h3><p><strong><em>python中的easy_install工具，类似于Php中的pear，或者Ruby中的gem，或者Perl中的cpan</em></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget -q http://peak.telecommunity.com/dist/ez_setup.py</div><div class="line">python ez_setup.py</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apt-get install python-setuptools</div></pre></td></tr></table></figure>
<h3 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a><strong><em>安装pip</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">easy_install pip</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get python-pip</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget https://bootstrap.pypa.io/get-pip.py --no-check-certificate</div><div class="line">python get-pip.py</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux服务脚本编写]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/02/04/linux%E5%AD%A6%E4%B9%A0-2015-02-04-%E6%9C%8D%E5%8A%A1%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment">### BEGIN INIT INFO</span></div><div class="line"><span class="comment"># Provides:          应用程序开发者</span></div><div class="line"><span class="comment"># RequiRED-Start:    $all</span></div><div class="line"><span class="comment"># RequiRED-Stop:     $all</span></div><div class="line"><span class="comment"># Default-Start:     2 3 4 5</span></div><div class="line"><span class="comment"># Default-Stop:      0 1 6</span></div><div class="line"><span class="comment"># Short-Description: 简短应用程序描述</span></div><div class="line"><span class="comment"># Description:       详细应用程序描述</span></div><div class="line"><span class="comment">### END INIT INFO</span></div><div class="line"></div><div class="line"><span class="comment"># 程序文件目录</span></div><div class="line">ROOT=<span class="string">"/work/code/cusflo-server-moon"</span></div><div class="line"><span class="comment"># 程序文件</span></div><div class="line">APP=<span class="string">"./dog/client_update_dog.py"</span></div><div class="line"><span class="comment"># 程序配置文件</span></div><div class="line">CONFIG=<span class="string">"./server_config.ini"</span></div><div class="line"><span class="comment"># 服务日志</span></div><div class="line">DEFAULT_LOG_FILE=<span class="string">'./daodaoliang.log'</span></div><div class="line"></div><div class="line"><span class="comment"># 样式定制</span></div><div class="line">RED=<span class="string">"\\e[31m"</span></div><div class="line">GREEN=<span class="string">"\\e[32m"</span></div><div class="line">YELLOW=<span class="string">"\\e[33m"</span></div><div class="line">BLACK=<span class="string">"\\e[0m"</span></div><div class="line">POS=<span class="string">"\\e[60G"</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">ok_msg</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$&#123;1&#125;</span><span class="variable">$&#123;POS&#125;</span><span class="variable">$&#123;BLACK&#125;</span>[<span class="variable">$&#123;GREEN&#125;</span>  OK  <span class="variable">$&#123;BLACK&#125;</span>]"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">failed_msg</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$&#123;1&#125;</span><span class="variable">$&#123;POS&#125;</span><span class="variable">$&#123;BLACK&#125;</span>[<span class="variable">$&#123;RED&#125;</span>FAILED<span class="variable">$&#123;BLACK&#125;</span>]"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># load process info of app</span></div><div class="line"><span class="comment"># exist return 0</span></div><div class="line"><span class="comment"># no exist return 1</span></div><div class="line"><span class="function"><span class="title">load_process_info</span></span>() &#123;</div><div class="line">    <span class="comment"># get pid</span></div><div class="line">    app_pid=$(ps -ef|grep <span class="variable">$&#123;APP&#125;</span>|gawk <span class="string">'$0 !~/grep/ &#123;print $2&#125;'</span> |tr <span class="_">-s</span> <span class="string">'\n'</span> <span class="string">' '</span>)</div><div class="line">    <span class="comment"># check pid again</span></div><div class="line">    ps -p <span class="variable">$&#123;app_pid&#125;</span> &gt;/dev/null 2&gt;/dev/null</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$ret</span> ]]; <span class="keyword">then</span> error_msg=<span class="string">"process <span class="variable">$app_pid</span> does not exists"</span>; <span class="built_in">return</span> 1; <span class="keyword">fi</span></div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">start</span></span>() &#123;</div><div class="line">    <span class="comment"># if exists, exit.</span></div><div class="line">    load_process_info</div><div class="line">    <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> $? ]]; <span class="keyword">then</span> failed_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> started(pid <span class="variable">$&#123;app_pid&#125;</span>), should not start it again."</span>; <span class="built_in">return</span> 0; <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    <span class="comment"># not exists, start server</span></div><div class="line">    ok_msg <span class="string">"Starting <span class="variable">$&#123;APP&#125;</span>..."</span></div><div class="line">    </div><div class="line">    <span class="comment"># get log file</span></div><div class="line">    log_file=`<span class="built_in">cd</span> <span class="variable">$&#123;ROOT&#125;</span> &amp;&amp; cat <span class="variable">$&#123;CONFIG&#125;</span> |grep <span class="string">'^log_file'</span>| awk <span class="string">'&#123;print $2&#125;'</span>| awk -F <span class="string">';'</span> <span class="string">'&#123;print $1&#125;'</span>`</div><div class="line">    <span class="keyword">if</span> [[ -z <span class="variable">$log_file</span> ]]; <span class="keyword">then</span> log_file=<span class="variable">$&#123;DEFAULT_LOG_FILE&#125;</span>; <span class="keyword">fi</span></div><div class="line">    <span class="comment"># get abs path</span></div><div class="line">    log_dir=`dirname <span class="variable">$log_file</span>`</div><div class="line">    log_file=`(<span class="built_in">cd</span> <span class="variable">$&#123;ROOT&#125;</span> &amp;&amp; <span class="built_in">cd</span> <span class="variable">$log_dir</span> &amp;&amp; <span class="built_in">pwd</span>)`/`basename <span class="variable">$log_file</span>`</div><div class="line">    </div><div class="line">    <span class="comment"># <span class="doctag">TODO:</span> <span class="doctag">FIXME:</span> set limit by, for instance, "ulimit -HSn 10000"</span></div><div class="line">    <span class="keyword">if</span> [[ -z <span class="variable">$log_file</span> ]]; <span class="keyword">then</span></div><div class="line">        (<span class="built_in">cd</span> <span class="variable">$&#123;ROOT&#125;</span>;nohup python <span class="variable">$&#123;APP&#125;</span>  &gt;/dev/null 2&gt;&amp;1 &amp;)</div><div class="line">    <span class="keyword">else</span></div><div class="line">        (<span class="built_in">cd</span> <span class="variable">$&#123;ROOT&#125;</span>;nohup python <span class="variable">$&#123;APP&#125;</span> &gt;/dev.null &gt;&gt; <span class="variable">$log_file</span> 2&gt;&amp;1 &amp;)</div><div class="line">    <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    <span class="comment"># check again after start server</span></div><div class="line">    <span class="keyword">for</span> ((i = 0; i &lt; 5; i++)); <span class="keyword">do</span></div><div class="line">        <span class="comment"># sleep a little while, for app may start then crash.</span></div><div class="line">        sleep 0.1</div><div class="line">        load_process_info</div><div class="line">        ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$ret</span> ]]; <span class="keyword">then</span> </div><div class="line">            failed_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> start failed"</span>; </div><div class="line">            failed_msg <span class="string">"see <span class="variable">$log_file</span>"</span>; </div><div class="line">            <span class="built_in">return</span> <span class="variable">$ret</span>; </div><div class="line">        <span class="keyword">fi</span></div><div class="line">    <span class="keyword">done</span></div><div class="line">    </div><div class="line">    <span class="comment"># check whether started.</span></div><div class="line">    load_process_info</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> $? ]]; <span class="keyword">then</span> ok_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> started(pid <span class="variable">$&#123;app_pid&#125;</span>)"</span>; <span class="built_in">return</span> 0; <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    failed_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> not started"</span></div><div class="line">    <span class="built_in">return</span> <span class="variable">$ret</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">stop</span></span>() &#123;</div><div class="line">    <span class="comment"># not start, exit</span></div><div class="line">    load_process_info</div><div class="line">    <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> $? ]]; <span class="keyword">then</span> failed_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> not start."</span>; <span class="built_in">return</span> 0; <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    ok_msg <span class="string">"Stopping <span class="variable">$&#123;APP&#125;</span>(pid <span class="variable">$&#123;app_pid&#125;</span>)..."</span></div><div class="line">    </div><div class="line">    <span class="comment"># process exists, try to kill to stop normally</span></div><div class="line">    <span class="keyword">for</span>((i=0;i&lt;30;i++)); <span class="keyword">do</span></div><div class="line">        load_process_info</div><div class="line">        <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> $? ]]; <span class="keyword">then</span></div><div class="line">            <span class="built_in">kill</span> <span class="_">-s</span> SIGTERM <span class="variable">$&#123;app_pid&#125;</span> 2&gt;/dev/null</div><div class="line">            ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$ret</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"send signal SIGTERM failed ret=<span class="variable">$ret</span>"</span>; <span class="built_in">return</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">            sleep 0.1</div><div class="line">        <span class="keyword">else</span></div><div class="line">            ok_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> stopped by SIGTERM"</span></div><div class="line">            <span class="comment"># delete the pid file when stop success.</span></div><div class="line">            rm <span class="_">-f</span> <span class="variable">$&#123;pid_file&#125;</span></div><div class="line">            <span class="built_in">break</span>;</div><div class="line">        <span class="keyword">fi</span></div><div class="line">    <span class="keyword">done</span></div><div class="line">    </div><div class="line">    <span class="comment"># process exists, use kill -9 to force to exit</span></div><div class="line">    load_process_info</div><div class="line">    <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> $? ]]; <span class="keyword">then</span></div><div class="line">        <span class="built_in">kill</span> <span class="_">-s</span> SIGKILL <span class="variable">$&#123;app_pid&#125;</span> 2&gt;/dev/null</div><div class="line">        ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-ne</span> <span class="variable">$ret</span> ]]; <span class="keyword">then</span> failed_msg <span class="string">"send signal SIGKILL failed ret=<span class="variable">$ret</span>"</span>; <span class="built_in">return</span> <span class="variable">$ret</span>; <span class="keyword">fi</span></div><div class="line">        ok_msg <span class="string">"<span class="variable">$&#123;APP&#125;</span> stopped by SIGKILL"</span></div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="comment"># delete the pid file when stop success.</span></div><div class="line">        rm <span class="_">-f</span> <span class="variable">$&#123;pid_file&#125;</span></div><div class="line">    <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    sleep 0.1</div><div class="line">    <span class="built_in">return</span> 0</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># get the status of srs process</span></div><div class="line"><span class="comment"># @return 0 if srs is running; otherwise, 1 for stopped.</span></div><div class="line"><span class="function"><span class="title">status</span></span>() &#123;</div><div class="line">    load_process_info</div><div class="line">    ret=$?; <span class="keyword">if</span> [[ 0 <span class="_">-eq</span> <span class="variable">$ret</span> ]]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;APP&#125;</span>(pid <span class="variable">$&#123;app_pid&#125;</span>) is running."</span>; <span class="built_in">return</span> 0; <span class="keyword">fi</span></div><div class="line">    </div><div class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;APP&#125;</span> is stopped, <span class="variable">$error_msg</span>"</span></div><div class="line">    <span class="built_in">return</span> 1</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">menu</span></span>() &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></div><div class="line">        start)</div><div class="line">            start</div><div class="line">            ;;</div><div class="line">        stop)</div><div class="line">            stop</div><div class="line">            ;;</div><div class="line">        restart)</div><div class="line">            stop</div><div class="line">            start</div><div class="line">            ;;</div><div class="line">        status)</div><div class="line">            status</div><div class="line">            ;;</div><div class="line">        *)</div><div class="line">            <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|status|restart&#125;"</span></div><div class="line">            <span class="built_in">return</span> 1</div><div class="line">            ;;</div><div class="line">    <span class="keyword">esac</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">menu <span class="variable">$1</span></div><div class="line"></div><div class="line">code=$?</div><div class="line"><span class="built_in">exit</span> <span class="variable">$&#123;code&#125;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Linux下ffmpeg安装与开发配置]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/02/03/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-02-03-Linux%E4%B8%8Bffmpeg%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="ffmpeg安装"><a href="#ffmpeg安装" class="headerlink" title="ffmpeg安装"></a><strong><em>ffmpeg安装</em></strong></h3><p><strong><em>删除已安装的文件，避免冲突</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get remove ffmpeg x264</div><div class="line">sudo apt-get autoremove</div></pre></td></tr></table></figure>
<p><strong><em>安装需要的支持</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install make automake g++ bzip2 python unzip patch subversion ruby build-essential git-core checkinstall yasm texi2html libfaac-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev libsdl1.2-dev libtheora-dev libvdpau-dev libvorbis-dev libvpx-dev libx11-dev libxfixes-dev libxvidcore-dev zlib1g-dev</div></pre></td></tr></table></figure>
<p><strong><em>安装 x264 （自己选择是否安装）</em></strong></p>
<p>x264 依赖于yasm，而且版本较高。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sudo git <span class="built_in">clone</span> git://git.videolan.org/x264.git</div><div class="line"><span class="built_in">cd</span> x264</div><div class="line">sudo ./configure --enable-shared --prefix=/usr/<span class="built_in">local</span></div><div class="line">sudo make</div><div class="line">sudo make install</div><div class="line"><span class="built_in">cd</span> ..</div></pre></td></tr></table></figure>
<p><strong><em>安装FFMPEG</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo wget http://ffmpeg.org/releases/ffmpeg-2.5.3.tar.bz2</div><div class="line">sudo tar xvjf ffmpeg-2.5.3.tar.bz2</div><div class="line"><span class="built_in">cd</span> ffmpeg-2.5.3</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure --enable-gpl --enable-version3 --enable-nonfree --enable-postproc --enable-libfaac --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libxvid --enable-shared --prefix=/usr/<span class="built_in">local</span></div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo make</div><div class="line">sudo make install</div><div class="line"><span class="built_in">cd</span> ..</div></pre></td></tr></table></figure>
<p>configure过程根据自己的情况开启某部分功能。</p>
<p><strong><em>常见错误</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ffmpeg: error <span class="keyword">while</span> loading shared libraries: libavdevice.so.53: cannot open shared object file: No such file or directory</div></pre></td></tr></table></figure>
<p>解决办法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">vi /etc/ld.so.conf</div><div class="line">加入：/usr/<span class="built_in">local</span>/lib</div><div class="line">执行ldconfig</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Simple-RTMP-Server 服务器搭建]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/02/03/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-02-02-SRS%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h2 id="Simple-RTMP-Server-服务器搭建"><a href="#Simple-RTMP-Server-服务器搭建" class="headerlink" title="Simple-RTMP-Server 服务器搭建"></a><strong><em>Simple-RTMP-Server 服务器搭建</em></strong></h2><h3 id="1-服务器镜像获取"><a href="#1-服务器镜像获取" class="headerlink" title="1. 服务器镜像获取"></a><strong><em>1. 服务器镜像获取</em></strong></h3><ul>
<li>github源码地址</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/winlinvip/simple-rtmp-server.git</div></pre></td></tr></table></figure>
<ul>
<li>CSDN镜像地址</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://code.csdn.net/winlinvip/srs-csdn.git</div></pre></td></tr></table></figure>
<ul>
<li>OSChina镜像</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://git.oschina.net/winlinvip/srs.oschina.git</div></pre></td></tr></table></figure>
<h3 id="2-关闭防火墙和selinux或者开放端口"><a href="#2-关闭防火墙和selinux或者开放端口" class="headerlink" title="2. 关闭防火墙和selinux或者开放端口"></a><strong><em>2. 关闭防火墙和selinux或者开放端口</em></strong></h3><ul>
<li>关闭防火墙</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># disable the firewall</span></div><div class="line">sudo /etc/init.d/iptables stop</div><div class="line">sudo /sbin/chkconfig iptables off</div></pre></td></tr></table></figure>
<ul>
<li>使selinux失败<ul>
<li>编辑配置文件：sudo vi /etc/sysconfig/selinux</li>
<li>把SELINUX的值改为disabled：SELINUX=disabled</li>
<li>重启系统：sudo init 6</li>
</ul>
</li>
</ul>
<h3 id="3-编译系统"><a href="#3-编译系统" class="headerlink" title="3. 编译系统"></a><strong><em>3. 编译系统</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure --disable-all --with-ssl --with-hls --with-nginx --with-ffmpeg --with-transcode</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make &amp;&amp; sudo make install</div></pre></td></tr></table></figure>
<p>安装命令会将SRS默认安装到<code>/usr/local/srs</code>中，可以在<code>configure</code>时指定其他目录，譬如<code>./configure --prefix=</code>pwd<code>/_release</code> 可以安装到当前的<code>_release</code>目录(可以不用sudo安装，直接用make install即可安装)</p>
<h3 id="4-建立启动服务"><a href="#4-建立启动服务" class="headerlink" title="4. 建立启动服务"></a><strong><em>4. 建立启动服务</em></strong></h3><p><strong><em>4.1 建立软连接</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ln -sf   /usr/<span class="built_in">local</span>/srs/etc/init.d/srs  /etc/init.d/srs</div></pre></td></tr></table></figure>
<ul>
<li><p>备注：若SRS安装到其他目录，将/usr/local/srs替换成其他目录。</p>
</li>
<li><p>备注：也可以使用其他的名称，譬如/etc/init.d/srs，可以任意名称，启动时也用该名称。</p>
</li>
</ul>
<p><strong><em>4.2 添加服务</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#centos 6</span></div><div class="line">sudo /sbin/chkconfig --add srs</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ubuntu12</span></div><div class="line">sudo update-rc.d srs defaults</div></pre></td></tr></table></figure>
<p><strong><em>4.3 使用init.d脚本管理SRS</em></strong></p>
<p>查看SRS状态：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/srs status</div></pre></td></tr></table></figure>
<p>启动SRS：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/srs start</div></pre></td></tr></table></figure>
<p>停止SRS：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/srs stop</div></pre></td></tr></table></figure>
<p>重启SRS：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/srs restart</div></pre></td></tr></table></figure>
<p>Reload SRS：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/srs reload</div></pre></td></tr></table></figure>
<h3 id="5-启动分发hls（m3u8-ts）的nginx"><a href="#5-启动分发hls（m3u8-ts）的nginx" class="headerlink" title="5. 启动分发hls（m3u8/ts）的nginx"></a><strong><em>5. 启动分发hls（m3u8/ts）的nginx</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ./objs/nginx/sbin/nginx</div></pre></td></tr></table></figure>
<h3 id="6-编写SRS配置文件"><a href="#6-编写SRS配置文件" class="headerlink" title="6. 编写SRS配置文件"></a><strong><em>6. 编写SRS配置文件</em></strong></h3><p>将以下内容保存为文件，譬如conf/transcode2hls.audio.only.conf，服务器启动时指定该配置文件(srs的conf文件夹有该文件)。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># conf/transcode2hls.audio.only.conf</span></div><div class="line">listen              1935;</div><div class="line">max_connections     1000;</div><div class="line">http_stream &#123;</div><div class="line">    <span class="comment"># whether http streaming service is enabled.</span></div><div class="line">    <span class="comment"># default: off</span></div><div class="line">    enabled         on;</div><div class="line">    <span class="comment"># the http streaming port</span></div><div class="line">    <span class="comment"># @remark, if use lower port, for instance 80, user must start srs by root.</span></div><div class="line">    <span class="comment"># default: 8080</span></div><div class="line">    listen          8080;</div><div class="line">    <span class="comment"># the default dir for http root.</span></div><div class="line">    <span class="comment"># default: ./objs/nginx/html</span></div><div class="line">    dir             ./objs/nginx/html;</div><div class="line">&#125;</div><div class="line">vhost __defaultVhost__ &#123;</div><div class="line">    hls &#123;</div><div class="line">        enabled         on;</div><div class="line">        hls_path        ./objs/nginx/html;</div><div class="line">        hls_fragment    10;</div><div class="line">        hls_window      60;</div><div class="line">    &#125;</div><div class="line">    transcode &#123;</div><div class="line">        enabled     on;</div><div class="line">        ffmpeg      ./objs/ffmpeg/bin/ffmpeg;</div><div class="line">        engine ff &#123;</div><div class="line">            enabled         on;</div><div class="line">            vcodec          copy;</div><div class="line">            acodec          libaacplus;</div><div class="line">            abitrate        45;</div><div class="line">            asample_rate    44100;</div><div class="line">            achannels       2;</div><div class="line">            aparams &#123;</div><div class="line">            &#125;</div><div class="line">            output          rtmp://127.0.0.1:[port]/[app]?vhost=[vhost]/[stream]_[engine];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>备注：这个配置使用只转码音频，因为视频是h.264符合要求</p>
<h3 id="7-启动SRS"><a href="#7-启动SRS" class="headerlink" title="7. 启动SRS"></a><strong><em>7. 启动SRS</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./objs/srs -c conf/transcode2hls.audio.only.conf</div></pre></td></tr></table></figure>
<p>或者使用服务进行启动</p>
<h3 id="8-启动推流编码器"><a href="#8-启动推流编码器" class="headerlink" title="8. 启动推流编码器"></a><strong><em>8. 启动推流编码器</em></strong></h3><p>使用FFMPEG命令推流：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>((;;)); <span class="keyword">do</span> \</div><div class="line">	./objs/ffmpeg/bin/ffmpeg -re -i ./doc/source.200kbps.768x320.flv \</div><div class="line">	-vcodec copy -acodec copy \</div><div class="line">	<span class="_">-f</span> flv -y rtmp://192.168.1.170/live/livestream; \</div><div class="line">	sleep 1; \</div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>或使用FMLE推流：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">FMS URL: rtmp://192.168.1.170/live</div><div class="line">Stream: livestream</div></pre></td></tr></table></figure>
<p>生成的流地址为：</p>
<ul>
<li>RTMP流地址为（FMLE推流无HLS地址）：rtmp://192.168.1.170/live/livestream</li>
<li>转码后的RTMP流地址为：rtmp://192.168.1.170/live/livestream_ff</li>
<li>转码后的HLS流地址为： <a href="http://192.168.1.170/live/livestream_ff.m3u8" target="_blank" rel="external">http://192.168.1.170/live/livestream_ff.m3u8</a></li>
</ul>
<p><strong><em>备注</em></strong>：因为FMLE推上来的音频有问题，不是aac，所以srs会报错（当然啦，不然就不用转码了）。这个错误可以忽略，srs是说，rtmp流没有问题，但是无法切片为hls，因为音频编码不对。没有关系，ffmpeg会转码后重新推一路流给srs。</p>
<p><strong><em>备注</em></strong>：如何只对符合要求的流切hls？可以用vhost。默认的vhost不切hls，将转码后的流推送到另外一个vhost，这个vhost切hls。</p>
<h3 id="9-观看RTMP流"><a href="#9-观看RTMP流" class="headerlink" title="9. 观看RTMP流"></a><strong><em>9. 观看RTMP流</em></strong></h3><ul>
<li><p>RTMP流地址为：rtmp://192.168.1.170/live/livestream_ff</p>
<ul>
<li>播放器:VLC</li>
<li>或者：</li>
<li><a href="http://winlinvip.github.io/srs.release/trunk/research/players/srs_player.html?vhost=defaultVhost&amp;autostart=true&amp;server=192.168.1.170&amp;app=live&amp;stream=livestream_ff" target="_blank" rel="external">http://winlinvip.github.io/srs.release/trunk/research/players/srs_player.html?vhost=defaultVhost&amp;autostart=true&amp;server=192.168.1.170&amp;app=live&amp;stream=livestream_ff</a></li>
</ul>
</li>
<li><p>HLS流地址为： <a href="http://192.168.1.170/live/livestream_ff.m3u8" target="_blank" rel="external">http://192.168.1.170/live/livestream_ff.m3u8</a></p>
<ul>
<li>播放器VLC</li>
<li>或者</li>
<li><a href="http://winlinvip.github.io/srs.release/trunk/research/players/jwplayer6.html?vhost=defaultVhost&amp;hls_autostart=true&amp;server=192.168.1.170&amp;app=live&amp;stream=livestream_ff" target="_blank" rel="external">http://winlinvip.github.io/srs.release/trunk/research/players/jwplayer6.html?vhost=defaultVhost&amp;hls_autostart=true&amp;server=192.168.1.170&amp;app=live&amp;stream=livestream_ff</a></li>
</ul>
</li>
</ul>
<h3 id="10-手机端查看"><a href="#10-手机端查看" class="headerlink" title="10. 手机端查看"></a><strong><em>10. 手机端查看</em></strong></h3><p><strong><em>10.1 Android</em></strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">"640"</span> <span class="attr">height</span>=<span class="string">"360"</span></span></div><div class="line">	<span class="attr">autoplay</span> <span class="attr">controls</span> <span class="attr">autobuffer</span> </div><div class="line">	<span class="attr">src</span>=<span class="string">"http://127.0.0.1/live/livestream.m3u8"</span></div><div class="line">	<span class="attr">type</span>=<span class="string">"application/vnd.apple.mpegurl"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong><em>10.2 IOS</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1/live/livestream.m3u8</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[P2P的NAT穿越方案]]></title>
      <url>/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/2015/02/02/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-NAT%E4%B8%93%E9%A2%98-2015-02-01-p2p%E7%9A%84NAT%E7%A9%BF%E8%B6%8A%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="NAT专题之P2P的NAT穿越方案"><a href="#NAT专题之P2P的NAT穿越方案" class="headerlink" title="NAT专题之P2P的NAT穿越方案"></a>NAT专题之P2P的NAT穿越方案</h3><h4 id="1-P2P简介"><a href="#1-P2P简介" class="headerlink" title="1.P2P简介"></a><strong><em>1.P2P简介</em></strong></h4><p>&gt;<br>P2P即点对点通信，或称为对等联网，与传统的服务器客户端模式有着明显的区别，传统的服务器客户端模型如图2所示。P2P这一术语在不同的上下文环境里可能有不同的内涵，它可以指一种通信模式、一种逻辑网络模型、一种技术、甚至一种理念。在P2P网络中如图1所示，所有通信节点的地位都是对等的，每个节点都扮演着客户机和服务器双重角色，节点之间通过直接通信实现文件信息、处理器运算能力、存储空间等资源的共享。P2P网络具有分散性、可扩展性、健壮性等特点，这使得P2P技术在信息共享、实时通信、协同工作、分布式计算、网络存储等领域都有广阔的应用;</p>
<ul>
<li><img src="/res/img/blog/计算机网络/2015-02-02-001.jpg" alt="P2P结构模型"></li>
</ul>
<p><strong><em>图1 P2P结构模型</em></strong></p>
<ul>
<li><img src="/res/img/blog/计算机网络/2015-02-02-002.jpg" alt="CS模式"></li>
</ul>
<p><strong><em>图2 CS模式</em></strong></p>
<h4 id="2-NAT简介"><a href="#2-NAT简介" class="headerlink" title="2.NAT简介"></a><strong><em>2.NAT简介</em></strong></h4><p>目前,IPV4地址资源的紧缺使得NAT技术获得了广泛的应用，NAT技术是一种把内部网络(简称内网)私有IP地址转换为外部网络(简称为外网)公共IP地址的技术，它使得一定范围内的多台主机志李永一个公共IP地址链接到外网，可以在很大成都上缓解公网IP地址紧缺的问题。</p>
<h4 id="3-NAT对P2P通信的影响"><a href="#3-NAT对P2P通信的影响" class="headerlink" title="3.NAT对P2P通信的影响"></a><strong><em>3.NAT对P2P通信的影响</em></strong></h4><p>NAT技术虽然在一定成都上解决了IPV4地址短缺的问题，在构建防火墙，保证网络安全方面都发挥了一定的作用，却破坏了端到段的网络通信，NAT阻碍朱姐进行p2p通信的主要原因时NAT不允许外网主机主动访问内网诸暨，因为NAT设备上没有先关转发表项，要在NAT网络环境中进行有效的p2p通信，就必须寻找相应的解决方案，本文就着重介绍几种常见的解决方案。</p>
<h4 id="4-p2p穿越NAT的几种方案"><a href="#4-p2p穿越NAT的几种方案" class="headerlink" title="4.p2p穿越NAT的几种方案"></a><strong><em>4.p2p穿越NAT的几种方案</em></strong></h4><h5 id="4-1-反向链接技术"><a href="#4-1-反向链接技术" class="headerlink" title="4.1 反向链接技术"></a><strong><em>4.1 反向链接技术</em></strong></h5><p>　　当通信双方中一方位于NAT之后时，他们可以利用反向链接技术来进行p2p通信，图中的clientA(拥有内网地址10.0.0.1)位于NAT之后，它通过TCP端口1234连接到服务器(拥有外网IP地址)的TCP端口1235上,NAT设备(拥有外网地址:155.99.25.11)味这个链接重新分配了TCP端口62000，clientB(拥有外网IP地址138.76.29.7)叶通过TCP端口1234连接到服务器1235上，clientA和clientB从服务器除货值的对网的外网地址二元组{IP地址:端口号}分别为{138.76.29.7:1234}和{155.99.25.11:62000}.他们在各自的本地端口上进行侦听。<br>　　由于clientB拥有外网IP地址，所以clientA可以直接通过TCP发起与clientB的链接，但如果clientB尝试通过TCP链接到clientA进行P2P通信，则会失败，原因是clientA位于NAT设备后，虽然clientB发出的TCP SYN请求能够到达NAT设备的端口62000，但NAT设备会拒绝这个链接请求，要想与clientA通信，clientB要通过服务器给clientA转发一个链接请求，反过来请求clientA连接到clientB(即进行反向链接),从而建立起他们之间的TCP链接。</p>
<ul>
<li><img src="/res/img/blog/计算机网络/2015-02-02-003.jpg" alt="反向链接示意图"></li>
</ul>
<h4 id="4-2-UDP打洞技术"><a href="#4-2-UDP打洞技术" class="headerlink" title="4.2 UDP打洞技术"></a><strong><em>4.2 UDP打洞技术</em></strong></h4><p>　　如果两个客户端窦唯与NAT设备后面，想要进行P2P通信，那又该如何解决呢?UDP打洞技术就是为解决这个问题应运而生的，它能够通过中间服务器实现P2P客户端互联，该技术在在线游戏协议中已经的到了应用</p>
<h5 id="4-2-1集中服务器"><a href="#4-2-1集中服务器" class="headerlink" title="4.2.1集中服务器"></a><strong><em>4.2.1集中服务器</em></strong></h5><p>　　打洞技术嘉定客户端A和客户端B都可以与公网内的已知集中服务器建立UDP链接，一个客户端在集中服务器上登陆的时候，服务器记录下改客户端的两对地址二元组信息{IP地址:UDP端口}，一对是该客户端与集中服务器进行通信的自身的地址和端口号，另外一对是集中服务器记录下的由服务器观察到的改客户端实际与自己所使用的地址和端口号，我们可以把前一对地址二元组看作是客户端的内网地址和端口号，把后一对地址二元组看作是客户端的内网地址和端口号经过NAT转换后的外网地址和端口号，集中服务器可以从客户端的登录消息中的到客户端内网相关信息，还可以通过消息的IP头和UDP头得到改客户端的外网相关信息，如果该客户端不是位于NAT设备后面，那么采用上述方法得到的两对地址二元组信息是完全相同的。</p>
<h5 id="4-2-2建立p2p-session"><a href="#4-2-2建立p2p-session" class="headerlink" title="4.2.2建立p2p session"></a><strong><em>4.2.2建立p2p session</em></strong></h5><p>假定客户端A要发起客户端B的直接链接，具体的打洞过程如下:</p>
<ul>
<li>客户端A最初不知道如何向客户端B发起链接，于是客户端A向集中服务器发送消息，请求集中服务器帮助建立与客户端B的UDP链接。</li>
<li>集中服务器将含有客户端B的外网和内网地址二元组发送给客户端A，同时，集中服务器将包含将包含有客户端A的外网和内网地址二元组信息发送给客户端B，这样以来,客户端A与客户端B就都知道对方外网和内网的地址二元组信息了。</li>
<li>当客户端A收到有集中服务器发来的包含客户端B的外网和内网的地址二元组信息后，客户端A开始向客户端B的地址二元组发送UDP数据包，并且客户端A会自动锁定第一个给出相应的客户端B的地址二元组，同理，当客户端B收到由集中服务器发来的客户端A的地址二元组信息后，也会开始向客户端A的外网和内网的地址二元组发送UDP数据包，并且　自动锁定第一个得到的客户端A回应的二元组，由于客户端A与客户端B互相向对方发送UDP数据包的操作是异步的，所以客户端A和客户端B发送数据包的时间先后没有时序要求。</li>
</ul>
<p>下面来看下这三者之间时如何进行UDP打洞的,在这我们分三种具体情景来讨论：</p>
<ul>
<li>两个客户端都唯一同一个NAT设备后面，即位于同一个内网中；</li>
<li>两个客户端分别位于不同的NAT设备后面，分属于不容的内网;</li>
<li>两个客户端位于两层NAT设备之后,通常最上层的NAT是由网络提供商提供的，第二层NAT时家用的NAT路由器之类的设备提供的；</li>
</ul>
<h5 id="4-2-3-p2p的两个客户端位于同一个NAT设备后面"><a href="#4-2-3-p2p的两个客户端位于同一个NAT设备后面" class="headerlink" title="4.2.3 p2p的两个客户端位于同一个NAT设备后面"></a><strong><em>4.2.3 p2p的两个客户端位于同一个NAT设备后面</em></strong></h5><p>首先假设两个客户端位于同一个NAT后面，并且位于内网，如图所示，客户端A与集中服务器建立UDP链接，经过NAT转换后，A的公网端口被映射为62000，客户端B同样与集中服务器建立了UDP链接,公网端口映射为62005;</p>
<p><img src="/res/img/blog/计算机网络/2015-02-02-004.png" alt="位于同一个NAT设备后的UDP打洞过程"></p>
<p>　　假设客户端A向通过集中服务器，发起对客户端B的链接，客户端A向集中服务器发出消息请求与客户端B进行链接，集中服务器将客户端B的外网地址二元组以及内网地址二元组发送给客户端A,同时把客户端A的相关二元组信息发给B，。客户端A和客户端B发往对方公网地址二元组兵一定会被对方收到，这取决于当前的NAT设备是否支持不同端口之间的UDP数据包能够到达，即<code>Harrpin</code>转换特性，无论如何客户端Ａ发往客户端B的内网地址二元组的UDP数据包一定可以到达，内网数据包不需要路由，且速度更快，客户端A与客户端B推荐采用内网地址二元组信息进行常规p2p通信。<br>　　假定NAT设备支持<code>Hairpin</code>转换，具体的<code>Hairpin</code>转换详见其他文章，应用程序也应该忽略与内网地址二元组的链接，如果客户端A和客户端B采用外网的地址二元组作为p2p通信的链接，这势必会造成数据包无谓的经过NAT设备，这是一种对资源的浪费，就目前的网络情况而言，应用程序在”打洞”的时候，最好还是把外网和内网地址二元组都尝试一下，如果都能成功，有限以内网地址进行链接。</p>
<h5 id="4-2-4-P2P客户端位于不同NAT设备后面"><a href="#4-2-4-P2P客户端位于不同NAT设备后面" class="headerlink" title="4.2.4 P2P客户端位于不同NAT设备后面"></a><strong><em>4.2.4 P2P客户端位于不同NAT设备后面</em></strong></h5><p>　　假定客户端A与客户端B在不容的NAT设备后面，分属于不同的内网，如图所示，客户端A与客户端B都经由个子的NAT设备与集中服务器建立了UDP链接，客户端A与客户端B的本地端口好均为4321，集中服务器的公网端口号为1234，在向外的回话中，客户端A的外网IP被映射为159.99.25.11，外网端口为62000，客户端B的外网IP被映射为138.76.29.7，外网端口为31000.</p>
<p>　　如下图所示：</p>
<ul>
<li>客户端A -&gt; 本地IP:10.0.0.1,本地端口4321,　外网IP:155.99.25.11,外网端口62000</li>
<li>客户端B -&gt; 本地IP:10.1.1.3,本地端口4321,  外网IP:138.76.29.7, 外网端口31000</li>
</ul>
<p><img src="/res/img/blog/计算机网络/2015-02-02-005.png" alt="位于不同的NAT设备后的UDP打洞过程"></p>
<p>　　在客户端A或者B向集中服务器发送登陆消息时，服务器会记录下客户端的内外网的二元组信息，后期无论是A与B二者中的任何乙方向服务器发送P2P请求，服务器都会将记录下来的上述信息发送给A或B.<br>　　A,B分属于不同的内网，他们彼此的内网地址在外网中时没有路由的，所以发往各自内网地址的UDP数据包回发送到错误的主机或者根本不存在的主机上，现在假定A的第一个消息将发往B的外网地址，如图所示，该消息途径A的NAT设备，并在该设备上生成一个回话表项，该会话表项源地址二元组信息时{10.0.0.1:4321}，该地址二元组信息和客户端A与服务器建立连接的时候NAT生成的源地址二元组信息一样，但他的目的地址不同，如果A的NAT设备给出的响应是OK的，那么A的NAT设备将保留A的内网地址二元组信息，并且所有来自A的源地址二元组信息为{10.0.0.1:4321}的数据包都沿用A与集中服务器事先建立起来的回话，外网地址二元组信息均为{155.99.25.11:62000}.<br>　　A向B的外网地址发送消息的过程就是”打洞”的过程，从A的内网的角度来看应为从{10.0.0.1:4321}发往{138.76.29.7:31000},从A在其NAT设备上建立的回话来看，是从{155.99.25.11:62000}发到{138.76.29.7:31000}.<br>　　如果A发送给B的外网地址二元组的信息包在B向A发送消息包之前到达B的NAT设备，B的NAT设备会认为A发过来的消息是未授权的外网消息，会丢弃该数据包.B发往A的消息与上述过程一样，会在B的NAT设备上建立一个{10.1.1.3:4321,155.99.25.11:62000}的会话(通常也会沿用B与集中服务器链接时建立的会话，只是该会话现在不仅接受服务器发给B的消息，还接受从A的NAT设备155.99.25.11:62000发来的消息),一旦A与B都想对方的NAT设备在外网上的地址二元组发送了数据包，就打开了A与Ｂ之间的洞，A与B向对方的外网地址发送数据，等效为向对方的客户端直接发送UDP数据包了，一旦应用程序确认已经可以通过往对方的外网地址发送数据包的方式让数据到达NAT后面的目的应用程序，程序会自动停止继续发送用于打洞的数据包，转而开始真正的p2p数据传输；</p>
<h5 id="4-2-5-P2P客户端位于多层NAT设备后面"><a href="#4-2-5-P2P客户端位于多层NAT设备后面" class="headerlink" title="4.2.5 P2P客户端位于多层NAT设备后面"></a><strong><em>4.2.5 P2P客户端位于多层NAT设备后面</em></strong></h5><p>　　有的网络拓扑结构包含了多个NAT设备，如果没有掌握该拓扑结构的详细信息，两个客户端之间是无法建立”最优化”的P2P路由的，现在我们来讨论最后一种情况。如图所示，假定NAT　C是由ISP提供的NAT设备，NAT C提供多个用户节点映射到有限的几个公网IP的服务，NAT A和NAT B作为NAT C的内网节点将把用户的家庭网络或内部网络接入NAT C的内网，然后用户的内部网络就可以经由NAT C访问公网了，从这种拓扑结构来看，只有服务器与NAT　C时真正拥有公网可路由IP地址的设备，而NAT A和NAT B所使用的公网IP地址，实际上石油ISP服务提供商设定的(相对于NAT C而言)内网地址(本文的后续部分把这个由ISP提供的内网地址相对于NAT C称之为”伪”公网地址)，同理隶属于NAT A与NAT B的客户端,相对于NAT A,NAT B而言，他们处于NAT A,NAT B的内网，以此类推，客户端可以放到多层NAT设备后面，客户端A和客户端B发去对于服务器S的链接的时候，就会以此在NAT A和NAT B上建立向外的Session，而NAT A，NAT B要联入公网的时候，会在NAT C上在建立想歪的Session;</p>
<p><img src="/res/img/blog/计算机网络/2015-02-02-006.png" alt="多层NAT下的打洞过程"></p>
<p>　　现在假定客户端A和B希望通过UDP”打洞”完成两个客户端的P2P直连，最优化的路由策略时客户端A向客户端B的伪公网IP上发送数据包，即ISP服务器提供商指定的内网IP,NAT B的伪公网地址二元组{10.0.1.2:55000},由于从服务器的角度只能观察到真正的公网地址，也就是 NAT A,NAT B在NAT C建立session的真正的公网地址{155.99.25.11:62000}以及{155.99.25.11:62005},非常不幸的时客户端A与客户端B是无法通过服务器知道这些伪公网地址，而且即使客户端A和B通过某种手段得到NAT A和NAT B的伪公网地址，我们仍然不建议采用上述的最优化的打洞方式，这是因为这些地址是由ISP服务器提供商提供的或许会存在与客户端本身所在的内网地址重复的可能性(例如：NAT A的内网的IP地址域恰好与NAT A 在NAT C的伪公网IP地址域重复，这样就导致打洞数据包无法发出的问题)，因此客户端别无选择，只能使用由公网服务器观察到的A,B二元组进行打洞操作，用于打洞的数据包将由NAT　C进行转发。<br>　　当客户端A向客户端B的公网地址二元组{155.99.25.11:62005}发送UDP数据包的时候，NAT A首先把数据包的源地址二元组由A的内网地址二元组{10.0.0.1:4321}转换为伪公网地址二元组{10.0.1.1:45000},现在数据包到了NAT C,NAT C应该可以是别处来该数据包是要发往自身转换过得公网地址二元组，如果NAT C可以给出”合理”相应的话，NAT C将把该数据包的源地址二元组改为{155.99.25.11:62000}，目的地址二元组改为{10.0.1.2:55000},即NAT B的”伪公网”地址二元组，NAT B最后会将数据包发往客户端B,同样，由B发往A的数据包也会经过类似的过程，目前也有很多NAT设备不支持类似这样的<code>Hairpin</code>转换，但是意境有越来越多的NAT设备商开始加入对该转换的支持中来。</p>
<h5 id="4-2-6-UDP在空闲状态下的超时问题"><a href="#4-2-6-UDP在空闲状态下的超时问题" class="headerlink" title="4.2.6 UDP在空闲状态下的超时问题"></a><strong><em>4.2.6 UDP在空闲状态下的超时问题</em></strong></h5><p>由于UDP转换协议提供的“洞”不是绝对可靠的，多数NAT设备内部都有一个UDP转换的空闲状态计时器，如果在一段时间内没有UDP数据通信，NAT设备会关掉由“打洞”操作打出来的“洞”，作为应用程序来讲如果想要做到与设备无关，就最好在穿越NAT以后设定一个穿越的有效期。<br>很遗憾目前没有标准有效期，这个有效期与NAT设备内部的配置有关，某些设备上最短的只有20秒左右。在这个有效期内，即使没有P2P数据包需要传输，应用程序为了维持该“洞”可以正常工作，也必须向对方发送“打洞”心跳包。这个心跳包是需要双方应用程序都发送的，只有一方发送不会维持另一方的Session正常工作。除了频繁发送“打洞”心跳包以外，还有一个方法就是在当前的“洞”超时之前，P2P客户端双方重新“打洞”，丢弃原有的“洞”，这也不失为一个有效的方法。</p>
]]></content>
      
        <categories>
            
            <category> 计算机网络 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python CRC32]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/01/28/Python%E5%AD%A6%E4%B9%A0-2015-01-30-python-CRC32/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="python-CRC32方法"><a href="#python-CRC32方法" class="headerlink" title="python CRC32方法"></a><strong>python CRC32方法</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">_crc32</span><span class="params">(self, v)</span>:</span> </div><div class="line">   <span class="string">""" </span></div><div class="line">   Generates the crc32 hash of the v. </div><div class="line">   @return: str, the str value for the crc32 of the v </div><div class="line">   """ </div><div class="line">   <span class="keyword">return</span> <span class="string">'0x%x'</span> % (binascii.crc32(v) &amp; <span class="number">0xffffffff</span>)</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[2>&1详解]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/01/28/linux%E5%AD%A6%E4%B9%A0-2015-01-28-shell%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="Shell-dev-null-2-gt-amp-1详解"><a href="#Shell-dev-null-2-gt-amp-1详解" class="headerlink" title="Shell: /dev/null 2&gt;&amp;1详解"></a><strong><em>Shell: /dev/null 2&gt;&amp;1详解</em></strong></h3><p>可以将/dev/null看作”黑洞”. 它非常等价于一个只写文件. 所有写入它的内容都会永远丢失. 而尝试从它那儿读取内容则什么也读不到. 然而, /dev/null对命令行和脚本都非常的有用. </p>
<p>用处: </p>
<ul>
<li>禁止标准输出.    1 cat $filename &gt;/dev/null   # 文件内容丢失，而不会输出到标准输出. </li>
<li>禁止标准错误.    2&gt;/dev/null 这样错误信息[标准错误]就被丢到太平洋去了. </li>
</ul>
<p><code>&gt;</code> 代表重定向到哪里，例如：echo “123” &gt; /home/123.txt </p>
<ul>
<li>1 表示stdout标准输出，系统默认值是1，所以”&gt;/dev/null”等同于”1&gt;/dev/null” </li>
<li>2 表示stderr标准错误 </li>
<li>&amp; 表示等同于的意思，2&gt;&amp;1，表示2的输出重定向等同于1 </li>
</ul>
<p>那么本文标题的语句： </p>
<ul>
<li>1&gt;/dev/null 首先表示标准输出重定向到空设备文件，也就是不输出任何信息到终端，说白了就是不显示任何信息。 </li>
<li>2&gt;&amp;1 接着，标准错误输出重定向等同于 标准输出，因为之前标准输出已经重定向到了空设备文件，所以标准错误输出也重定向到空设备文件。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[crtmpserver配置文件说明]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/01/28/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-01-28-crtmpserver%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a><strong><em>配置文件说明</em></strong></h2><p>配置文件实际上是一个Lua脚本，它包含至少一个configuration的对象，从而为程序提供灵活的扩展和定制功能。除了configuration对象外，还可以有函数，Lua库等。</p>
<h3 id="主结构"><a href="#主结构" class="headerlink" title="主结构"></a><strong><em>主结构</em></strong></h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">configuration=</div><div class="line">&#123;</div><div class="line">  daemon=<span class="literal">false</span>,</div><div class="line">  pathSeparator=<span class="string">"/"</span>,</div><div class="line">  logAppenders=</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;,</div><div class="line">  applications=</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">key</th>
<th style="text-align:center">type</th>
<th style="text-align:center">mandatory</th>
<th style="text-align:center">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">daemon</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">true  表示 服务以后台方式启动;false 表示 服务以控制台模式启动(以用于开发);</td>
</tr>
<tr>
<td style="text-align:center">pathSeparator</td>
<td style="text-align:center">string(1)</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">用来分隔路径; 例如，在UNIX-like是 /, Windows是\;</td>
</tr>
<tr>
<td style="text-align:center">logAppenders</td>
<td style="text-align:center">object</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">配置日志追加的容器</td>
</tr>
<tr>
<td style="text-align:center">applications</td>
<td style="text-align:center">object</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">配置加载各种应用的容器</td>
</tr>
</tbody>
</table>
<p><strong><em>服务启动时，将按顺序执行下列操作:</em></strong></p>
<ul>
<li>配置文件加载后，首先做的就是对配置文件进行校验，如果配置文件有错误，将会有错误提示并停止启动，可进行修改后再启动;</li>
<li>读取 daemon 值，判断服务是以后台方式启动还是以控制台方式启动;</li>
<li>读取日志追加器，用来配置日志记录并启动到运行状态，依据日志追加器，可以看到更多的日志信息;</li>
<li>最后的应用加载，只到这一步完成后，服务和应用才在线，并准备就绪;</li>
</ul>
<h3 id="日志追加器"><a href="#日志追加器" class="headerlink" title="日志追加器"></a><strong><em>日志追加器</em></strong></h3><p>这部分包含了一个日志追加器的列表。整个日志追加器的添加是在加载时配置，依据日志级别，追加器可以选择是否有日志消息输出到指定目的处；</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">logAppenders=</div><div class="line">&#123;</div><div class="line">  &#123;</div><div class="line">    name=<span class="string">"console appender"</span>,</div><div class="line">    <span class="built_in">type</span>=<span class="string">"coloredConsole"</span>,</div><div class="line">    level=<span class="number">6</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    name=<span class="string">"file appender"</span>,</div><div class="line">    <span class="built_in">type</span>=<span class="string">"file"</span>,</div><div class="line">    level=<span class="number">6</span>,</div><div class="line">    fileName=<span class="string">"/tmp/crtmpserver.log"</span></div><div class="line">  &#125;</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<p><strong><em>logAppenders structure</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">key</th>
<th style="text-align:center">type</th>
<th style="text-align:center">mandatory</th>
<th style="text-align:center">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">name</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">追加器的名字.</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">追加器的类型可以是控制台，带颜色控制台或文件;控制台和带颜色控制台都会将日志消息输出到控制台，不同之处在于带颜色控制台会依据日志级别进行颜色标记；文件类型则会将所有消息输出到指定的文件；</td>
</tr>
<tr>
<td style="text-align:center">level</td>
<td style="text-align:center">number</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">日志的级别可见下表中的级别定义；\n只有小于或等于这个级别的日志消息会被记录，高于这个级别则都被丢弃；例如:级别为0时，只记录 FATAL 消息；级别为3时，只记录 FATAL, ERROR, WARNING, INFO 消息；</td>
</tr>
<tr>
<td style="text-align:center">fileName</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">如果追加器类型为文件，则在此处指定日志文件和路径</td>
</tr>
</tbody>
</table>
<p><strong><em>Log levels</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">FATAL</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">ERROR</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">WARNING</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">INFO</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">DEBUG</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">FINE</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">FINEST</td>
</tr>
</tbody>
</table>
<p><strong><em>PS</em></strong>: 当使用后台模式时，所有的控制台追加消息将会被忽略。</p>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a><strong><em>应用</em></strong></h3><p>这部分用来配置各种应用，并设置这些应用的属性；每个应用的属性都对应了这个应用的指定功能；</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">applications=</div><div class="line">&#123;</div><div class="line">  rootDirectory=<span class="string">"applications"</span>,</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- settings for application 1</span></div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- settings for application 2</span></div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- settings for application 3</span></div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong><em>applications structure</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">key</th>
<th style="text-align:center">type</th>
<th style="text-align:center">mandatory</th>
<th style="text-align:center">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">rootDirectory</td>
<td style="text-align:center">string</td>
<td style="text-align:center">true</td>
<td style="text-align:center">这个目录包含了应用的子目录；如果路径以 / 或 \ 开始， 则视其为绝对路径，否则视为启动服务时所在的相对路径；</td>
</tr>
</tbody>
</table>
<p>rootDirectory 之后，是应用的集合；每个应用都定义了一个有特定属性的对象；细节如下所示；</p>
<p><strong><em>应用定义</em></strong></p>
<p>这些目录用来定义应用.自从790版本后，添加了一新的功能：mediaStorage; 这个功能能使应用可以有多个mediaFolder，并且可以将.seek/.meta文件和媒体文件分开存储在不同的文件夹中；</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  name=<span class="string">"flvplayback"</span>,</div><div class="line">  protocol=<span class="string">"dynamiclinklibrary"</span>,</div><div class="line">  description=<span class="string">"FLV Playback Sample"</span>,</div><div class="line">  default=<span class="literal">false</span>,</div><div class="line">  validateHandshake=<span class="literal">true</span>,</div><div class="line">  enableCheckBandwidth=<span class="literal">true</span>,</div><div class="line">  <span class="comment">-- this settings are now part of mediaStorage setting</span></div><div class="line">  <span class="comment">-- keyframeSeek=true,</span></div><div class="line">  <span class="comment">-- seekGranularity=1.5,</span></div><div class="line">  <span class="comment">-- clientSideBuffer=12,</span></div><div class="line">  <span class="comment">-- generateMetaFiles=true,</span></div><div class="line">  <span class="comment">-- renameBadFiles=true,</span></div><div class="line">  aliases=</div><div class="line">  &#123;</div><div class="line">    <span class="string">"simpleLive"</span>,</div><div class="line">    <span class="string">"vod"</span>,</div><div class="line">    <span class="string">"live"</span>,</div><div class="line">    <span class="string">"WeeklyQuest"</span>,</div><div class="line">    <span class="string">"SOSample"</span>,</div><div class="line">    <span class="string">"oflaDemo"</span>,</div><div class="line">    <span class="string">"chat"</span>,</div><div class="line">  &#125;,</div><div class="line">  acceptors = </div><div class="line">  &#123;</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- acceptor 1</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- acceptor 2</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- acceptor n</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">-- new feature mediaStorage</span></div><div class="line">  mediaStorage = &#123;</div><div class="line">     namedStorage1=&#123;</div><div class="line">      description=<span class="string">"Main storage"</span>,</div><div class="line">      mediaFolder=<span class="string">"/usr/main_storage/media"</span>, <span class="comment">-- only this parameter IS MANDATORY</span></div><div class="line">      metaFolder=<span class="string">"/usr/main_storage/metadata"</span>, <span class="comment">-- if you have static large file to stream it is good to know that for a file around 500MB </span></div><div class="line">                                               <span class="comment">-- it's .seek file has around 16MB; so it would be preffer to designate metafolder into a system</span></div><div class="line">                                               <span class="comment">-- partition which has enough space... for no surprises... :)</span></div><div class="line">      statsFolder=<span class="string">"/usr/main_storage/statsFolder"</span>,</div><div class="line">      enableStats=<span class="literal">true</span>,</div><div class="line">      clientSideBuffer=<span class="number">16</span>,</div><div class="line">      keyframeSeek=<span class="literal">false</span>, <span class="comment">-- should crtmpdserver DO SEEK ONLY IN key-frame (true/false)? </span></div><div class="line">                          <span class="comment">-- very useful to know in situations like play/pause/resume (meaning pause/seek/play)</span></div><div class="line">      seekGranularity=<span class="number">1</span>,</div><div class="line">      generateMetaFiles=<span class="literal">false</span>,</div><div class="line">      renameBadFiles=<span class="literal">false</span>,</div><div class="line">    &#125;,</div><div class="line">    <span class="comment">--[[&#123;</span></div><div class="line">      -- here is another example of storage; it does not start with name=&#123;...&#125;</div><div class="line">       description="Second storage of same application",</div><div class="line">       mediaFolder="/usr/second_storage/media/flv",</div><div class="line">       metaFolder="/usr/second_storage/metadata",</div><div class="line">       statsFolder="/usr/second_storage/statsFolder",</div><div class="line">    &#125;,]]<span class="comment">--</span></div><div class="line">  &#125;, </div><div class="line">  externalStreams = </div><div class="line">  &#123;</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- stream 1</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- stream 2</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="comment">-- stream n</span></div><div class="line">      <span class="comment">-- content removed for clarity</span></div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  authentication=</div><div class="line">  &#123;</div><div class="line">    <span class="comment">-- content removed for clarity</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong><em>application structure</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">key</th>
<th style="text-align:center">type</th>
<th style="text-align:center">mandatory</th>
<th style="text-align:center">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">name</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">应用的名称</td>
</tr>
<tr>
<td style="text-align:center">protocol</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">应用的类型值为 dynamiclinklibrary 意即 应用是一个共享库</td>
</tr>
<tr>
<td style="text-align:center">description</td>
<td style="text-align:center">string</td>
<td style="text-align:center">no</td>
<td style="text-align:center">应用的描述信息</td>
</tr>
<tr>
<td style="text-align:center">default</td>
<td style="text-align:center">string</td>
<td style="text-align:center">no</td>
<td style="text-align:center">这个标志指定了默认应用；默认应用负责分析连接请求并将连接分配到正确的应用</td>
</tr>
<tr>
<td style="text-align:center">validateHandshake</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">no</td>
<td style="text-align:center">通知服务器在进行下一步前要对客户端的握手进行验证；这是一个可选项，其默认值为真。如果这个值为真 且 握手失败，服务器就放弃这个连接;如果这个值为假，则不会进行强制的握手验证，所有的连接都会被接受；</td>
</tr>
<tr>
<td style="text-align:center">keyframeSeek</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">no</td>
<td style="text-align:center">这个属性指定了流生成器只在关键帧搜索，如果是直播流，则忽略这个值</td>
</tr>
<tr>
<td style="text-align:center">seekGranularity</td>
<td style="text-align:center">double</td>
<td style="text-align:center">no</td>
<td style="text-align:center">搜索的精细度，以秒为单位, 值域定义在 0.1 ~ 600; 例如：如果粒度定义为10秒，并期望定位到 t= 2:34; 则实际上是会定位到 t= 2:30. 60秒被认定为完整的电影长度，1秒为电影片断；</td>
</tr>
<tr>
<td style="text-align:center">clientSideBuffer</td>
<td style="text-align:center">double</td>
<td style="text-align:center">no</td>
<td style="text-align:center">每个连接在客户端的缓冲秒数，值定义在5 ~ 30 秒；</td>
</tr>
<tr>
<td style="text-align:center">generateMetaFiles</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">no</td>
<td style="text-align:center">在应用启动前生成 seek/meta文件</td>
</tr>
<tr>
<td style="text-align:center">renameBadFiles</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">no</td>
<td style="text-align:center">如果这上值为真且媒体文件是不能被解析的，则媒体文件被重命名为 *.bad，否则这样的文件将不做处理</td>
</tr>
<tr>
<td style="text-align:center">aliases</td>
<td style="text-align:center">object</td>
<td style="text-align:center">no</td>
<td style="text-align:center">应用的别名</td>
</tr>
<tr>
<td style="text-align:center">acceptors</td>
<td style="text-align:center">object</td>
<td style="text-align:center">no</td>
<td style="text-align:center">接受器保持这个服务并让服务器托管；应用可以有它自己的接受器，但这个是可选的；</td>
</tr>
<tr>
<td style="text-align:center">externalStreams</td>
<td style="text-align:center">object</td>
<td style="text-align:center">no</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">authentication</td>
<td style="text-align:center">object</td>
<td style="text-align:center">no</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">mediaFolder</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">当定义了 mediaStorage时，这个域用来指定媒体文件的物理位置；</td>
</tr>
<tr>
<td style="text-align:center">metaFolder</td>
<td style="text-align:center">string</td>
<td style="text-align:center">no</td>
<td style="text-align:center">指定用来存放 .seek/.meta文件的位置；</td>
</tr>
<tr>
<td style="text-align:center">statsFolder</td>
<td style="text-align:center">string</td>
<td style="text-align:center">no</td>
<td style="text-align:center">服状态文件的位置</td>
</tr>
</tbody>
</table>
<p><strong><em>acceptor structure</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">key</th>
<th style="text-align:center">type</th>
<th style="text-align:center">mandatory</th>
<th style="text-align:center">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ip</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">服务所在的IP, 0.0.0.0表示所有接口和所有IP;</td>
</tr>
<tr>
<td style="text-align:center">port</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">服务监听的端口号</td>
</tr>
<tr>
<td style="text-align:center">protocol</td>
<td style="text-align:center">string</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">对应 ip:port的服务的协议</td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5安装crtmpserver搭建RTMP流媒体服务器]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/01/28/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-01-28-CentOS6-5%E5%AE%89%E8%A3%85crtmpserver%E6%90%AD%E5%BB%BARTMP%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="1-crtmpserver简介"><a href="#1-crtmpserver简介" class="headerlink" title="1. crtmpserver简介"></a><strong><em>1. crtmpserver简介</em></strong></h2><ul>
<li>支持推送给rtmp流的接受与播放器请求的分发；</li>
<li>rtmp流媒体服务器树状网络集群的构建；</li>
<li>支持 <figure class="highlight plain"><figcaption><span>和　```android```;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">PS:[官网应用介绍](http://www.rtmpd.com/)</div><div class="line"></div><div class="line">## ***2. crtmpserver流媒体服务器的搭建(centOS6.5)***</div><div class="line"></div><div class="line">### ***2.1 cmake的安装***</div><div class="line"></div><div class="line">下载最新的cmake</div><div class="line"></div><div class="line">```sh</div><div class="line">	yum install cmake</div></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-openssl的安装"><a href="#2-2-openssl的安装" class="headerlink" title="2.2 openssl的安装"></a><strong><em>2.2 openssl的安装</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wget -o openssl-0.9.8t.tar.gz http://www.openssl.org/<span class="built_in">source</span>/openssl-0.9.8ze.tar.gz</div><div class="line"><span class="built_in">cd</span> openssl-0.9.8t</div><div class="line">./config</div><div class="line">make .</div><div class="line">make install</div></pre></td></tr></table></figure>
<h3 id="2-3-crtmpserver的编译与安装"><a href="#2-3-crtmpserver的编译与安装" class="headerlink" title="2.3 crtmpserver的编译与安装"></a><strong><em>2.3 crtmpserver的编译与安装</em></strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">svn co --username anonymous --password <span class="string">""</span> https://svn.rtmpd.com/crtmpserver/branches/1.0 crtmpserver</div><div class="line"><span class="built_in">cd</span> crtmpserver</div><div class="line">sh ./cleanup.sh</div><div class="line"><span class="built_in">cd</span> builders/cmake</div><div class="line">cmake .</div><div class="line">make</div><div class="line">./crtmpserver/crtmpserver ./crtmpserver/crtmpserver.lua</div></pre></td></tr></table></figure>
<p><strong><em>PS:</em></strong> </p>
<ul>
<li>最后一行命令“”#./crtmpserver/crtmpserver ./crtmpserver/crtmpserver.lua”意思是：使用“./crtmpserver/crtmpserver.lua”为配置脚本，启动“crtmpserver”服务;</li>
<li>最后一行命令的目录是在”builders/cmake”下;</li>
</ul>
<h2 id="3-脚本的自启动和静默运行"><a href="#3-脚本的自启动和静默运行" class="headerlink" title="3. 脚本的自启动和静默运行"></a><strong><em>3. 脚本的自启动和静默运行</em></strong></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nohup ./crtmpserver/crtmpserver ./crtmpserver/crtmpserver.lua &amp;</div></pre></td></tr></table></figure>
<h3 id="4-JWPlayer直播方案搭建"><a href="#4-JWPlayer直播方案搭建" class="headerlink" title="4. JWPlayer直播方案搭建"></a><strong><em>4. JWPlayer直播方案搭建</em></strong></h3><h3 id="4-1-搭建http-server"><a href="#4-1-搭建http-server" class="headerlink" title="4.1 搭建http server"></a><strong><em>4.1 搭建http server</em></strong></h3><p>略</p>
<h3 id="4-2-下载JWPlayer并部署到http-server上"><a href="#4-2-下载JWPlayer并部署到http-server上" class="headerlink" title="4.2 下载JWPlayer并部署到http server上"></a><strong><em>4.2 下载JWPlayer并部署到http server上</em></strong></h3><p><a href="http://www.longtailvideo.com/" target="_blank" rel="external">JWPlayer官网</a><br><a href="http://www.longtailvideo.com/jw-player/download/" target="_blank" rel="external">JWPlayer下载页面</a><br>以上链接不能用的话我自己网盘里面有ｏ（╯□╰）ｏ<br>下载解压后，将jwplayer整个文件夹内容放到网站指定目录下<br>如根目录下的jwplayer文件夹;</p>
<h3 id="4-3-新建播放器的html页面"><a href="#4-3-新建播放器的html页面" class="headerlink" title="4.3 新建播放器的html页面"></a><strong><em>4.3 新建播放器的html页面</em></strong></h3><p><strong><em>test.html</em></strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/jwplayer/jwplayer.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'my-video'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </div><div class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span>&gt;</span><span class="undefined">    </span></div><div class="line"> 			jwplayer('my-video').setup(&#123;file:'rtmp://127.0.0.1/live/livestream',width: '640', height: '480'&#125;); </div><div class="line">		<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="4-4-使用Flash-Media-Live-Encoder推送直播源"><a href="#4-4-使用Flash-Media-Live-Encoder推送直播源" class="headerlink" title="4.4 使用Flash Media Live Encoder推送直播源"></a><strong><em>4.4 使用Flash Media Live Encoder推送直播源</em></strong></h3><p><img src="/res/img/blog/环境搭建/crtspserver.jpg" alt="Flash Media Live Encoder"></p>
<p>设置好后，点start即可</p>
<h3 id="4-5-浏览器中查看"><a href="#4-5-浏览器中查看" class="headerlink" title="4.5 浏览器中查看"></a><strong><em>4.5 浏览器中查看</em></strong></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1/jwplayer/test.html</div></pre></td></tr></table></figure>
<h3 id="4-6-使用ffmpeg做为直播源"><a href="#4-6-使用ffmpeg做为直播源" class="headerlink" title="4.6 使用ffmpeg做为直播源"></a><strong><em>4.6 使用ffmpeg做为直播源</em></strong></h3><ul>
<li>不能直接使用ffmpeg的rtmp模块进行流推送需要使用librtmp才能进行正常的流推送和观看；</li>
<li>原始的lua可以不用做修改,示例命令如下：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./ffmpeg -re -i c1.flv -acodec copy -vcodec copy <span class="_">-f</span> flv rtmp://127.0.0.1/live/livestream</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python 看门狗]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/01/28/Python%E5%AD%A6%E4%B9%A0-2015-01-28-python%E7%9C%8B%E9%97%A8%E7%8B%97%E7%A8%8B%E5%BA%8F/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="python看门狗"><a href="#python看门狗" class="headerlink" title="python看门狗"></a><strong><em>python看门狗</em></strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> signal</div><div class="line"><span class="keyword">import</span> socket</div><div class="line"></div><div class="line"><span class="comment"># set the default encoding to utf-8</span></div><div class="line"><span class="comment"># reload sys model to enable the getdefaultencoding method.</span></div><div class="line">reload(sys)</div><div class="line"><span class="comment"># using exec to set the encoding, to avoid error in IDE.</span></div><div class="line"><span class="keyword">exec</span> <span class="string">"sys.setdefaultencoding('utf-8')"</span></div><div class="line"><span class="keyword">assert</span> sys.getdefaultencoding().lower() == <span class="string">"utf-8"</span></div><div class="line"></div><div class="line"><span class="comment"># <span class="doctag">TODO:</span> check python version, &gt;=2.6 requires.</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span><span class="params">(signum, frame)</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'usr press ctrl+c, exit'</span></div><div class="line">    sys.exit(<span class="number">0</span>)</div><div class="line"></div><div class="line"></div><div class="line">signal.signal(signal.SIGINT, handler)</div><div class="line"></div><div class="line"><span class="comment"># the command to get and check the My server status</span></div><div class="line">check_My_server_command = <span class="string">"sudo /etc/init.d/daodaoliang status"</span></div><div class="line"><span class="comment"># when server stopped, restart it.</span></div><div class="line">start_My_server_command = <span class="string">"sudo /etc/init.d/daodaoliang start"</span></div><div class="line"><span class="comment"># the interval to check the server.</span></div><div class="line">check_My_server_interval_seconds = <span class="number">5</span></div><div class="line"><span class="comment"># sleep seconds when main function exception</span></div><div class="line">main_function_exception_sleep_seconds = <span class="number">10</span></div><div class="line"><span class="comment"># email to user list</span></div><div class="line">to_user = [<span class="string">"88341189@qq.com"</span>, <span class="string">"wangxkww@163.com"</span>]</div><div class="line"></div><div class="line"><span class="comment"># consts</span></div><div class="line">My_server_dir = <span class="string">"/work/code//work/code/cusflo-server-moon"</span></div><div class="line">My_server_version_command = <span class="string">"%s/dog/client_update_dog.py"</span> % My_server_dir</div><div class="line">My_server_conf_file = <span class="string">"%s/conf/My_server.conf"</span> % My_server_dir</div><div class="line">My_server_log_prefix = <span class="string">"daodaoliang.log"</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_mail</span><span class="params">(smtp_server, username, password, to_user, subject, content)</span>:</span></div><div class="line">    msg = MIMEText(content, _subtype=<span class="string">'html'</span>, _charset=<span class="string">'gb2312'</span>)</div><div class="line">    msg[<span class="string">'Subject'</span>] = subject</div><div class="line">    msg[<span class="string">'From'</span>] = username</div><div class="line">    msg[<span class="string">'To'</span>] = <span class="string">";"</span>.join(to_user)</div><div class="line"></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        smtp = smtplib.SMTP()</div><div class="line">        smtp.connect(smtp_server)</div><div class="line">        smtp.login(username, password)</div><div class="line">        smtp.sendmail(username, to_user, msg.as_string())</div><div class="line">        smtp.close()</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span></div><div class="line">    <span class="keyword">except</span> Exception, ex:</div><div class="line">        <span class="keyword">print</span> <span class="string">"send email failed: %s"</span> % ex</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> len(sys.argv) &lt;= <span class="number">3</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"""Usage: %s &lt;email_smtp_server&gt; &lt;email_username&gt; &lt;email_password&gt;</span></div><div class="line">        email_smtp_server the smtp server. eg. smtp.126.com</div><div class="line">        email_username    the email user to login to smtp server. eg. mymail@126.com</div><div class="line">        email_password    the email user password to login. e.g xxxxx</div><div class="line">For example:</div><div class="line">        %s smtp.126.com mymail@126.com xxxxx""" % (sys.argv[<span class="number">0</span>], sys.argv[<span class="number">0</span>])</div><div class="line">    sys.exit(<span class="number">1</span>)</div><div class="line"></div><div class="line">(email_smtp_server, email_username, email_password) = sys.argv[<span class="number">1</span>:]</div><div class="line"><span class="keyword">print</span> <span class="string">"email_smtp_server=%s, email_username=%s, email_password=%s"</span> % (</div><div class="line">    email_smtp_server, email_username, email_password)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">strip_execute_command_get_output</span><span class="params">(cmd)</span>:</span></div><div class="line">    output = execute_command_get_output(cmd)</div><div class="line">    output = [x.strip() <span class="keyword">for</span> x <span class="keyword">in</span> output]</div><div class="line">    <span class="keyword">return</span> output</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">execute_command_get_output</span><span class="params">(cmd)</span>:</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        pipe = os.popen(cmd)</div><div class="line">        output = pipe.readlines()</div><div class="line">        pipe.close()</div><div class="line">        <span class="keyword">return</span> output</div><div class="line">    <span class="keyword">except</span> Exception, ex:</div><div class="line">        <span class="keyword">print</span> <span class="string">"execute cmd %s failed: %s"</span> % (cmd, ex)</div><div class="line">        <span class="keyword">return</span> <span class="string">"error"</span></div><div class="line"></div><div class="line"></div><div class="line">hostname = socket.gethostname()</div><div class="line">iplist = strip_execute_command_get_output(</div><div class="line">    <span class="string">'''ifconfig 2&gt;/dev/null |grep "inet addr"|awk '&#123;print $2&#125;'|awk -F ':' '&#123;print $2&#125;'|grep -v "127.0.0.1"'''</span>)</div><div class="line">sysinfo = <span class="string">"%s %s"</span> % (sys.platform, sys.version.replace(<span class="string">"\n"</span>, <span class="string">" "</span>))</div><div class="line"><span class="keyword">print</span> <span class="string">"hostname=%s, iplist=%s, sysinfo=%s"</span> % (hostname, iplist, sysinfo)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_content_then_start_server</span><span class="params">()</span>:</span></div><div class="line">    basic_cmd = time.strftime(<span class="string">'%Y-%m-%d %X'</span>, time.localtime())</div><div class="line">    basic_info = <span class="string">"%s\n%s\n%s"</span> % (hostname, <span class="string">" "</span>.join(iplist), sysinfo)</div><div class="line">    version_cmd = <span class="string">"%s -v 2&gt;&amp;1"</span> % My_server_version_command</div><div class="line">    version_info = execute_command_get_output(version_cmd)</div><div class="line">    ls_cmd = <span class="string">"ls -lh %s 2&gt;&amp;1; ls -lh %s/log 2&gt;&amp;1"</span> % (My_server_dir, My_server_dir)</div><div class="line">    ls_info = execute_command_get_output(ls_cmd)</div><div class="line">    lsbrelease_cmd = <span class="string">"lsb_release -a 2&gt;&amp;1"</span></div><div class="line">    lsbrelease_info = execute_command_get_output(lsbrelease_cmd)</div><div class="line">    uname_cmd = <span class="string">"uname -a 2&gt;&amp;1"</span></div><div class="line">    uname_info = execute_command_get_output(uname_cmd)</div><div class="line">    ccamr_cmd = <span class="string">"ccamr list 2&gt;&amp;1"</span></div><div class="line">    ccamr_info = execute_command_get_output(ccamr_cmd)</div><div class="line">    ps_cmd = <span class="string">"ps aux|grep My|grep -v Myd|grep -v grep 2&gt;&amp;1"</span></div><div class="line">    ps_info = execute_command_get_output(ps_cmd)</div><div class="line">    df_cmd = <span class="string">"df -h 2&gt;&amp;1"</span></div><div class="line">    df_info = execute_command_get_output(df_cmd)</div><div class="line">    free_cmd = <span class="string">"free -m 2&gt;&amp;1"</span></div><div class="line">    free_info = execute_command_get_output(free_cmd)</div><div class="line">    conf_cmd = <span class="string">"cat %s 2&gt;&amp;1"</span> % My_server_conf_file</div><div class="line">    conf_info = execute_command_get_output(conf_cmd)</div><div class="line">    top_cmd = <span class="string">"top -c -n 1 -b 2&gt;&amp;1"</span></div><div class="line">    top_info = execute_command_get_output(top_cmd)</div><div class="line">    vmstat_cmd = <span class="string">"vmstat 1 3 2&gt;&amp;1"</span></div><div class="line">    vmstat_info = execute_command_get_output(vmstat_cmd)</div><div class="line">    iostat_cmd = <span class="string">"iostat 1 3 2&gt;&amp;1"</span></div><div class="line">    iostat_info = execute_command_get_output(iostat_cmd)</div><div class="line"></div><div class="line">    <span class="keyword">print</span> <span class="string">"dump info success"</span></div><div class="line"></div><div class="line">    <span class="comment"># old logs</span></div><div class="line">    old_logs = strip_execute_command_get_output(</div><div class="line">        <span class="string">"(cd %s/log/ &amp;&amp; ls |grep %s) 2&gt;&amp;1"</span> % (My_server_dir, My_server_log_prefix))</div><div class="line"></div><div class="line">    <span class="comment"># start server.</span></div><div class="line">    start_cmd = <span class="string">"%s  2&gt;&amp;1"</span> % start_My_server_command</div><div class="line">    start_info = execute_command_get_output(start_cmd)</div><div class="line">    <span class="keyword">print</span> <span class="string">"try start server completed"</span></div><div class="line"></div><div class="line">    <span class="comment"># get the system start logs</span></div><div class="line">    newlogs_cmd = <span class="string">"(cd %s/log/ &amp;&amp; ls |grep %s"</span> % (My_server_dir, My_server_log_prefix)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> old_logs:</div><div class="line">        newlogs_cmd = <span class="string">"%s| grep -v %s"</span> % (newlogs_cmd, i)</div><div class="line">    newlogs_cmd = <span class="string">"%s| xargs cat) 2&gt;&amp;1"</span> % newlogs_cmd</div><div class="line">    newlogs_info = execute_command_get_output(newlogs_cmd)</div><div class="line"></div><div class="line">    content = <span class="string">'''</span></div><div class="line">        &lt;style&gt;</div><div class="line">            div.cmd&#123;</div><div class="line">                background-color: #00E000;</div><div class="line">                font-size: 15px;</div><div class="line">                font-weight: bold;</div><div class="line">                padding: 2px 3px 2px 5px;</div><div class="line">            &#125;</div><div class="line">            div.info&#123;</div><div class="line">                background-color: #CCCCCC;</div><div class="line">                margin-top: 0px;</div><div class="line">                margin-bottom: 10px;</div><div class="line">                margin-left: 10px;</div><div class="line">                font-size: 12px;</div><div class="line">                padding: 2px 3px 2px 5px;</div><div class="line">            &#125;</div><div class="line">        &lt;/style&gt;</div><div class="line">        &lt;!-- basic --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- version --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- ls --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- lsbrelease --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- uname --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- ccamr --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- ps --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- df --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- free --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- conf --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- top --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- vmstat --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- iostat --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- start server --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        &lt;!-- server log --&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;div class='cmd'&gt;%s&lt;/div&gt;</div><div class="line">            &lt;div class='info'&gt;%s&lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">    ''' % (basic_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(basic_info),</div><div class="line">           version_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(version_info),</div><div class="line">           ls_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(ls_info),</div><div class="line">           lsbrelease_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(lsbrelease_info),</div><div class="line">           uname_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(uname_info),</div><div class="line">           ccamr_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(ccamr_info),</div><div class="line">           ps_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(ps_info),</div><div class="line">           df_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(df_info),</div><div class="line">           free_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(free_info),</div><div class="line">           conf_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(conf_info),</div><div class="line">           top_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(top_info),</div><div class="line">           vmstat_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(vmstat_info),</div><div class="line">           iostat_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(iostat_info),</div><div class="line">           start_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(start_info),</div><div class="line">           newlogs_cmd, <span class="string">"&lt;pre&gt;%s&lt;/pre&gt;"</span> % <span class="string">""</span>.join(newlogs_info)</div><div class="line">    )</div><div class="line"></div><div class="line">    <span class="comment"># print content;</span></div><div class="line">    <span class="keyword">return</span> content</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">"start check server status"</span></div><div class="line">        ret = os.system(<span class="string">"%s  &gt; /dev/null 2&gt;&amp;1"</span> % check_My_server_command)</div><div class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"server crash, ret=%s"</span> % ret</div><div class="line">            subject = <span class="string">"[MyServer] watchdog server %s crash"</span> % hostname</div><div class="line">            content = generate_content_then_start_server()</div><div class="line">            <span class="keyword">print</span> <span class="string">"email to %s"</span> % to_user</div><div class="line">            <span class="keyword">if</span> <span class="number">0</span> == send_mail(email_smtp_server, email_username, email_password, to_user, subject, content):</div><div class="line">                <span class="keyword">print</span> <span class="string">"email success"</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"server is ok"</span></div><div class="line">        time.sleep(check_My_server_interval_seconds)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        main()</div><div class="line">    <span class="keyword">except</span> Exception, ex:</div><div class="line">        <span class="keyword">print</span> <span class="string">"main function exception: %s"</span> % ex</div><div class="line">    time.sleep(main_function_exception_sleep_seconds)</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5安装DSS搭建RTSP流媒体服务器]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2015/01/27/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2015-01-27-CentOS6-5%E5%AE%89%E8%A3%85DSS%E6%90%AD%E5%BB%BARTSP%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="1-下载Darwin-Streaming-Server-v5-5-5-Linux安装包"><a href="#1-下载Darwin-Streaming-Server-v5-5-5-Linux安装包" class="headerlink" title="1. 下载Darwin Streaming Server v5.5.5 Linux安装包"></a>1. 下载Darwin Streaming Server v5.5.5 Linux安装包</h3><ul>
<li><p>下载 <a href="http://dss.macosforge.org/downloads/DarwinStreamingSrvr5.5.5-Linux.tar.gz，然后通过SFTP或者FTP上传到服务器上。" target="_blank" rel="external">http://dss.macosforge.org/downloads/DarwinStreamingSrvr5.5.5-Linux.tar.gz，然后通过SFTP或者FTP上传到服务器上。</a></p>
</li>
<li><p>如果服务器可以上网，也可以直接用wget命令下载：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://dss.macosforge.org/downloads/DarwinStreamingSrvr5.5.5-Linux.tar.gz</div></pre></td></tr></table></figure>
<h3 id="2-解包DarwinStreamingSrvr5-5-5-Linux-tar-gz文件"><a href="#2-解包DarwinStreamingSrvr5-5-5-Linux-tar-gz文件" class="headerlink" title="2. 解包DarwinStreamingSrvr5.5.5-Linux.tar.gz文件"></a>2. 解包DarwinStreamingSrvr5.5.5-Linux.tar.gz文件</h3><ul>
<li>执行解压命令</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -zxvf DarwinStreamingSrvr5.5.5-Linux.tar.gz</div></pre></td></tr></table></figure>
<h3 id="3-安装DSS"><a href="#3-安装DSS" class="headerlink" title="3. 安装DSS"></a>3. 安装DSS</h3><ul>
<li>cd到DarwinStreamingSrvrlinux-Linux目录</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> DarwinStreamingSrvrlinux-Linux</div></pre></td></tr></table></figure>
<ul>
<li>安装Darwin Streaming Server v5.5.5</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./Install</div></pre></td></tr></table></figure>
<h3 id="4-配置测试"><a href="#4-配置测试" class="headerlink" title="4. 配置测试"></a>4. 配置测试</h3><ul>
<li>打开浏览器，访问Darwin Streaming Server WEB界面（ip换成你服务器的IP）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://ip:1220/</div></pre></td></tr></table></figure>
<ul>
<li><p>初始设置向导</p>
<ul>
<li>Setup Assistant MP3 Broadcast Password：这里重复输入你的密码，然后点Next下一步；</li>
<li>Setup Assistant Secure Administration：不用勾选，直接点Next下一步；</li>
<li>Setup Assistant Media Folder:默认为/usr/local/movies，不建议修改，直接点Next下一步；</li>
<li>Setup Assistant Streaming on Port 80：不建议改端口，点Finish完成设置向导;</li>
</ul>
</li>
<li><p>测试RTSP流媒体服务是否可用：</p>
<ul>
<li>现在可以打开QuickTime 播放了，选择url播放，由于我播放列表中是sample_100kbit.mp4，所以在url中输入： </li>
</ul>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtsp://172.16.31.141/sample_100kbit.mp4，172.16.31.141是我linux机器的地址。</div></pre></td></tr></table></figure>
<h3 id="5-视频转换"><a href="#5-视频转换" class="headerlink" title="5. 视频转换"></a>5. 视频转换</h3><ul>
<li>如果要用自己的多媒体文件来测试程序，传到流媒体服务器上后，用模拟器测试是无法播放的，程序会报</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CommandPLAYER_INIT completed with an error or infoPVMFFailure</div></pre></td></tr></table></figure>
<ul>
<li><p>流媒体是需要先hint的。所谓hint只是在原有的视音频轨道上增加一些流化信息。</p>
</li>
<li><p>hint的具体解释可以参考下面这段英文：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">Hint tracks are a series of instructions <span class="keyword">in</span> a mp4 container file that </div><div class="line">tell a server how to transmit packets. Hint tracks always refer </div><div class="line">to another track, most likely an audio or video media track. </div><div class="line"></div><div class="line">This series of instructions tells the server when to send the packet, </div><div class="line">what <span class="built_in">type</span> of RTP header to add, <span class="keyword">if</span> there is any extra data <span class="keyword">in</span> the </div><div class="line">packet, and how much data to send <span class="keyword">in</span> the packet. To save on space, </div><div class="line">a hint can contain a pointer to the media track, instead of duplicating </div><div class="line">that data. </div><div class="line"></div><div class="line">It will also tell what SDP to add <span class="keyword">for</span> the track that is referenced. </div><div class="line"></div><div class="line">So, a file that is hinted should have a media track, and an associated </div><div class="line">hint track <span class="keyword">for</span> that media track. There are some mp4 container files </div><div class="line">that just have hint tracks - these are called <span class="string">"fat hints "</span> and are </div><div class="line">usually not playable locally. These are illegal <span class="keyword">in</span> ISMA, so we won <span class="string">'t </span></div><div class="line">talk about them. </div><div class="line"></div><div class="line">To create hint tracks for a mp4 file is fairly simple with the mp4creator </div><div class="line">program. Just execute the: </div><div class="line"> mp4creator -hint= &lt;track to hint track number&gt; &lt;mp4file&gt;</div></pre></td></tr></table></figure>
<p><strong><em>示例</em></strong></p>
<p>没有流化过的mp4文件，用mp4info查看文件信息(如果mp4info没有安装，就用apt-getinstall mp4info安装一下 )</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mp4info ./test.mp4 </div><div class="line">mp4info version 1.6</div><div class="line">./test.mp4:</div><div class="line">Track Type Info</div><div class="line">1 audio MPEG-4 AAC LC, 662.165 secs, 121 kbps, 48000 Hz</div><div class="line">2 video H264 Main@5.1, 662.562 secs, 1756 kbps, 640x368 @ 29.970025 fps</div></pre></td></tr></table></figure>
<p><strong><em>hint音频：</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mp4creator -hint=1 ./test.mp4 (如果mp4creator没有安装，就用apt-get  install mp4creator安装一下 )</div></pre></td></tr></table></figure>
<p><strong><em>hint视频</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mp4creator -hint=2 ./test.mp4</div></pre></td></tr></table></figure>
<p><strong><em>查看流化后的信息：</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mp4info ./test.mp4 </div><div class="line">mp4info version 1.6</div><div class="line">./test.mp4:</div><div class="line">Track Type Info</div><div class="line">1 audio MPEG-4 AAC LC, 662.165 secs, 121 kbps, 48000 Hz</div><div class="line">2 video H264 Main@5.1, 662.562 secs, 1756 kbps, 640x368 @ 29.970025 fps</div><div class="line">3 hint Payload mpeg4-generic <span class="keyword">for</span> track 1</div><div class="line">4 hint Payload H264 <span class="keyword">for</span> track 2</div><div class="line">Tool: mp4creator 1.5.0.1</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[netstat命令学习]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/01/27/linux%E5%AD%A6%E4%B9%A0-2015-01-27-netstat%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h2 id="netstat-命令简介"><a href="#netstat-命令简介" class="headerlink" title="netstat 命令简介"></a><strong><em>netstat</em></strong> 命令简介</h2><p>Netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p>
<h2 id="参数解析"><a href="#参数解析" class="headerlink" title="参数解析"></a>参数解析</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">usage: netstat [-vWeenNcCF] [&lt;Af&gt;] -r         netstat &#123;-V|--version|-h|--help&#125;</div><div class="line">       netstat [-vWnNcaeol] [&lt;Socket&gt; ...]</div><div class="line">       netstat &#123; [-vWeenNac] -i | [-cWnNe] -M | <span class="_">-s</span> &#125;</div><div class="line"></div><div class="line">        -r, --route              显示路由表</div><div class="line">        -i, --interfaces         display interface table</div><div class="line">        -g, --groups             display multicast group memberships</div><div class="line">        <span class="_">-s</span>, --statistics         display networking statistics (like SNMP)</div><div class="line">        -M, --masquerade         display masqueraded connections</div><div class="line"></div><div class="line">        -v, --verbose            显示详细信息</div><div class="line">        -W, --wide               don<span class="string">'t truncate IP addresses</span></div><div class="line">        -n, --numeric            不解析名称</div><div class="line">        --numeric-hosts          不解析主机名</div><div class="line">        --numeric-ports          忽略端口名称</div><div class="line">        --numeric-users          忽略用户名</div><div class="line">        -N, --symbolic           resolve hardware names</div><div class="line">        -e, --extend             显示更多信息</div><div class="line">        -p, --programs           display PID/Program name for sockets</div><div class="line">        -c, --continuous         continuous listing</div><div class="line"></div><div class="line">        -l, --listening          display listening server sockets</div><div class="line">        -a, --all, --listening   display all sockets (default: connected)</div><div class="line">        -o, --timers             display timers</div><div class="line">        -F, --fib                display Forwarding Information Base (default)</div><div class="line">        -C, --cache              display routing cache instead of FIB</div><div class="line"></div><div class="line">  &lt;Socket&gt;=&#123;-t|--tcp&#125; &#123;-u|--udp&#125; &#123;-w|--raw&#125; &#123;-x|--unix&#125; --ax25 --ipx --netrom</div><div class="line">  &lt;AF&gt;=Use '-6|-4<span class="string">' or '</span>-A &lt;af&gt;<span class="string">' or '</span>--&lt;af&gt;<span class="string">'；默认： inet</span></div><div class="line">  列出所有支持的协议：</div><div class="line">    inet (DARPA Internet) inet6 (IPv6) ax25 (AMPR AX.25) </div><div class="line">    netrom (AMPR NET/ROM) ipx (Novell IPX) ddp (Appletalk DDP) </div><div class="line">    x25 (CCITT X.25)</div></pre></td></tr></table></figure>
<ul>
<li>-a (all)显示所有选项，默认不显示LISTEN相关</li>
<li>-t (tcp)仅显示tcp相关选项</li>
<li>-u (udp)仅显示udp相关选项</li>
<li>-n 拒绝显示别名，能显示数字的全部转化成数字。</li>
<li>-l 仅列出有在 Listen (监听) 的服務状态</li>
<li>-p 显示建立相关链接的程序名</li>
<li>-r 显示路由信息，路由表</li>
<li>-e 显示扩展信息，例如uid等</li>
<li>-s 按各个协议进行统计</li>
<li>-c 每隔一个固定时间，执行该netstat命令。</li>
</ul>
<p>提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到</p>
<h2 id="列出所有端口-包括监听的没监听的"><a href="#列出所有端口-包括监听的没监听的" class="headerlink" title="列出所有端口(包括监听的没监听的)"></a>列出所有端口(包括监听的没监听的)</h2><p><strong><em>列出所有tcp端口 netstat -at</em></strong><br><strong><em>列出所有udp端口 netstat -au</em></strong></p>
<h2 id="列出所有处于监听状态的Sockets"><a href="#列出所有处于监听状态的Sockets" class="headerlink" title="列出所有处于监听状态的Sockets"></a>列出所有处于监听状态的Sockets</h2><p><strong><em>只显示监听端口　netstat -l</em></strong><br><strong><em>只列出所有监听tcp端口　netstat -lt</em></strong><br><strong><em>只列出所有监听udp端口　netstat -lu</em></strong><br><strong><em>只列出所有监听unix端口　netstat -lx</em></strong></p>
<h2 id="显示每个协议的统计信息"><a href="#显示每个协议的统计信息" class="headerlink" title="显示每个协议的统计信息"></a>显示每个协议的统计信息</h2><p><strong><em>显示所有端口的统计信息 netstat -s</em></strong><br><strong><em>显示TCP或者UDP端口的统计信息 netstat -st　或者　netstat -su</em></strong></p>
<h2 id="在netstat输出中显示PID和进程名称-netstat-p"><a href="#在netstat输出中显示PID和进程名称-netstat-p" class="headerlink" title="在netstat输出中显示PID和进程名称 netstat -p"></a>在netstat输出中显示PID和进程名称 netstat -p</h2><h2 id="在netstat输出中不显示主机，端口和用户名-netstat-an"><a href="#在netstat输出中不显示主机，端口和用户名-netstat-an" class="headerlink" title="在netstat输出中不显示主机，端口和用户名 # netstat -an"></a>在netstat输出中不显示主机，端口和用户名 # netstat -an</h2><h2 id="持续输出netstat信息-netstat-c"><a href="#持续输出netstat信息-netstat-c" class="headerlink" title="持续输出netstat信息 netstat -c"></a>持续输出netstat信息 netstat -c</h2><h2 id="找出程序运行的端口-netstat-ap-grep-ssh"><a href="#找出程序运行的端口-netstat-ap-grep-ssh" class="headerlink" title="找出程序运行的端口 netstat -ap | grep ssh"></a>找出程序运行的端口 netstat -ap | grep ssh</h2><h2 id="显示网络接口列表-netstat-i"><a href="#显示网络接口列表-netstat-i" class="headerlink" title="显示网络接口列表 netstat -i"></a>显示网络接口列表 netstat -i</h2>]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql insert into和replace into以及insert ignore的区别]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/01/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-01-22-mysql%E4%B8%89%E7%A7%8D%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p><strong><em>insert into</em></strong></p>
<figure class="highlight plain"><figcaption><span>into``` 表示插入数据，数据会检查主键(PrimaryKey),如果出现重复会报错；</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">***replace into***</div><div class="line"></div><div class="line">```replace into``` 表示插入替换数据，需求表中有```PrimaryKey```,或者```Unique```索引的话，如果数据库已经存在数据，则用新数据替换，如果没有数据效果跟```insert into```一样，```replace```语句会返回一个数，来指示受影响的行的数目，该数目时被删除和被插入的行数的和，如果对应一个单行```replace```该数为１，则一行被插入，同时没有行被删除，如果该数大于１，则在新行被插入前，有一个或者多个旧行被删除，如果表包含多个唯一索引，并且新行复制了在不同的唯一索引中的不同旧行的值，则有可能是一个单一行替换了多个旧行；</div><div class="line"></div><div class="line">***insert ignore into***</div><div class="line"></div><div class="line">```indert ignore```表示，如果中已经存在相同的记录，则忽略当前新数据；</div><div class="line"></div><div class="line">示例：</div><div class="line"></div><div class="line">```mysql</div><div class="line">	create table test_table (</div><div class="line">	id int not null primary key,</div><div class="line">	name varchar(20),</div><div class="line">	age int</div><div class="line">	)</div><div class="line"></div><div class="line">	insert into test_table (id,name,age) values (1,&quot;111&quot;,111);</div><div class="line"></div><div class="line">	select * from test_table;</div><div class="line"></div><div class="line">	insert ignore into test_table (id,name,age) values (1,&quot;222&quot;,11);</div><div class="line"></div><div class="line">	select * from test_table; //因为id是主键，出现主键重复但使用了ignore则错误被忽略</div><div class="line"></div><div class="line">	replace into test_table (id,name,age) values (1,&quot;222&quot;,12);</div><div class="line"></div><div class="line">	select * from test_table; //数据变成 1,&quot;222&quot;,12</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql TIMESTAMPDIFF]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/01/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-01-22-Mysql-TIMESTAMPDIFF/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="TIMESTAMPDIFF"><a href="#TIMESTAMPDIFF" class="headerlink" title="TIMESTAMPDIFF"></a><strong>TIMESTAMPDIFF</strong></h2><p><strong><em>语法:</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">TIMESTAMPDIFF(interval,datetime_expr1,datetime_expr2)</div></pre></td></tr></table></figure>
<p>说明:</p>
<p>返回日期或者日期时间的表达式datetime_expr1和datetime_expr2之间的整数差,期结果的单位由interval参数给出,该参数必须时以下值的其中一个:</p>
<ul>
<li><ol>
<li>FRAC_SECOND 毫秒</li>
</ol>
</li>
<li><ol>
<li>SECOND 秒</li>
</ol>
</li>
<li><ol>
<li>MINUTE 分钟</li>
</ol>
</li>
<li><ol>
<li>HOUR 小时</li>
</ol>
</li>
<li><ol>
<li>DAY 天</li>
</ol>
</li>
<li><ol>
<li>WEEK 星期</li>
</ol>
</li>
<li><ol>
<li>MONTH 月</li>
</ol>
</li>
<li><ol>
<li>QUARTER 季度</li>
</ol>
</li>
<li><ol>
<li>YEAR 年</li>
</ol>
</li>
</ul>
<h2 id="TIMESTAMPADD"><a href="#TIMESTAMPADD" class="headerlink" title="TIMESTAMPADD"></a><strong>TIMESTAMPADD</strong></h2><p><strong><em>语法：</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">TIMESTAMPADD(interval,int_expr,datetime_expr)</div></pre></td></tr></table></figure>
<p>说明：<br>将整型表达式inter_expr天价到日期或者日期时间表达式datetime＿expr中，式中的interval和上下文中列举的取值时一样的结果</p>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下定时任务]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2015/01/22/linux%E5%AD%A6%E4%B9%A0-2015-01-22-linux%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p><strong><em>crontab 定时任务命令</em></strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">crontab命令选项</div><div class="line">	 -U指定一个用户</div><div class="line">	 <span class="_">-l</span>列出某个用户的任务计划</div><div class="line">	 -r删除某个用户的计划</div><div class="line">	 <span class="_">-e</span>编辑某个用户的任务(/var/)</div></pre></td></tr></table></figure>
<p><strong><em>cron文件语法</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">分</th>
<th style="text-align:center">小时</th>
<th style="text-align:center">日</th>
<th style="text-align:center">月</th>
<th style="text-align:center">星期</th>
<th style="text-align:center">命令</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0-59</td>
<td style="text-align:center">0-23</td>
<td style="text-align:center">1-12</td>
<td style="text-align:center">0-6</td>
<td style="text-align:center">command</td>
</tr>
</tbody>
</table>
<p>特殊符号含义:</p>
<ul>
<li>“*” 代表取值范围内的数字</li>
<li>“/“ 代表每</li>
<li>“-“ 代表从某个数字到某个数字</li>
<li>“,” 分开几个离散的数字</li>
</ul>
<p><strong>每个字段代表的含义如下:</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">字段</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">minute</td>
<td style="text-align:center">每小时的第几分钟执行该任务</td>
</tr>
<tr>
<td style="text-align:center">hour</td>
<td style="text-align:center">每天的第几个小时执行该任务</td>
</tr>
<tr>
<td style="text-align:center">day</td>
<td style="text-align:center">每月第几天执行该任务</td>
</tr>
<tr>
<td style="text-align:center">month</td>
<td style="text-align:center">每年的第几个月执行该任务</td>
</tr>
<tr>
<td style="text-align:center">dayofweek</td>
<td style="text-align:center">每周第几天执行该任务</td>
</tr>
<tr>
<td style="text-align:center">command</td>
<td style="text-align:center">指定要执行的程序</td>
</tr>
</tbody>
</table>
<p><strong>例子:</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">5 	* 	* 	* 	*  	ls      指定每小时的第五分钟执行一次ls命令</div><div class="line">30 	5	*	*	*	ls	指定每天5:30执行ls命令</div><div class="line">30	7	8	*	*	ls	执行每月8号7:30分执行ls命令</div><div class="line">30	5	8	6	*	ls	每年的6月8号5:30执行ls命令</div><div class="line">30	6	*	*	0	ls	指定每星期日的6:30执行ls命令[0代表星期天以此类推]</div><div class="line">30	3	10,20   *	*	ls	每月10号及20号的3:30执行命令ls[<span class="string">","</span>用来链接多个不连续的时段]</div><div class="line">25	8-11	*	*	*	ls	每天8-11点的第25分钟执行ls命令[<span class="string">"-"</span>用来链接连续的时段]</div><div class="line">*/15	*	*	*	*	ls	每15分钟执行一次ls命令[即每个小时的第0 15 30 45 60分钟执行ls命令]</div><div class="line">30	6	*/10	*	*	ls	每隔10天6:30执行一次ls命令[即每月1,11,21,31日的6:30执行一次ls]</div><div class="line">50	7	*	*	*	root run-parts /etc/cron.daily	&#123;run-parts 参数表示,执行后面目录中的所有可执行文件&#125;</div></pre></td></tr></table></figure>
<p><strong><em>增加任务调度</em></strong></p>
<ul>
<li>在命令行输入:crontab -e 然后添加相应的任务,wq存盘退出;</li>
<li>直接编辑 <code>/etc/crontab</code>文件,即<code>vi /etc/crontab</code>,添加相应的任务;</li>
</ul>
<p><strong><em>查看调度任务</em></strong></p>
<ul>
<li>crontab -l //列出当前的所有调度任务</li>
<li>crontab -l u daodaoliang  //列出用户daodaoliang所有调度任务</li>
</ul>
<p><strong><em>删除调度任务</em></strong></p>
<ul>
<li>crontab -r //删除所有任务调度工作</li>
</ul>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php mysql数据库处理]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/20/PHP%E5%AD%A6%E4%B9%A0-2015-01-20-PHP-Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-数据库处理"><a href="#PHP-数据库处理" class="headerlink" title="PHP 数据库处理"></a>PHP 数据库处理</h2><p><strong>安装</strong></p>
<ul>
<li>首先安装mysql和php;</li>
<li>安装PHP5-mysql;</li>
<li>安装PHP5-gd;</li>
</ul>
<p><strong>链接到一个mysql 数据库</strong></p>
<p>语法:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql_connect(servername,username,password);</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">servername</td>
<td style="text-align:center">可选,规定要链接服务器,默认是”localhost3306”</td>
</tr>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center">可选,规定登陆所使用的用户名.默认值时拥有服务器进程的用户的名称</td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center">可选,规定登陆所用的密码,默认是””</td>
</tr>
</tbody>
</table>
<p><strong>关闭链接</strong></p>
<p>用法:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql_close(connecttion);</div></pre></td></tr></table></figure>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$con=mysql_connect(<span class="string">"localhost"</span>,<span class="string">"daodaoliang"</span>,<span class="string">"123"</span>);</div><div class="line"><span class="keyword">if</span> (!$con)&#123;</div><div class="line">	<span class="keyword">die</span>(<span class="string">"coould not connect:"</span>.mysql_error());</div><div class="line">&#125;</div><div class="line">mysql_close($con);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>创建数据库和创建表</strong></p>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	$con = mysql_connect(<span class="string">"localhost"</span>,<span class="string">"daodaoliang"</span>,<span class="string">"123"</span>);</div><div class="line">	<span class="keyword">if</span> (!$con)&#123;</div><div class="line">		<span class="keyword">die</span>(<span class="string">"could not connect"</span>.mysql_error());</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (mysql_query(<span class="string">"create database my_db"</span>,$con)) &#123;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"database created"</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"error creating database:"</span>.mysql_error();</div><div class="line">	&#125;</div><div class="line">	mysql_select_db(<span class="string">"my_db"</span>,$con);</div><div class="line">	$sql = <span class="string">"create table test (</span></div><div class="line">	column varchar(10) not null auto_increment,</div><div class="line">	column2 int(11),</div><div class="line">	primary key(column)</div><div class="line">	)";</div><div class="line">	mysql_query($sql,$con);</div><div class="line">	mysql_close($con);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>从数据库中获取数据</strong></p>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	$con = mysql_connect(<span class="string">"localhost"</span>,<span class="string">"daodaoliang"</span>,<span class="string">"123"</span>);</div><div class="line">	<span class="keyword">if</span> (!$con) &#123;</div><div class="line">		<span class="keyword">die</span>(<span class="string">"could not connect :"</span>.mysql_error());</div><div class="line">	&#125;</div><div class="line">	mysql_select_db(<span class="string">"my_db"</span>,$con);</div><div class="line">	$result = mysql_query(<span class="string">"select * from test_table"</span>);</div><div class="line">	<span class="keyword">echo</span> <span class="string">"&lt;table border = '1'&gt;</span></div><div class="line">	&lt;tr&gt;</div><div class="line">	&lt;th&gt;column&lt;/th&gt;</div><div class="line">	&lt;th&gt;eloumn2&lt;/th&gt;</div><div class="line">	&lt;/th&gt;</div><div class="line">	";</div><div class="line">	<span class="keyword">while</span> ($row = mysql_fetch_array($result))&#123;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"&lt;tr&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"&lt;td&gt;"</span>.$row[<span class="string">'column'</span>].<span class="string">"&lt;/td&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"&lt;td&gt;"</span>.$row[<span class="string">'column2'</span>].<span class="string">"&lt;/td&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"&lt;/tr&gt;"</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">echo</span> <span class="string">"&lt;/table&gt;"</span>;</div><div class="line">	mysql_close($con);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php异常]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/19/PHP%E5%AD%A6%E4%B9%A0-2015-01-19-PHP%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-异常处理"><a href="#PHP-异常处理" class="headerlink" title="PHP 异常处理"></a>PHP 异常处理</h2><p>暂时没有用到,先不用更新了o(╯□╰)o(就是这么任性,你咬我啊~)</p>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php文件处理]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/19/PHP%E5%AD%A6%E4%B9%A0-2015-01-19-PHP%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-文件处理"><a href="#PHP-文件处理" class="headerlink" title="PHP 文件处理"></a>PHP 文件处理</h2><p><strong>PHP Open File —- fopen()</strong></p>
<p>说明：</p>
<p><strong><em>fopen</em></strong> 的第一个参数包含被打开的文件名，第二个参数规定打开文件的模式，如果fopen()没能打开指定文件，下面的例子回升呈一段消息：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$myfile = fopen(<span class="string">"daodaoliang.txt"</span>,<span class="string">'r'</span>)  <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Unable to open file"</span>);</div><div class="line">fclose($myfile);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p>文件打开模式如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:center">打开文件为只读,文件指针在文件的开头开始</td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:center">打开文件为只写,删除文件的内容或创建一个新的文件，如果他不存在．文件指针在文件的开头开始</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">打开文件为只写，文件中的现有数据会被保留，文件指针在文件结尾开始，创建新的文件，如果文件不存在</td>
</tr>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">创建新文件为只写，返回false和错误，如果文件已存在</td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td style="text-align:center">打开文件为读写方式，文件指针在文件开头开始</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td style="text-align:center">打开文件为读写，删除文件内容或创建新文件，如果它不存在，文件指针在文件开头开始</td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td style="text-align:center">打开文件为读写，文件中已有的数据会被保留，文件指针在文件结尾开始，创建新文件，如果他不存在</td>
</tr>
<tr>
<td style="text-align:center">x+</td>
<td style="text-align:center">创建新文件为读写，返回false和错误．如果文件已存在</td>
</tr>
</tbody>
</table>
<p><strong>PHP fread()</strong></p>
<p><strong><em>fread()</em></strong> 函数读取打开的文件</p>
<p>fread()的第一个参数包含待读取文件的文件名．第二个参数规定待读取的最大字节数．</p>
<p>示例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	fread($myfile,filesize(<span class="string">"daodoaliang.txt"</span>));</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP 检查文件结尾</strong></p>
<p><strong><em>feof()</em></strong> 函数检查是否已达到”end-of-file”(EOF)</p>
<p>feof()对于遍历未知长度的数据很有用</p>
<p>示例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$myfile=fopen(<span class="string">"daodaoliang.txt"</span>,<span class="string">"r"</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Unable to open file!"</span>);</div><div class="line"><span class="keyword">while</span>(!feof($myfile))　&#123;</div><div class="line">	<span class="keyword">echo</span> fgets($myfile).<span class="string">"&lt;br&gt;"</span>;</div><div class="line">&#125;</div><div class="line">fclose($myfile);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP 文件上传</strong></p>
<p>通过PHP的全局数组 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">第一个参数是表单的 input name,第二个下标可以是&quot;name&quot;,&quot;type&quot;,&quot;size&quot;,&quot;tmp_name&quot;,&quot;error&quot;:</div><div class="line"></div><div class="line">* $_FILES[&quot;file&quot;][&quot;name&quot;]-被上传文件的名称；</div><div class="line">* $_FILES[&quot;file&quot;][&quot;type&quot;]-被上传文件的类型；</div><div class="line">* $_FILES[&quot;file&quot;][&quot;size&quot;]-被上传文件的大小．以字节计；</div><div class="line">* $_FILES[&quot;file&quot;][&quot;tmp＿name&quot;]-存储在服务器的文件的临时副本名称</div><div class="line">* $_FILES[&quot;file&quot;][&quot;error&quot;]-由文件上传导致的错误代码</div><div class="line"></div><div class="line">示例：</div><div class="line"></div><div class="line">```html</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;form action=&quot;upload_file.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</div><div class="line">			&lt;label for=&quot;file&quot;&gt;Filename&lt;/label&gt;</div><div class="line">			&lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; /&gt;</div><div class="line">			&lt;br /&gt;</div><div class="line">			&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot; /&gt;</div><div class="line">		&lt;/form&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">if</span> ((($_FILES[<span class="string">"file"</span>][<span class="string">"type"</span>] == <span class="string">"image/gif"</span>)</div><div class="line">	|| ($_FILES[<span class="string">"files"</span>][<span class="string">"type"</span>] == <span class="string">"image/jpeg"</span>)</div><div class="line">	|| ($_FILES[<span class="string">"file"</span>][<span class="string">"type"</span>] == <span class="string">"image/pjpeg"</span>))</div><div class="line">	&amp;&amp; ($_FILES[<span class="string">"file"</span>][<span class="string">"size"</span>] &lt; <span class="number">20000</span>))</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> ($_FILES[<span class="string">"file"</span>][<span class="string">"error"</span>] &gt; <span class="number">0</span>)&#123;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"Return Code:"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"error"</span>].<span class="string">"&lt;br/&gt;"</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"Upload:"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>].<span class="string">"&lt;br/&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"Type:"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>].<span class="string">"&lt;br/&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"Size:"</span>.($_FILES[<span class="string">"file"</span>][<span class="string">"size"</span>] / <span class="number">1024</span>).<span class="string">"&lt;br/&gt;"</span>;</div><div class="line">		<span class="keyword">echo</span> <span class="string">"Temp file:"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"temp_name"</span>].<span class="string">"&lt;br/&gt;"</span>;</div><div class="line">		<span class="keyword">if</span> (file_exists(<span class="string">"upload/"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>]))&#123;</div><div class="line">			<span class="keyword">echo</span> $_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>].<span class="string">"already exists."</span>;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			move_upload_file($_FILES[<span class="string">"file"</span>][<span class="string">"tmp_name"</span>],<span class="string">"upload/"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>]);</div><div class="line">			<span class="keyword">echo</span> <span class="string">"Store in: "</span>.<span class="string">"upload/"</span>.$_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	<span class="keyword">echo</span> <span class="string">"Invalid file"</span>;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP 文件引用</strong></p>
<p><strong><em>include</em></strong> 和　<strong><em>require</em></strong></p>
<ul>
<li>include 语句引用某个文件并且PHP无法找到它时，脚本会继续执行；</li>
<li>require 语句引用某个文件并且PHP无法找到它时，脚本会终止运行；</li>
</ul>
<p>示例：</p>
<p>test.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$daodaoliang = <span class="string">"xiaobai"</span>;</div><div class="line">$wangxiaowei = <span class="string">"wangxiaowei"</span>;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">include</span> <span class="string">"test.php"</span>;</div><div class="line"><span class="keyword">echo</span> <span class="string">"daodaoliang:"</span>.$daodaoliang.<span class="string">"wangxiaowei:"</span>.$wangxiaowei;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php时间处理]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/17/PHP%E5%AD%A6%E4%B9%A0-2015-01-17-PHP%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-日期和时间"><a href="#PHP-日期和时间" class="headerlink" title="PHP 日期和时间"></a>PHP 日期和时间</h2><p><strong>PHP Date() 函数</strong></p>
<p>PHP Date()　函数把时间戳格式化为更易读的日期和时间．</p>
<p>语法：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">date(format,timestamp);</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong><em>format</em></strong></td>
<td style="text-align:center">必需，规定时间戳的格式</td>
</tr>
<tr>
<td style="text-align:center"><strong><em>timestamp</em></strong></td>
<td style="text-align:center">可选，规定时间戳，默认是当前时间和日期</td>
</tr>
</tbody>
</table>
<p><strong>注释</strong>　时间戳时一种字符序列，他表示具体时间发生的日期和事件</p>
<p><strong><em>format</em></strong></p>
<ul>
<li>d - 表示月里的某天(01-31)</li>
<li>m - 表示月(01-12)</li>
<li>Y - 表示年(四位数)</li>
<li>y - 表示年(两位数)</li>
<li>h - 带有首位零的12小时格式</li>
<li>i - 带有首位零的分钟</li>
<li>s - 带有首位零的秒(0-59)</li>
<li>a - 小写的午前和午后</li>
</ul>
<p><strong>时区处理</strong></p>
<p>如果从代码返回的时不正确的时间，有可能时因为您的服务器位于其他国家或者被设置为不同时区，因此，如果您需要基于具体位置的准确时间，您可以设置要用的时区</p>
<p>示例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">date_default_timezone_set(<span class="string">"Asia/Shanghai"</span>);</div><div class="line"><span class="keyword">echo</span> <span class="string">"当前时间时　"</span>．date(<span class="string">'h:i:s'</span>);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>mktime()创建日期</strong></p>
<p>date() 函数中可选的时间戳参数规定时间戳，如果没有规定时间戳，则使用当前的时间戳，<figure class="highlight plain"><figcaption><span>00:00:00 GMT)</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">语法：</div><div class="line"></div><div class="line">```php</div><div class="line">	mktime(huor,minute,second,month,day,year);</div></pre></td></tr></table></figure></p>
<p>实例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	$d = mktime(<span class="number">9</span>,<span class="number">31</span>,<span class="number">21</span>,<span class="number">30</span>,<span class="number">1</span>,<span class="number">2015</span>);</div><div class="line">	<span class="keyword">echo</span> <span class="string">"创建的日期是："</span>.date(y-m-d h-i-s,$d);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>通过字符串创建日期</strong></p>
<p>语法：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">strtotime(time,now);</div></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	$d=strtotime(<span class="string">"10:38pm April 15 2015"</span>);</div><div class="line">	<span class="keyword">echo</span> <span class="string">"创建的日期是："</span>.date(<span class="string">"y-m-d h:i:s"</span>,$d);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php超全局变量]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/16/PHP%E5%AD%A6%E4%B9%A0-2015-01-16-PHP%E8%B6%85%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="PHP-全局变量-超全局变量"><a href="#PHP-全局变量-超全局变量" class="headerlink" title="PHP 全局变量-超全局变量"></a>PHP 全局变量-超全局变量</h3><p>PHP 中的许多预定义变量都是”超全局的”,这意味着他们在一个脚本的全部作用域都可用.在函数或方法中无需执行 <figure class="highlight plain"><figcaption><span>$variable```,就可以访问他们.</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">这些超全局变量是:</div><div class="line"></div><div class="line">* ```$GLOBALS</div></pre></td></tr></table></figure></p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* ```$_REQUEST</div></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* ```$_GET</div></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* ```$_ENV</div></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* ```$_SESSION</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>$GLOBAL</strong> —引用全局作用域中可用的全部变量</p>
<figure class="highlight plain"><figcaption><span>这种全局变量用于在PHP脚本中的任意未知访问全局变量(从函数或方法中均可).PHP在名为$GLOBAL[index]的数组中存储了所有的全局变量,变量的名字就是数组的键.</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">示例:</div><div class="line"></div><div class="line">```php</div><div class="line">&lt;?php</div><div class="line">$x = 75;</div><div class="line">$y = 25;</div><div class="line"></div><div class="line">function addition()&#123;</div><div class="line">	$GLOBALS[&apos;z&apos;] = $GLOBALS[&apos;x&apos;] + $GLOBALS[&apos;y&apos;];</div><div class="line">&#125;</div><div class="line"></div><div class="line">addition();</div><div class="line">echo $z;</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
<p><strong>$_SERVER</strong></p>
<p>$_SERVER 这种超全局变量保存关于报头,路径和脚本位置的信息.</p>
<table>
<thead>
<tr>
<th style="text-align:center">元素/代码</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$_SERVER[‘PHP_SELF’]</td>
<td style="text-align:center">返回当前执行脚本的文件名</td>
</tr>
<tr>
<td style="text-align:center">$_SERVER[‘GATWAY_INTERFACE’]</td>
<td style="text-align:center">返回服务器使用的CGI规范的版本</td>
</tr>
<tr>
<td style="text-align:center">$_SERVER[‘SERVER_ADDR’]</td>
<td style="text-align:center">返回当前运行脚本所在服务器的IP地址</td>
</tr>
<tr>
<td style="text-align:center">$_SERVER[‘SERVER_NAME’]</td>
<td style="text-align:center">返回当前运行脚本所在服务器的主机名（比如　daodaoliang.github.io）</td>
</tr>
<tr>
<td style="text-align:center">$_SERVER[‘SERVER_SOFTWARE’]</td>
<td style="text-align:center">返回服务器标识字符串(比如Apache/2.2.24)</td>
</tr>
<tr>
<td style="text-align:center">$_SERVER[‘SERVER_PROTOCOL’]</td>
<td style="text-align:center">返回当前通信协议的名称和版本(例如：”HTTP/1.0”)</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘REQUEST_METHOD’]</td>
<td style="text-align:center">返回访问页面使用的请求方法(例如POST)</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘REQUEST_TIME’]</td>
<td style="text-align:center">返回请求开始时间戳例如1575457898</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘QUERY_STRING’]</td>
<td style="text-align:center">返回查询字符串，如果时通过查询字符串访问此页面</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘HTTP_ACCEPT’]</td>
<td style="text-align:center">返回来自当前请求的请求头</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘HTTP_ACCEPT_CHARSET’]</td>
<td style="text-align:center">返回来自当前请求的accept＿charset头(例如 utf-8,ISO-8859-1)</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘HTTP_HOST’]</td>
<td style="text-align:center">返回当前请求的Host头</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘HTTP_REFERER’]</td>
<td style="text-align:center">放回当前页面完整的ＵＲＬ(不可靠，因为不是所有用户代理都支持)</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘HTTPS’]</td>
<td style="text-align:center">是否通过安全HTTP协议查询脚本</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘REMOVE_ADDR’]</td>
<td style="text-align:center">返回浏览当前页面的用户的IP地址</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘REMOVE_HOST’]</td>
<td style="text-align:center">返回当前页面的用户的主机名</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘REMOVE_PORT’]</td>
<td style="text-align:center">返回用户级其上链接到ＷＥＢ服务器所使用的端口号</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SCRIPT_FILENAME’]</td>
<td style="text-align:center">当前当前执行脚本的绝对路径</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SERVER_ADMIN’]</td>
<td style="text-align:center">该值致命了Apache服务器配置文件中的SERVR_ADMIN参数</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SERVER_PORT’]</td>
<td style="text-align:center">返回服务器使用的端口，默认时’80’</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SERVER_SIGNATURE’]</td>
<td style="text-align:center">返回服务器版本和虚拟主机名</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘PATH_TRANSLATED’]</td>
<td style="text-align:center">当前脚本所在文件系统(非文档根目录)的基本路径</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SCRIPT_NAME’]</td>
<td style="text-align:center">返回当前脚本的路径</td>
</tr>
<tr>
<td style="text-align:center">$SERVER[‘SCRIPT_URL’]</td>
<td style="text-align:center">返回当前页面的URL</td>
</tr>
</tbody>
</table>
<p><strong>_REQUEST</strong></p>
<p>PHP $＿REQUEST　用于收集HTML 表单提交的数据</p>
<p>示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"&lt;?php echo $_SERVER[PHP_SELF];?&gt;"</span>&gt;</span></div><div class="line">Name:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="php"><span class="meta">&lt;?php</span></span></div><div class="line">$name = $_REQUEST[<span class="string">'fname'</span>];</div><div class="line"><span class="keyword">echo</span> $name</div><div class="line"><span class="meta">?&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php表单处理]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/16/PHP%E5%AD%A6%E4%B9%A0-2015-01-16-PHP%E8%A1%A8%E5%8D%95%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="表单处理"><a href="#表单处理" class="headerlink" title="表单处理"></a>表单处理</h2><p><strong>一个简单的表单</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;form action=<span class="string">"welcome.php"</span> method=<span class="string">"post"</span>&gt;</div><div class="line">			Name: &lt;input type=<span class="string">"text"</span> name=<span class="string">"name"</span>&gt;&lt;br&gt;</div><div class="line">			E-mail: &lt;input type=<span class="string">"text"</span> name=<span class="string">"email"</span>&gt;&lt;br&gt;</div><div class="line">			&lt;input type=<span class="string">"submit"</span>&gt;</div><div class="line">		&lt;/form&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>welcome.php脚本源码</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		Welcom <span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_POST[<span class="string">'name'</span>];<span class="meta">?&gt;</span>&lt;br&gt;</div><div class="line">		Your email address is:<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_POST[<span class="string">'email'</span>];<span class="meta">?&gt;</span></div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>GET vs POST</strong></p>
<p>GET 和 POST 都创建数组(例如，array(key=&gt;balue,key2=&gt;value2,key3=&gt;value3,…)).次数组包含键/值对，其中的键时表单控件的名称，而值时来自用户输入的数据．</p>
<p>GET 和　POST 被视作$_GET 和　$_POST.它们是超全局变量，这意味着对他们的访问无需考虑作用域，无需特殊代码，能够从任何函数,类，或者文件访问它们；</p>
<ul>
<li>$_GET是通过URl参数传递到当前脚本的变量数组；</li>
<li>$_POST是通过HTTP POST　传递到当前脚本的变量数组；</li>
</ul>
<p><strong>带有验证的表单</strong></p>
<p>示例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE HTML&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;style&gt;</div><div class="line">			.error &#123;color:#FF0000;&#125;</div><div class="line">		&lt;/style&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;?php</div><div class="line">			$nameErr = $emailErr = $genderErr = $websiteErr = "";</div><div class="line">			$name = $email = $gender = $comment = $website = "";</div><div class="line"></div><div class="line">			if ($_SERVER[REQUEST_METHOD] == "POST") &#123;</div><div class="line">				if (empty($_POST['name']))&#123;</div><div class="line">					$nameErr = "姓名时必填的";</div><div class="line">				&#125; else &#123;</div><div class="line">					$name = test_input($_POST['name']);</div><div class="line">				&#125;</div><div class="line">				if (empty($_POST['email'])) &#123;</div><div class="line">					$emailErr = "电邮是必填的";</div><div class="line">				&#125;　else &#123;</div><div class="line">					$email = test_input($_POST['email']);</div><div class="line">				&#125;</div><div class="line">				if (empty($_POST['website'])) &#123;</div><div class="line">					$website = "";</div><div class="line">				&#125; else &#123;</div><div class="line">					$website = test_input($_POST['website']);</div><div class="line">				&#125;</div><div class="line">				if (empty($_post['comment'])) &#123;</div><div class="line">					$comment = "";</div><div class="line">				&#125; else &#123;</div><div class="line">					$commment = test_input($_POST['comment']);</div><div class="line">				&#125;</div><div class="line">				if (empty($_POST['gender'])) &#123;</div><div class="line">					$genderErr = "性别是必须的"；</div><div class="line">				&#125; else &#123;</div><div class="line">					$gender = test_input($_POST['gender']);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			function test_input($data) &#123;</div><div class="line">				$data = trim($data);</div><div class="line">				$data = stripslashes($data);</div><div class="line">				$data = htmlspecoalchars($data);</div><div class="line">				return $data;</div><div class="line">			&#125;</div><div class="line">		?&gt;</div><div class="line">		&lt;h2PHP 测试例子&lt;/h2&gt;</div><div class="line">		&lt;p&gt;&lt;span class="error"&gt; * 必需字段&lt;/span&gt;&lt;/p&gt;</div><div class="line">		&lt;form method = "post" action = "&lt;?php echo htmlspecialchars($_SERVER[PHP_SELF]);?&gt;"&gt;</div><div class="line">			姓名：&lt;input type = "text" name = "name"&gt;</div><div class="line">			&lt;span class = "error"&gt; * &lt;?php echo $nameErr;?&gt; &lt;/span&gt;</div><div class="line">			&lt;br&gt;&lt;br&gt;</div><div class="line">			电邮：&lt;input type = "text" name = "email"&gt;</div><div class="line">			&lt;span class = "error"&gt;* &lt;?php echo $emailErr;?&gt; &lt;/span&gt;</div><div class="line">			&lt;br&gt;&lt;br&gt;</div><div class="line">			网址：&lt;input type = "text" name = "website"&gt;</div><div class="line">			&lt;span class = "error"&gt;&lt;?php echo $websiteErr;?&gt;&lt;/span&gt;</div><div class="line">			&lt;br&gt;&lt;br&gt;</div><div class="line">			评论：&lt;testarea name = "comment" rows = "5" cols = "40"&gt;&lt;/textarea&gt;</div><div class="line">			&lt;br&gt;&lt;br&gt; </div><div class="line">			性别：</div><div class="line">			&lt;input type = "radio" name="gender" value="female"&gt;女性</div><div class="line">			&lt;input type = "radio" name="gender" value="male"&gt;男性</div><div class="line">			&lt;span class="error"&gt;* &lt;?php echo $genderErr;?&gt;&lt;/span&gt;</div><div class="line">			&lt;br&gt;&lt;br&gt;</div><div class="line">			&lt;input type = "submit" name = "submit" value = "提交"&gt;</div><div class="line">		&lt;/form&gt;</div><div class="line">		</div><div class="line">		&lt;?php</div><div class="line">			echo "&lt;h2&gt;您的输入：&lt;/h2&gt;";</div><div class="line">			echo $name;</div><div class="line">			echo "&lt;br&gt;";</div><div class="line">			echo $email;</div><div class="line">			echo "&lt;br&gt;";</div><div class="line">			echo $website;</div><div class="line">			echo "&lt;br&gt;";</div><div class="line">			echo $comment;</div><div class="line">			echo "&lt;br&gt;";</div><div class="line">			echo $gender;</div><div class="line">		?&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>PHP - 验证　Name,E-mail,以及URL</strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$nameErr = $emailErr = $genderErr = $websiteErr = <span class="string">""</span>;</div><div class="line">$name = $email = $gender = $comment = $website = <span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">"REQUEST_METHOD"</span>] == <span class="string">"POST"</span>)&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'name'</span>]))&#123;</div><div class="line">		$nameErr = <span class="string">"name is required"</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		$name = test_input($_POST[<span class="string">'name'</span>]);</div><div class="line">		<span class="keyword">if</span> (!preg_match(<span class="string">"/^[a-zA-Z ]*$/"</span>,$name)) &#123;</div><div class="line">			$nameErr = <span class="string">"Only letters and white space allowed"</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'email'</span>]))&#123;</div><div class="line">		$emailErr = <span class="string">"Email is required"</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="comment">#email = test_input($_POST['email']);</span></div><div class="line">		<span class="keyword">if</span> (!preg_match(<span class="string">"/([\w\-]+\@[\w\-]+\.[\w\-]+)/"</span>,$email)) &#123;</div><div class="line">			$emailErr = <span class="string">"Invaild email format"</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'website'</span>]))&#123;</div><div class="line">		$website = <span class="string">""</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		$website = test_input($_POST[<span class="string">'website'</span>]);</div><div class="line">		<span class="keyword">if</span> (!preg_match(<span class="string">"/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i"</span>,$website)) &#123;</div><div class="line">			$websiteErr ＝<span class="string">"Invaild URL"</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'comment'</span>])) &#123;</div><div class="line">		$comment = <span class="string">""</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		$comment = test_input($_POST[<span class="string">'comment'</span>]);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'gender'</span>])) &#123;</div><div class="line">		$genderErr = <span class="string">"Gender is required"</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		$gender = test_input($_POST[<span class="string">'gender'</span>]);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php运算逻辑说明]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/16/PHP%E5%AD%A6%E4%B9%A0-2015-01-16-PHP%E8%BF%90%E7%AE%97%E9%80%BB%E8%BE%91%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-运算逻辑说明"><a href="#PHP-运算逻辑说明" class="headerlink" title="PHP 运算逻辑说明"></a>PHP 运算逻辑说明</h2><p><strong>PHP if…elseif…else 语句</strong></p>
<p>示例说明:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">if</span>(condition_001)&#123;</div><div class="line">	语句;</div><div class="line">&#125; <span class="keyword">elseif</span> (condition_002)&#123;</div><div class="line">	语句;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	语句;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP Switch语句</strong></p>
<p>示例说明:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">switch</span> (expression)</div><div class="line">&#123;</div><div class="line"><span class="keyword">case</span> label1:</div><div class="line">	code to be executed <span class="keyword">if</span> expression = label1;</div><div class="line">	<span class="keyword">break</span>;</div><div class="line"><span class="keyword">case</span> label2:</div><div class="line">	code to be executed of expression = label2;</div><div class="line">	<span class="keyword">break</span>;</div><div class="line"><span class="keyword">default</span>:</div><div class="line">	code to be executed</div><div class="line">	<span class="keyword">if</span> expression is different</div><div class="line">	from both label1 <span class="keyword">and</span> label2;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>注意</strong>这个匹配语句不仅仅匹配数值和逻辑符类型,还可以匹配字符串类型;</p>
<p><strong>PHP while语句</strong></p>
<p>示例: </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">while</span> (条件为真)</div><div class="line">&#123;</div><div class="line">	要执行的代码;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP for 语句</strong></p>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">for</span>(init counter; test counter; increment counter)&#123;</div><div class="line">	code to be executed;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>参数:</strong></p>
<ul>
<li>init counter:初始化循环计数器的值</li>
<li>test counter: 评估每个循环迭代,如果值为TRUE.继续循环,如果它的值为FALSE,循环结束.</li>
<li>increment counter : 增加循环计数器的值</li>
</ul>
<p><strong>PHP foreach 语句</strong></p>
<p>foreach 循环只适用于数据,病用于便利数组中的每个键/值对;</p>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">foreach</span> ($arrary <span class="keyword">as</span> $value)&#123;</div><div class="line">	code to be executed;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP 函数语句</strong></p>
<p>在PHP中创建用于定义函数</p>
<p>示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span><span class="params">()</span></span>&#123;</div><div class="line">	要执行的代码;</div><div class="line">&#125;</div><div class="line"></div><div class="line">**注意**:</div><div class="line"></div><div class="line">* 定义函数的声明需要以<span class="string">"function"</span>开头;</div><div class="line">* 函数名能够以字母或者下划线(而非数字);</div><div class="line">* 函数名对大小写敏感(变量名字也是对大小写敏感的,PHP内建关键字不区分大小写)</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>PHP 函数参数</strong></p>
<p>示例1:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setHeight</span><span class="params">($minHeight=<span class="number">50</span>)</span></span>&#123;</div><div class="line">	<span class="keyword">echo</span> <span class="string">"The height is : $minHeight &lt;br&gt;"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">setHeight(<span class="number">350</span>);</div><div class="line">setHeight(); <span class="comment">//将使用默认参数50</span></div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php数组]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/16/PHP%E5%AD%A6%E4%B9%A0-2015-01-16-PHP%E6%95%B0%E7%BB%84/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="在PHP-中创建数组"><a href="#在PHP-中创建数组" class="headerlink" title="在PHP 中创建数组"></a>在PHP 中创建数组</h3><p>在 PHP 中,array()函数用于创建数组:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">array</span>();</div></pre></td></tr></table></figure>
<p>在 PHP 中,有三种数组类型:</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">* ```关联数组```-带有指定键的是数组</div><div class="line">* ```多维数组```-包含一个或多个数组的数组</div><div class="line"></div><div class="line">索引数组示例:</div><div class="line"></div><div class="line">```php</div><div class="line">&lt;?php</div><div class="line">$cars=array(&quot;volvo&quot;,&quot;BMW&quot;,&quot;SAAB&quot;);</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>或者</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$car[<span class="number">0</span>]=<span class="string">"volov"</span>;</div><div class="line">$car[<span class="number">2</span>]=<span class="string">"BMW"</span>;</div><div class="line">$car[<span class="number">3</span>]=<span class="string">"SAAB"</span>;</div></pre></td></tr></table></figure>
<p>关联数组示例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$age=<span class="keyword">array</span>(<span class="string">"daodaolang"</span>=&gt;<span class="string">"10"</span>,<span class="string">"wangxiaowei"</span>=&gt;<span class="string">"12"</span>);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$age[<span class="string">"daodaoliang"</span>] = <span class="string">"23"</span>;</div><div class="line">$age[<span class="string">"wangxiaowei"</span>] = <span class="number">22</span>;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><p><strong>遍历索引数组</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$test_array = <span class="keyword">array</span>(<span class="string">"daodaoliang"</span>,<span class="string">"test"</span>,<span class="string">"test2"</span>);</div><div class="line"><span class="keyword">foreach</span>($test_array <span class="keyword">as</span> $value)&#123;</div><div class="line"><span class="keyword">echo</span> $value;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$test_array = <span class="keyword">array</span>(<span class="string">"test1"</span>,<span class="string">"test2"</span>,<span class="string">"test3"</span>);</div><div class="line"><span class="keyword">for</span>($index=<span class="number">0</span>;$index &lt; count($test_array);++$index)&#123;</div><div class="line">	<span class="keyword">echo</span> $test_array[$index];</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>遍历索引数组</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$age=<span class="keyword">array</span>(<span class="string">"daodaoliang"</span>=&gt;<span class="number">23</span>,<span class="string">"wangxiaowei"</span>=&gt;<span class="number">34</span>);</div><div class="line"><span class="keyword">foreach</span>($age <span class="keyword">as</span> $key =&gt; $value)&#123;</div><div class="line">	<span class="keyword">echo</span> <span class="string">"key="</span>.$x.<span class="string">"value="</span>.$value;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h3 id="PHP-数据排序"><a href="#PHP-数据排序" class="headerlink" title="PHP 数据排序"></a>PHP 数据排序</h3><ul>
<li>sort() 以剩下对数组进行排序</li>
<li>rsprt() 以降序对数组排序</li>
<li>asort() 根据值,以升序对关联数组进行排序</li>
<li>ksort() 根据健,以升序对关联数组进行排序</li>
<li>arosrt() 根据值,以降序对关联书序进行排序</li>
<li>krsort() 根据健,以降序对关联数组进行排序</li>
</ul>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php运算符说明]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/15/PHP%E5%AD%A6%E4%B9%A0-2015-01-15-PHP%E8%BF%90%E7%AE%97%E9%80%BB%E8%BE%91%E7%AC%A6%E5%8F%B7%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-算数运算符"><a href="#PHP-算数运算符" class="headerlink" title="PHP 算数运算符"></a>PHP 算数运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">例子</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">加法</td>
<td style="text-align:center">$x + $y</td>
<td style="text-align:center">$x 与 $y 求和</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">减法</td>
<td style="text-align:center">$x - $y</td>
<td style="text-align:center">$x 与 $y 的差值</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">乘法</td>
<td style="text-align:center">$x * $y</td>
<td style="text-align:center">$x 与 $y 的乘积</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">除法</td>
<td style="text-align:center">$x / $y</td>
<td style="text-align:center">$x 与 $y 的商数</td>
</tr>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">模数</td>
<td style="text-align:center">$X % $y</td>
<td style="text-align:center">$x 与 $y 的模数</td>
</tr>
</tbody>
</table>
<h2 id="PHP-赋值运算符"><a href="#PHP-赋值运算符" class="headerlink" title="PHP 赋值运算符"></a>PHP 赋值运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">赋值</th>
<th style="text-align:center">等同于</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x = y</td>
<td style="text-align:center">x = y</td>
<td style="text-align:center">右侧表达式为左侧运算数设置数</td>
</tr>
<tr>
<td style="text-align:center">x += y</td>
<td style="text-align:center">x = x + y</td>
<td style="text-align:center">加</td>
</tr>
<tr>
<td style="text-align:center">x -= y</td>
<td style="text-align:center">x = x - y</td>
<td style="text-align:center">减</td>
</tr>
<tr>
<td style="text-align:center">x *= y</td>
<td style="text-align:center">x = x * y</td>
<td style="text-align:center">乘</td>
</tr>
<tr>
<td style="text-align:center">x /= y</td>
<td style="text-align:center">x = x / y</td>
<td style="text-align:center">除</td>
</tr>
<tr>
<td style="text-align:center">x %= y</td>
<td style="text-align:center">x = x % y</td>
<td style="text-align:center">模数</td>
</tr>
</tbody>
</table>
<h2 id="PHP-字符串运算符"><a href="#PHP-字符串运算符" class="headerlink" title="PHP 字符串运算符"></a>PHP 字符串运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">例子</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">串接</td>
<td style="text-align:center">$txt1 = “hello”; $txt2 = $txt1.”world”;</td>
<td style="text-align:center">现在 $txt2 包含 “helloworld”</td>
</tr>
<tr>
<td style="text-align:center">.=</td>
<td style="text-align:center">串接赋值</td>
<td style="text-align:center">$txt1 = “hello”; $txt1 .= “world”;</td>
<td style="text-align:center">现在 $txt1 包含 “helloworld”</td>
</tr>
</tbody>
</table>
<h2 id="PHP-递增-递减运算符"><a href="#PHP-递增-递减运算符" class="headerlink" title="PHP 递增/递减运算符"></a>PHP 递增/递减运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">++$x</td>
<td style="text-align:center">前递增</td>
<td style="text-align:center">$x 加一递增,然后返回$x</td>
</tr>
<tr>
<td style="text-align:center">$x++</td>
<td style="text-align:center">后递增</td>
<td style="text-align:center">返回$x 然后$x 加一递增</td>
</tr>
<tr>
<td style="text-align:center">–$x</td>
<td style="text-align:center">前递减</td>
<td style="text-align:center">$x 减一递减 然后返回$x</td>
</tr>
<tr>
<td style="text-align:center">$x–</td>
<td style="text-align:center">后递减</td>
<td style="text-align:center">返回$x 然后$x 减一递减</td>
</tr>
</tbody>
</table>
<h2 id="PHP比较运算符"><a href="#PHP比较运算符" class="headerlink" title="PHP比较运算符"></a>PHP比较运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">例子</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">==</td>
<td style="text-align:center">等于</td>
<td style="text-align:center">$x == $y</td>
<td style="text-align:center">如果 $x 等于 $y 则返回 true</td>
</tr>
<tr>
<td style="text-align:center">===</td>
<td style="text-align:center">全等(完全相同)</td>
<td style="text-align:center">$x === $y</td>
<td style="text-align:center">如果 $x 等于 $y 且他们类型相同则返回true</td>
</tr>
<tr>
<td style="text-align:center">!=</td>
<td style="text-align:center">不等于</td>
<td style="text-align:center">$x != $y</td>
<td style="text-align:center">如果 $x 不等于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">&lt;&gt;</td>
<td style="text-align:center">不等于</td>
<td style="text-align:center">$x != $y</td>
<td style="text-align:center">如果 $x 不等于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">!==</td>
<td style="text-align:center">不全等(完全不同)</td>
<td style="text-align:center">$x !== $y</td>
<td style="text-align:center">如果$x 不等于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">大于</td>
<td style="text-align:center">$x &gt; $y</td>
<td style="text-align:center">如果 $x 大于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">小于</td>
<td style="text-align:center">$x &lt; $y</td>
<td style="text-align:center">如果 $x 小于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">大于等于</td>
<td style="text-align:center">$x &gt;= $y</td>
<td style="text-align:center">如果 $x 大于等于 $y 则返回true</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">小于或等</td>
<td style="text-align:center">$x &lt;= $y</td>
<td style="text-align:center">如果 $x 小于等于 $y 则返回true</td>
</tr>
</tbody>
</table>
<h2 id="PHP-逻辑运算符"><a href="#PHP-逻辑运算符" class="headerlink" title="PHP 逻辑运算符"></a>PHP 逻辑运算符</h2><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">例子</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">and</td>
<td style="text-align:center">与</td>
<td style="text-align:center">$x and $y</td>
<td style="text-align:center">如果 $x 和 $y 都为true 则返回true</td>
</tr>
<tr>
<td style="text-align:center">or</td>
<td style="text-align:center">或</td>
<td style="text-align:center">$x or $y</td>
<td style="text-align:center">如果 $x 或者 $y 有一个为true 则返回 true</td>
</tr>
<tr>
<td style="text-align:center">xor</td>
<td style="text-align:center">异或</td>
<td style="text-align:center">$x xor $y</td>
<td style="text-align:center">如果$x和$y仅有一个为true则返回true</td>
</tr>
<tr>
<td style="text-align:center">&amp;&amp;</td>
<td style="text-align:center">与</td>
<td style="text-align:center">$x &amp;&amp; $y</td>
<td style="text-align:center">如果$x 和 $y 都为true 则返回true</td>
</tr>
<tr>
<td style="text-align:center">!</td>
<td style="text-align:center">非</td>
<td style="text-align:center">!$x</td>
<td style="text-align:center">如果$x不为true则返回true</td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[php变量类型说明]]></title>
      <url>/PHP%E5%AD%A6%E4%B9%A0/2015/01/15/PHP%E5%AD%A6%E4%B9%A0-2015-01-15-PHP%E5%8F%98%E9%87%8F%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="PHP-变量"><a href="#PHP-变量" class="headerlink" title="PHP 变量"></a><strong>PHP 变量</strong></h2><p><strong>1.变量的相关规则</strong></p>
<ul>
<li><p>变量以<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">* 变量名称必须以字母或者下划线开头,不能已数字开头</div><div class="line">* 变量名称只能包含字母数字字符和下划线(A-z,0-9以及_)</div><div class="line">* 变量名称对大小写敏感($x与$y是两个不同的变量)</div><div class="line"></div><div class="line">**注意** PHP变量对大小写敏感,PHP保留字对大小写不敏感,PHP变量时一门弱类型的语言;</div><div class="line"></div><div class="line">**2.PHP变量作用域**</div><div class="line"></div><div class="line"> 在PHP中,可以在脚本的任意位置对变量进行声明,变量的作用域指的是变量能够被引用的那部分脚本,PHP有三种不容的变量作用域:</div><div class="line"></div><div class="line">* ```local```(局部)</div><div class="line">* ```global```(全局)</div><div class="line">* ```static```(静态)</div><div class="line"></div><div class="line">**注意** </div><div class="line"></div><div class="line">* 默认创建的变量都是```local</div></pre></td></tr></table></figure></p>
</li>
<li><p>若是需要在函数内部访问全局的变量,则需要在函数内部声明<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">* 函数在执行完后会删除变量,若是想要不删除变量则需要定义```static```关键字</div><div class="line"></div><div class="line">**3.PHP数据类型**</div><div class="line"></div><div class="line">* 字符串</div><div class="line">* 整数</div><div class="line">* 浮点数</div><div class="line">* 逻辑</div><div class="line">* 数组</div><div class="line">* 对象</div><div class="line">* NULL</div><div class="line"></div><div class="line">**3.1字符串**</div><div class="line"></div><div class="line">字符串是字符序列,比如&quot;hello,world&quot;,字符串可以是引号内的任何文本,您可以使用单引号或双引号.</div><div class="line"></div><div class="line">```php</div><div class="line">&lt;?php</div><div class="line">$x = &quot;hello world!&quot;;</div><div class="line">echo $x;</div><div class="line">echo &quot;&lt;br&gt;&quot;;</div><div class="line">$x = &apos;hello world&apos;;</div><div class="line">echo $x;</div><div class="line">?&gt;</div></pre></td></tr></table></figure></p>
</li>
</ul>
<p><strong>3.2 整数</strong></p>
<p>可以用三种格式规定整数:十进制,十六进制(前缀是0x)或八进制(前缀0)</p>
<p>例如下(PHP中用<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">```php</div><div class="line">&lt;?php</div><div class="line">$x = 1234;</div><div class="line">var_dump($x);</div><div class="line">echo &quot;&lt;br&gt;&quot;;</div><div class="line"></div><div class="line">$x = -1234;</div><div class="line">var_dump($x);</div><div class="line">echo &quot;&lt;br&gt;&quot;;</div><div class="line"></div><div class="line">$x = 0x1234c;</div><div class="line">var_dump($x);</div><div class="line">echo &quot;&lt;br&gt;&quot;;</div><div class="line"></div><div class="line">$x = 01234;</div><div class="line">var_dump($x);</div><div class="line">echo &quot;br&quot;;</div><div class="line">?&gt;</div></pre></td></tr></table></figure></p>
<p><strong>3.3 浮点数</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$x = <span class="number">10.123</span>;</div><div class="line">var_dump($x);</div><div class="line"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</div><div class="line"></div><div class="line">$x = <span class="number">2.4e3</span>;</div><div class="line">var_dump($x);</div><div class="line"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</div><div class="line"></div><div class="line">$x = <span class="number">8E-5</span>;</div><div class="line">var_dump($x);</div><div class="line"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>3.4 逻辑符</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$x = <span class="keyword">true</span>;</div><div class="line">$y = <span class="keyword">false</span>;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>3.4 PHP 数组</strong></p>
<p>实例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$car = <span class="keyword">array</span>(<span class="string">"liujian"</span> , <span class="string">"shi"</span>,<span class="string">"shabi"</span>);</div><div class="line">var_dump($car);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>3.5PHP对象</strong></p>
<p>对象是存储数据和数据处理的方法,类比其他语言的类.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">var</span> $color;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">car</span><span class="params">($color = <span class="string">"green"</span>)</span></span>&#123;</div><div class="line">		<span class="keyword">$this</span>-&gt;color = $color;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">what_color</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;color;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<p><strong>3.6 NULL值</strong></p>
<p>用于初始化或者清空变量</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$x = <span class="string">"hello world"</span>;</div><div class="line">$x = <span class="keyword">null</span>;</div><div class="line">var_dump($x);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h2 id="PHP-常量"><a href="#PHP-常量" class="headerlink" title="PHP 常量"></a>PHP 常量</h2><p>与变量不同,常量贯穿整个脚本时自动全局的,定义常量的方法如下:</p>
<p><strong><em>define()</em></strong></p>
<ul>
<li>1.首个参数定义常量的名称</li>
<li>2.第二个参数定义常量的值</li>
<li>3.可选的第三个参数规定常量名是否对大小写敏感,默认时false</li>
</ul>
<p>实例:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">drfine(<span class="string">"test"</span>,<span class="string">"IamTestData"</span>,<span class="keyword">true</span>);</div><div class="line"><span class="keyword">echo</span> test;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> PHP学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python twisted模块之安装部署]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2015/01/14/Python%E5%AD%A6%E4%B9%A0-2015-01-14-python%E7%9A%84Twisted%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E4%B9%8B%E5%AE%89%E8%A3%85/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="Twisted-相关资源"><a href="#Twisted-相关资源" class="headerlink" title="Twisted 相关资源"></a>Twisted 相关资源</h2><ul>
<li><a href="https://twistedmatrix.com/trac/wiki/Downloads" target="_blank" rel="external">官方下载网址</a></li>
</ul>
<h2 id="Twisted-安装"><a href="#Twisted-安装" class="headerlink" title="Twisted 安装"></a>Twisted 安装</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-twisted</div></pre></td></tr></table></figure>
<h2 id="服务端测试例子"><a href="#服务端测试例子" class="headerlink" title="服务端测试例子"></a>服务端测试例子</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> twisted.internet.protocol <span class="keyword">import</span> ServerFactory</div><div class="line"><span class="keyword">from</span> twisted.protocols.basic <span class="keyword">import</span> LineReceiver</div><div class="line"><span class="keyword">from</span> twisted.python <span class="keyword">import</span> log</div><div class="line"><span class="keyword">from</span> twisted.internet <span class="keyword">import</span> reactor</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CmdProtocol</span><span class="params">(LineReceiver)</span>:</span></div><div class="line"></div><div class="line">    delimiter = <span class="string">'\n'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connectionMade</span><span class="params">(self)</span>:</span></div><div class="line">        self.client_ip = self.transport.getPeer()[<span class="number">1</span>]</div><div class="line">        log.msg(<span class="string">"Client connection from %s"</span> % self.client_ip)</div><div class="line">        <span class="keyword">if</span> len(self.factory.clients) &gt;= self.factory.clients_max:</div><div class="line">            log.msg(<span class="string">"Too many connections. bye !"</span>)</div><div class="line">            self.client_ip = <span class="keyword">None</span></div><div class="line">            self.transport.loseConnection()</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.factory.clients.append(self.client_ip)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connectionLost</span><span class="params">(self, reason)</span>:</span></div><div class="line">        log.msg(<span class="string">'Lost client connection.  Reason: %s'</span> % reason)</div><div class="line">        <span class="keyword">if</span> self.client_ip:</div><div class="line">            self.factory.clients.remove(self.client_ip)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lineReceived</span><span class="params">(self, line)</span>:</span></div><div class="line">        log.msg(<span class="string">'Cmd received from %s : %s'</span> % (self.client_ip, line))</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFactory</span><span class="params">(ServerFactory)</span>:</span></div><div class="line"></div><div class="line">    protocol = CmdProtocol</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, clients_max=<span class="number">10</span>)</span>:</span></div><div class="line">        self.clients_max = clients_max</div><div class="line">        self.clients = []</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ ==<span class="string">"__main__"</span></div><div class="line">	log.startLogging(sys.stdout)</div><div class="line">	reactor.listenTCP(<span class="number">9999</span>, MyFactory(<span class="number">2</span>))</div><div class="line">	reactor.run()</div></pre></td></tr></table></figure>
<p><img src="/res/img/blog/python学习/2015-01-14.png" alt="测试例子"></p>
]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql基础知识]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/01/13/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2015-01-13-Mysql%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="Mysql-数据类型"><a href="#Mysql-数据类型" class="headerlink" title="Mysql 数据类型"></a><strong>Mysql 数据类型</strong></h2><h3 id="1-整型"><a href="#1-整型" class="headerlink" title="1.整型"></a>1.整型</h3><table>
<thead>
<tr>
<th style="text-align:center">MySQL数据类型</th>
<th style="text-align:center">含义(有符号)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">tinyint(m)</td>
<td style="text-align:center">1个字节 范围(-128~127)</td>
</tr>
<tr>
<td style="text-align:center">smallint(m)</td>
<td style="text-align:center">2个字节 范围(-32768~32767)</td>
</tr>
<tr>
<td style="text-align:center">mediumint(m)</td>
<td style="text-align:center">3个字节 范围(-8388608~8388607)</td>
</tr>
<tr>
<td style="text-align:center">int(m)</td>
<td style="text-align:center">4个字节 范围(-2147483648~2147483647)</td>
</tr>
<tr>
<td style="text-align:center">bigint(m)</td>
<td style="text-align:center">8个字节 范围(+-9.22*10的18次方)</td>
</tr>
</tbody>
</table>
<p>取值范围如果增加了unsigned,则最大值翻倍，如tinyint unsigned的取值范围为(0~256).<br>int(m)里的m是表示select查询结果集中的显示宽度，并不影响实际的取值范围，没有影响到显示的宽度，不知道这个m有什么用。</p>
<h3 id="2-浮点型-float和double"><a href="#2-浮点型-float和double" class="headerlink" title="2.浮点型(float和double)"></a>2.浮点型(float和double)</h3><table>
<thead>
<tr>
<th style="text-align:center">MySQL数据类型</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">float(m,d)</td>
<td style="text-align:center">单精度浮点型 8位精度(4字节) m总个数，d小数位</td>
</tr>
<tr>
<td style="text-align:center">double(m,d)</td>
<td style="text-align:center">双精度浮点型 16位精度(8字节) m总个数, d小数位</td>
</tr>
</tbody>
</table>
<p>设一个字段定义为float(5,3) ,如果插入一个数123.456789，实际存的数据会是99.999,因为5-3=2,2为其整数部分最大长度。</p>
<h3 id="3-定点数"><a href="#3-定点数" class="headerlink" title="3.定点数"></a>3.定点数</h3><p>浮点型在数据库中存在的是近似值，而定点类型在数据库中存放的时精确值，decimal(m,d)参数m&lt;65是m&lt;65是总个数，d&lt;30且d&lt;m是小数位。</p>
<h3 id="4-字符串-char-varchar-test"><a href="#4-字符串-char-varchar-test" class="headerlink" title="4.字符串(char,varchar,_test)"></a>4.字符串(char,varchar,_test)</h3><table>
<thead>
<tr>
<th style="text-align:center">MySQL数据类型</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">char(n)</td>
<td style="text-align:center">固定长度，最多255个字符</td>
</tr>
<tr>
<td style="text-align:center">varchar(n)</td>
<td style="text-align:center">固定长度，最多65535个字符</td>
</tr>
<tr>
<td style="text-align:center">tinytext</td>
<td style="text-align:center">可变长度，最多255个字符</td>
</tr>
<tr>
<td style="text-align:center">text</td>
<td style="text-align:center">可变长度，最多65535个字符</td>
</tr>
<tr>
<td style="text-align:center">mediumtext</td>
<td style="text-align:center">可变长度，最多2的24次方-1个字符</td>
</tr>
<tr>
<td style="text-align:center">longtext</td>
<td style="text-align:center">可变长度，最多2的32次方-1个字符</td>
</tr>
</tbody>
</table>
<p><strong><em>char 和 varchar：</em></strong></p>
<ul>
<li><p>char(n) 若存入字符数小于n，则以空格补于其后，查询之时再将空格去掉。所以char类型存储的字符串末尾不能有空格，varchar不限于此。</p>
</li>
<li><p>char(n) 固定长度，char(4)不管是存入几个字符，都将占用4个字节，varchar是存入的实际字符数+1个字节（n&lt;=255）或2个字节(n&gt;255)，所以varchar(4),存入3个字符将占用4个字节。</p>
</li>
<li><p>char类型的字符串检索速度要比varchar类型的快。</p>
</li>
</ul>
<p><strong><em>varchar和text：</em></strong></p>
<ul>
<li><p>varchar可指定n，text不能指定，内部存储varchar是存入的实际字符数+1个字节（n&lt;=255）或2个字节(n&gt;255)，text是实际字符数+2个字节。</p>
</li>
<li><p>text类型不能有默认值。</p>
</li>
<li><p>varchar可直接创建索引，text创建索引要指定前多少个字符。varchar查询速度快于text,在都创建索引的情况下，text的索引似乎不起作用。</p>
</li>
</ul>
<h3 id="5-二进制数据-Blob"><a href="#5-二进制数据-Blob" class="headerlink" title="5.二进制数据(_Blob)"></a>5.二进制数据(_Blob)</h3><ul>
<li><p>_BLOB和_text存储方式不同，_TEXT以文本方式存储，英文存储区分大小写，而_Blob是以二进制方式存储，不分大小写。</p>
</li>
<li><p>_BLOB存储的数据只能整体读出。</p>
</li>
<li><p>_TEXT可以指定字符集，_BLOB不用指定字符集。</p>
</li>
</ul>
<h3 id="6-日期时间类型"><a href="#6-日期时间类型" class="headerlink" title="6.日期时间类型"></a>6.日期时间类型</h3><table>
<thead>
<tr>
<th style="text-align:center">MySQL数据类型</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">date</td>
<td style="text-align:center">日期 ‘2008-12-2′</td>
</tr>
<tr>
<td style="text-align:center">time</td>
<td style="text-align:center">时间 ’12:25:36′</td>
</tr>
<tr>
<td style="text-align:center">datetime</td>
<td style="text-align:center">日期时间 ‘2008-12-2 22:06:44′</td>
</tr>
<tr>
<td style="text-align:center">timestamp</td>
<td style="text-align:center">自动存储记录修改时间</td>
</tr>
</tbody>
</table>
<p>若定义一个字段为timestamp，这个字段里的时间数据会随其他字段修改的时候自动刷新，所以这个数据类型的字段可以存放这条记录最后被修改的时间。</p>
<h4 id="数据类型的属性"><a href="#数据类型的属性" class="headerlink" title="数据类型的属性"></a>数据类型的属性</h4><table>
<thead>
<tr>
<th style="text-align:center">Mysql关键字</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">NULL</td>
<td style="text-align:center">数据列可包含NULL值</td>
</tr>
<tr>
<td style="text-align:center">NOT NULL</td>
<td style="text-align:center">数据列不允许包含NULL值</td>
</tr>
<tr>
<td style="text-align:center">DEFAULT</td>
<td style="text-align:center">默认值</td>
</tr>
<tr>
<td style="text-align:center">PRIMARY KEY</td>
<td style="text-align:center">主键</td>
</tr>
<tr>
<td style="text-align:center">AUTO_INCREMENT</td>
<td style="text-align:center">自动递增，适用于整数类型</td>
</tr>
<tr>
<td style="text-align:center">UNSIGNED</td>
<td style="text-align:center">无符号</td>
</tr>
<tr>
<td style="text-align:center">CHARACTER SET name</td>
<td style="text-align:center">指定一个字符集</td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[SQL语法学习]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2015/01/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-2015-01-08-SQL%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="1-TOP-子句"><a href="#1-TOP-子句" class="headerlink" title="1. TOP 子句"></a>1. TOP 子句</h2><p><strong>SQLServer的例子</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> top <span class="built_in">number</span>|<span class="keyword">percent</span> column_name(s) <span class="keyword">from</span> table_name;</div></pre></td></tr></table></figure>
<p>其中top number代表几条数据,top number percent 代表百分之几的数据;</p>
<p>例如:前50%条</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> TOP <span class="number">50</span> <span class="keyword">PERCENT</span> * <span class="keyword">FROM</span> Persons;</div></pre></td></tr></table></figure>
<p>例如:前50条</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> TOP <span class="number">50</span> * <span class="keyword">FROM</span> Persons</div></pre></td></tr></table></figure>
<p><strong>mysql 的例子</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table_name <span class="keyword">LIMIT</span> <span class="built_in">number</span>;</div></pre></td></tr></table></figure>
<p>例如:前50条</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">limit</span> <span class="number">50</span>;</div></pre></td></tr></table></figure>
<h2 id="2-SQL-LIKE-操作符"><a href="#2-SQL-LIKE-操作符" class="headerlink" title="2. SQL LIKE 操作符"></a>2. SQL LIKE 操作符</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> coloumn_name(s) <span class="keyword">from</span> table_name <span class="keyword">where</span> column_name <span class="keyword">like</span> pattern;</div></pre></td></tr></table></figure>
<p>like 用在操作符用于在where子句中搜索列中的指定模式.</p>
<p>其中通配符部分解释</p>
<table>
<thead>
<tr>
<th style="text-align:center">通配符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">替代一个或者多个字符</td>
</tr>
<tr>
<td style="text-align:center">_</td>
<td style="text-align:center">仅替代一个字符</td>
</tr>
<tr>
<td style="text-align:center">[charlist]</td>
<td style="text-align:center">字符列表中的任何一个字符</td>
</tr>
<tr>
<td style="text-align:center">[^charlist]或者[!charlist]</td>
<td style="text-align:center">不在字符列表中的任何一个字符</td>
</tr>
</tbody>
</table>
<h2 id="3-IN-操作符"><a href="#3-IN-操作符" class="headerlink" title="3. IN 操作符"></a>3. IN 操作符</h2><p>IN操作符允许我们在where子句中规定多个值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name <span class="keyword">in</span> (value1,value2,value3);</div></pre></td></tr></table></figure>
<h2 id="4-列或者表的指定别名-Alias"><a href="#4-列或者表的指定别名-Alias" class="headerlink" title="4. 列或者表的指定别名(Alias)"></a>4. 列或者表的指定别名(Alias)</h2><p><strong>表的别名语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name <span class="keyword">as</span> alias_name;</div></pre></td></tr></table></figure>
<p><strong>列的别名用法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">as</span> alias_name <span class="keyword">from</span> table_name;</div></pre></td></tr></table></figure>
<p>需要注意的时.列的别名在结果集中会有所体现;</p>
<h2 id="5-SQL-JOIN-语法"><a href="#5-SQL-JOIN-语法" class="headerlink" title="5. SQL JOIN 语法"></a>5. SQL JOIN 语法</h2><table>
<thead>
<tr>
<th style="text-align:center">join类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">inner join</td>
<td style="text-align:center">如果表中有至少一个匹配,则返回行</td>
</tr>
<tr>
<td style="text-align:center">left join</td>
<td style="text-align:center">即使右表中没有匹配,也从左表中返回所有行</td>
</tr>
<tr>
<td style="text-align:center">right join</td>
<td style="text-align:center">即使左表中没有匹配,也从右表中返回所有行</td>
</tr>
<tr>
<td style="text-align:center">full join</td>
<td style="text-align:center">只要其中一个表存在匹配,就返回行</td>
</tr>
</tbody>
</table>
<p><strong>inner join 语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name1 <span class="keyword">inner</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.column_name = table_name2_.column_name <span class="keyword">order</span> <span class="keyword">by</span> table_name1.column_name;</div></pre></td></tr></table></figure>
<p><strong>left join语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name1 <span class="keyword">left</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.column_name1 = table_name2.column_name2;</div></pre></td></tr></table></figure>
<p><strong>right join 语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name1 <span class="keyword">right</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.column1 = table_name2.column2;</div></pre></td></tr></table></figure>
<h2 id="6-SQL-UNION-和-UNION-ALL"><a href="#6-SQL-UNION-和-UNION-ALL" class="headerlink" title="6. SQL UNION 和 UNION ALL"></a>6. SQL UNION 和 UNION ALL</h2><p>UNION 操作符用于合并两个或者多个select 语句的结果集, Union 内部的 select 语句必须有相同数量的列.列也必须有相似的数据类型.同时,每条select 语句中的列的顺序必须相同.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name1</div><div class="line"><span class="keyword">union</span> </div><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">from</span> table_name2</div></pre></td></tr></table></figure>
<p><strong>注意</strong> UINION ALL 命令和 UNION 命令几乎就是等效的,不过UNION ALL 命令会列出所有的值.</p>
<h2 id="7-SQL-SELECT-INTO-语句"><a href="#7-SQL-SELECT-INTO-语句" class="headerlink" title="7. SQL SELECT INTO 语句"></a>7. SQL SELECT INTO 语句</h2><p>SELECT INTO 语句从一个表中选择数据,然后吧数据插入另外一个表中.<br>SELECT INTO 语句常用与创建表的备份复件或者用于对记录进行存档.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_name(s) <span class="keyword">into</span> table_name <span class="keyword">from</span> old_tablename;</div></pre></td></tr></table></figure>
<h2 id="data-type"><a href="#data-type" class="headerlink" title="data_type"></a>data_type</h2><table>
<thead>
<tr>
<th style="text-align:center">数据类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">integer(size)</td>
<td style="text-align:center">仅容纳整数.在括号内规定数字的最大位数</td>
</tr>
<tr>
<td style="text-align:center">int(size)</td>
<td style="text-align:center">同上</td>
</tr>
<tr>
<td style="text-align:center">smallint(size)</td>
<td style="text-align:center">同上</td>
</tr>
<tr>
<td style="text-align:center">tinyint(size)</td>
<td style="text-align:center">同上</td>
</tr>
<tr>
<td style="text-align:center">decimal(size,d)</td>
<td style="text-align:center">容纳带有小数的数字,”size” 规定数字的最大位数,”d”规定小数点右侧的最大位数.</td>
</tr>
<tr>
<td style="text-align:center">numeric(size,d)</td>
<td style="text-align:center">同上</td>
</tr>
<tr>
<td style="text-align:center">char(size)</td>
<td style="text-align:center">容纳固定长度的字符串(可容纳字母,数字以及特殊字符),在括号中规定字符串的长度</td>
</tr>
<tr>
<td style="text-align:center">varchar(size)</td>
<td style="text-align:center">容纳可变长度的字符串(可容纳字母,数字以及特殊字符),在括号中规定字符串的最大长度</td>
</tr>
<tr>
<td style="text-align:center">date(yyyymmdd)</td>
<td style="text-align:center">容纳日期</td>
</tr>
</tbody>
</table>
<h2 id="CREATE-TABLE-语法"><a href="#CREATE-TABLE-语法" class="headerlink" title="CREATE TABLE 语法"></a>CREATE TABLE 语法</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名</div><div class="line">(</div><div class="line">列名字 数据类型,</div><div class="line">列名字<span class="number">2</span> 数据类型,</div><div class="line">列名字<span class="number">3</span> 数据类型,</div><div class="line">...</div><div class="line">)</div></pre></td></tr></table></figure>
<h2 id="SQL-约束-Constraints"><a href="#SQL-约束-Constraints" class="headerlink" title="SQL 约束(Constraints)"></a>SQL 约束(Constraints)</h2><p><strong>NOT NULL</strong></p>
<p>NOT NULL 约束子昂之字段始终包含值,这意味着,如果不想字段添加值,就无法插入新纪录或者更新记录.</p>
<p><strong>unique 约束</strong></p>
<p>unique 和 primary 约束的区别,都是进行唯一性约束,但是一张表只能有一个primary约束,但是可以有多个unique约束;</p>
<p>mysql 例子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_table</div><div class="line">(</div><div class="line">test_column <span class="built_in">int</span>(<span class="number">12</span>),</div><div class="line"><span class="keyword">unique</span> (test_column)</div><div class="line">)</div></pre></td></tr></table></figure>
<p>sqlserver 例子</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_table</div><div class="line">(</div><div class="line">test_column <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">unique</span></div><div class="line">)</div></pre></td></tr></table></figure>
<h2 id="SQL-INDEX-语句"><a href="#SQL-INDEX-语句" class="headerlink" title="SQL INDEX 语句"></a>SQL INDEX 语句</h2><p>索引可以被创建的表中列上,以便于快速搞笑的查询数据,用户无法看到索引,他们只能被用来加速搜索/查询.</p>
<p><strong>注意</strong> 更新一个包含索引的表需要比更新一个没有索引的表更多的时间,这是由于索引本身也需要更新,因此,理想的做法是仅仅在常常被搜索的列(以及表)上面创建索引.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">index</span> index_name <span class="keyword">on</span> table_name (column_name)</div></pre></td></tr></table></figure>
<h2 id="SQL-撤销索引-表以及数据库"><a href="#SQL-撤销索引-表以及数据库" class="headerlink" title="SQL 撤销索引,表以及数据库"></a>SQL 撤销索引,表以及数据库</h2><p><strong>撤销索引</strong></p>
<p><strong>MS SQL</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">drop</span> <span class="keyword">index</span> table_name.index_name;</div></pre></td></tr></table></figure>
<p><strong>MySQL</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">drop</span> <span class="keyword">index</span> index_name;</div></pre></td></tr></table></figure>
<p><strong>撤销表</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名字</div></pre></td></tr></table></figure>
<p><strong>撤销数据库</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">drop</span> <span class="keyword">database</span> 数据库名字</div></pre></td></tr></table></figure>
<h2 id="ALTER-语句"><a href="#ALTER-语句" class="headerlink" title="ALTER 语句"></a>ALTER 语句</h2><p>alter table 用于在已有的表中添加,修改,删除列.</p>
<p><strong>添加列的语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">add</span> column_name datatype</div></pre></td></tr></table></figure>
<p><strong>删除列的语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">drop</span> <span class="keyword">column</span> column_name</div></pre></td></tr></table></figure>
<h2 id="Auto-increment-语法"><a href="#Auto-increment-语法" class="headerlink" title="Auto-increment 语法"></a>Auto-increment 语法</h2><p>我们通常希望在每次插入新纪录时,自动创建主键字段,可以使用auto-increment字段;</p>
<p><strong>Mysql</strong> 语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_table</div><div class="line">(</div><div class="line">	column_name1 <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> auto_increment,</div><div class="line">	column_name2 <span class="built_in">varchar</span>(<span class="number">200</span>) <span class="literal">null</span>,</div><div class="line">	primary <span class="keyword">key</span> (column_name1)</div><div class="line">)</div></pre></td></tr></table></figure>
<p><strong>注意</strong> mysql的默认开始值为1,每条记录递增1.</p>
<hr>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[python 的日志logging模块学习]]></title>
      <url>/Python%E5%AD%A6%E4%B9%A0/2014/12/22/Python%E5%AD%A6%E4%B9%A0-2014-12-22-python%E7%9A%84%E6%97%A5%E5%BF%97logging%E6%A8%A1%E5%9D%97%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="1-简单的将日志打印到屏幕"><a href="#1-简单的将日志打印到屏幕" class="headerlink" title="1.简单的将日志打印到屏幕"></a><strong>1.简单的将日志打印到屏幕</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> logging</div><div class="line"></div><div class="line">logging.debug(<span class="string">'This is debug message'</span>)</div><div class="line">logging.info(<span class="string">'This is info message'</span>)</div><div class="line">logging.warning(<span class="string">'This is warning message'</span>)</div></pre></td></tr></table></figure>
<p>屏幕上打印:</p>
<blockquote>
<p>WARNING:root:This is warning message</p>
</blockquote>
<p>默认情况下，logging将日志打印到屏幕，日志级别为WARNING；<br>日志级别大小关系为：CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG &gt; NOTSET，当然也可以自己定义日志级别。</p>
<h2 id="2-通过logging-basicConfig函数对日志的输出格式及方式做相关配置"><a href="#2-通过logging-basicConfig函数对日志的输出格式及方式做相关配置" class="headerlink" title="2.通过logging.basicConfig函数对日志的输出格式及方式做相关配置"></a><strong>2.通过logging.basicConfig函数对日志的输出格式及方式做相关配置</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> logging</div><div class="line"></div><div class="line">logging.basicConfig(level=logging.DEBUG,</div><div class="line">                format=<span class="string">'%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s'</span>,</div><div class="line">                datefmt=<span class="string">'%a, %d %b %Y %H:%M:%S'</span>,</div><div class="line">                filename=<span class="string">'test.log'</span>,</div><div class="line">                filemode=<span class="string">'w'</span>)</div><div class="line">    </div><div class="line">logging.debug(<span class="string">'This is debug message'</span>)</div><div class="line">logging.info(<span class="string">'This is info message'</span>)</div><div class="line">logging.warning(<span class="string">'This is warning message'</span>)</div></pre></td></tr></table></figure>
<p>./test.log 文件中内容为:</p>
<p>&gt;<br>Sun, 24 May 2009 21:48:54 demo2.py[line:11] DEBUG This is debug message<br>Sun, 24 May 2009 21:48:54 demo2.py[line:12] INFO This is info message<br>Sun, 24 May 2009 21:48:54 demo2.py[line:13] WARNING This is warning message</p>
<p><strong>logging.basicConfig函数各参数:</strong></p>
<p>&gt;<br>filename: 指定日志文件名<br>filemode: 和file函数意义相同，指定日志文件的打开模式，’w’或’a’<br>format: 指定输出的格式和内容，format可以输出很多有用信息，如上例所示:<br> %(levelno)s: 打印日志级别的数值<br> %(levelname)s: 打印日志级别名称<br> %(pathname)s: 打印当前执行程序的路径，其实就是sys.argv[0]<br> %(filename)s: 打印当前执行程序名<br> %(funcName)s: 打印日志的当前函数<br> %(lineno)d: 打印日志的当前行号<br> %(asctime)s: 打印日志的时间<br> %(thread)d: 打印线程ID<br> %(threadName)s: 打印线程名称<br> %(process)d: 打印进程ID<br> %(message)s: 打印日志信息<br>datefmt: 指定时间格式，同time.strftime()<br>level: 设置日志级别，默认为logging.WARNING<br>stream: 指定将日志的输出流，可以指定输出到sys.stderr,sys.stdout或者文件，默认输出到sys.stderr，当stream和filename同时指定时，stream被忽略</p>
<h2 id="3-将日志同时输出到文件和屏幕"><a href="#3-将日志同时输出到文件和屏幕" class="headerlink" title="3.将日志同时输出到文件和屏幕"></a><strong>3.将日志同时输出到文件和屏幕</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> logging</div><div class="line"></div><div class="line">logging.basicConfig(level=logging.DEBUG,</div><div class="line">                format=<span class="string">'%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s'</span>,</div><div class="line">                datefmt=<span class="string">'%a, %d %b %Y %H:%M:%S'</span>,</div><div class="line">                filename=<span class="string">'test.log'</span>,</div><div class="line">                filemode=<span class="string">'w'</span>)</div><div class="line"></div><div class="line"><span class="comment">#################################################################################################</span></div><div class="line"><span class="comment">#定义一个StreamHandler，将INFO级别或更高的日志信息打印到标准错误，并将其添加到当前的日志处理对象#</span></div><div class="line">console = logging.StreamHandler()</div><div class="line">console.setLevel(logging.INFO)</div><div class="line">formatter = logging.Formatter(<span class="string">'%(name)-12s: %(levelname)-8s %(message)s'</span>)</div><div class="line">console.setFormatter(formatter)</div><div class="line">logging.getLogger(<span class="string">''</span>).addHandler(console)</div><div class="line"><span class="comment">#################################################################################################</span></div><div class="line"></div><div class="line">logging.debug(<span class="string">'This is debug message'</span>)</div><div class="line">logging.info(<span class="string">'This is info message'</span>)</div><div class="line">logging.warning(<span class="string">'This is warning message'</span>)</div></pre></td></tr></table></figure>
<p>屏幕上打印:</p>
<p>&gt;<br>root        : INFO     This is info message<br>root        : WARNING  This is warning message</p>
<p>./test.log日之中显示:</p>
<p>&gt;<br>Sun, 24 May 2009 21:48:54 demo2.py[line:11] DEBUG This is debug message<br>Sun, 24 May 2009 21:48:54 demo2.py[line:12] INFO This is info message<br>Sun, 24 May 2009 21:48:54 demo2.py[line:13] WARNING This is warning message</p>
<h2 id="4-logging之日志回滚"><a href="#4-logging之日志回滚" class="headerlink" title="4.logging之日志回滚"></a><strong>4.logging之日志回滚</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> logging</div><div class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> RotatingFileHandler</div><div class="line"></div><div class="line"><span class="comment">#################################################################################################</span></div><div class="line"><span class="comment">#定义一个RotatingFileHandler，最多备份5个日志文件，每个日志文件最大10M</span></div><div class="line">Rthandler = RotatingFileHandler(<span class="string">'myapp.log'</span>, maxBytes=<span class="number">10</span>*<span class="number">1024</span>*<span class="number">1024</span>,backupCount=<span class="number">5</span>)</div><div class="line">Rthandler.setLevel(logging.INFO)</div><div class="line">formatter = logging.Formatter(<span class="string">'%(name)-12s: %(levelname)-8s %(message)s'</span>)</div><div class="line">Rthandler.setFormatter(formatter)</div><div class="line">logging.getLogger(<span class="string">''</span>).addHandler(Rthandler)</div><div class="line"><span class="comment">################################################################################################</span></div></pre></td></tr></table></figure>
<p>从上例和本例可以看出，logging有一个日志处理的主对象，其它处理方式都是通过addHandler添加进去的。<br>logging的几种handle方式如下：</p>
<p>&gt;<br>logging.StreamHandler: 日志输出到流，可以是sys.stderr、sys.stdout或者文件<br>logging.FileHandler: 日志输出到文件<br>日志回滚方式，实际使用时用RotatingFileHandler和TimedRotatingFileHandler<br>logging.handlers.BaseRotatingHandler<br>logging.handlers.RotatingFileHandler<br>logging.handlers.TimedRotatingFileHandler<br>logging.handlers.SocketHandler: 远程输出日志到TCP/IP sockets<br>logging.handlers.DatagramHandler:  远程输出日志到UDP sockets<br>logging.handlers.SMTPHandler:  远程输出日志到邮件地址<br>logging.handlers.SysLogHandler: 日志输出到syslog<br>logging.handlers.NTEventLogHandler: 远程输出日志到Windows NT/2000/XP的事件日志<br>logging.handlers.MemoryHandler: 日志输出到内存中的制定buffer<br>logging.handlers.HTTPHandler: 通过”GET”或”POST”远程输出到HTTP服务器</p>
<p>由于StreamHandler和FileHandler是常用的日志处理方式，所以直接包含在logging模块中，而其他方式则包含在logging.handlers模块中，<br>上述其它处理方式的使用请参见python2.5手册！</p>
<h2 id="5-通过logging-config模块配置日志"><a href="#5-通过logging-config模块配置日志" class="headerlink" title="5.通过logging.config模块配置日志"></a><strong>5.通过logging.config模块配置日志</strong></h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#logger.conf</span></div><div class="line"><span class="comment">###############################################</span></div><div class="line"><span class="section">[loggers]</span></div><div class="line"><span class="attr">keys</span>=root,example01,example02</div><div class="line"><span class="section">[logger_root]</span></div><div class="line"><span class="attr">level</span>=DEBUG</div><div class="line"><span class="attr">handlers</span>=hand01,hand02</div><div class="line"><span class="section">[logger_example01]</span></div><div class="line"><span class="attr">handlers</span>=hand01,hand02</div><div class="line"><span class="attr">qualname</span>=example01</div><div class="line"><span class="attr">propagate</span>=<span class="number">0</span></div><div class="line"><span class="section">[logger_example02]</span></div><div class="line"><span class="attr">handlers</span>=hand01,hand03</div><div class="line"><span class="attr">qualname</span>=example02</div><div class="line"><span class="attr">propagate</span>=<span class="number">0</span></div><div class="line"><span class="comment">###############################################</span></div><div class="line"><span class="section">[handlers]</span></div><div class="line"><span class="attr">keys</span>=hand01,hand02,hand03</div><div class="line"><span class="section">[handler_hand01]</span></div><div class="line"><span class="attr">class</span>=StreamHandler</div><div class="line"><span class="attr">level</span>=INFO</div><div class="line"><span class="attr">formatter</span>=form02</div><div class="line"><span class="attr">args</span>=(sys.stderr,)</div><div class="line"><span class="section">[handler_hand02]</span></div><div class="line"><span class="attr">class</span>=FileHandler</div><div class="line"><span class="attr">level</span>=DEBUG</div><div class="line"><span class="attr">formatter</span>=form01</div><div class="line"><span class="attr">args</span>=(<span class="string">'myapp.log'</span>, <span class="string">'a'</span>)</div><div class="line"><span class="section">[handler_hand03]</span></div><div class="line"><span class="attr">class</span>=handlers.RotatingFileHandler</div><div class="line"><span class="attr">level</span>=INFO</div><div class="line"><span class="attr">formatter</span>=form02</div><div class="line"><span class="attr">args</span>=(<span class="string">'myapp.log'</span>, <span class="string">'a'</span>, <span class="number">10</span>*<span class="number">1024</span>*<span class="number">1024</span>, <span class="number">5</span>)</div><div class="line"><span class="comment">###############################################</span></div><div class="line"><span class="section">[formatters]</span></div><div class="line"><span class="attr">keys</span>=form01,form02</div><div class="line"><span class="section">[formatter_form01]</span></div><div class="line"><span class="attr">format</span>=%(asctime)s %(filename)s[line:%(line<span class="literal">no</span>)d] %(levelname)s %(message)s</div><div class="line"><span class="attr">datefmt</span>=%a, %d %b %Y %H:%M:%S</div><div class="line"><span class="section">[formatter_form02]</span></div><div class="line"><span class="attr">format</span>=%(name)-<span class="number">12</span>s: %(levelname)-<span class="number">8</span>s %(message)s</div><div class="line"><span class="attr">datefmt</span>=</div></pre></td></tr></table></figure>
<p>例子1:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> logging</div><div class="line"><span class="keyword">import</span> logging.config</div><div class="line"></div><div class="line">logging.config.fileConfig(<span class="string">"logger.conf"</span>)</div><div class="line">logger = logging.getLogger(<span class="string">"example01"</span>)</div><div class="line"></div><div class="line">logger.debug(<span class="string">'This is debug message'</span>)</div><div class="line">logger.info(<span class="string">'This is info message'</span>)</div><div class="line">logger.warning(<span class="string">'This is warning message'</span>)</div></pre></td></tr></table></figure>
<p>例子2:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> logging</div><div class="line"><span class="keyword">import</span> logging.config</div><div class="line"></div><div class="line">logging.config.fileConfig(<span class="string">"logger.conf"</span>)</div><div class="line">logger = logging.getLogger(<span class="string">"example02"</span>)</div><div class="line"></div><div class="line">logger.debug(<span class="string">'This is debug message'</span>)</div><div class="line">logger.info(<span class="string">'This is info message'</span>)</div><div class="line">logger.warning(<span class="string">'This is warning message'</span>)</div></pre></td></tr></table></figure>
<h2 id="6-logging是线程安全的"><a href="#6-logging是线程安全的" class="headerlink" title="6.logging是线程安全的"></a><strong>6.logging是线程安全的</strong></h2>]]></content>
      
        <categories>
            
            <category> Python学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux下进程的结束]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2014/12/21/linux%E5%AD%A6%E4%B9%A0-2014-12-22-%E6%A0%B9%E6%8D%AE%E8%BF%9B%E7%A8%8B%E5%90%8D%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h3 id="根据进程名杀死进程"><a href="#根据进程名杀死进程" class="headerlink" title="根据进程名杀死进程"></a>根据进程名杀死进程</h3><ul>
<li><strong>方法一</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">kill</span> -9 $(ps -ef|grep 进程名关键字|gawk <span class="string">'$0 !~/grep/ &#123;print $2&#125;'</span> |tr <span class="_">-s</span> <span class="string">'\n'</span> <span class="string">' '</span>)</div></pre></td></tr></table></figure>
<p>这个是利用管道和替换将 进程名对应的进程号提出来作为kill的参数。</p>
<ul>
<li><strong>方法二</strong></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">killall 进程关键字</div></pre></td></tr></table></figure>
<h3 id="停止和重启"><a href="#停止和重启" class="headerlink" title="停止和重启"></a>停止和重启</h3><p>有时候只想简单的停止和重启进程。如下：</p>
<p>获取进程的PID或者PPID</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(ps -ef|grep 进程名关键字|gawk <span class="string">'$0 !~/grep/ &#123;print $2&#125;'</span> |tr <span class="_">-s</span> <span class="string">'\n'</span> <span class="string">' '</span>)</div></pre></td></tr></table></figure>
<p>然后</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">kill</span> -HUP 进程PID</div></pre></td></tr></table></figure>
<h3 id="绝杀"><a href="#绝杀" class="headerlink" title="绝杀"></a>绝杀</h3><p>这个强大和危险的命令迫使进程在运行时突然终止，进程在结束后不能自我清理。危害是导致系统资源无法正常释放，一般不推荐使用，除非其他办法都无效。</p>
<p>当使用此命令时，一定要通过ps -ef确认没有剩下任何僵尸进程。只能通过终止父进程来消除僵尸进程。如果僵尸进程被init收养，问题就比较严重了。杀死init进程意味着关闭系统。</p>
<p>如果系统中有僵尸进程，并且其父进程是init，而且僵尸进程占用了大量的系统资源，那么就需要在某个时候重</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[linux软连接和硬链接的学习]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2014/12/19/linux%E5%AD%A6%E4%B9%A0-2014-12-19-linux%E8%BD%AF%E8%BF%9E%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<p><strong>概述：</strong><br>&gt;<br>linux的inode这里就不在重复赘述，若感兴趣可以自行google或者baidu,在linux系统中可以通过ln命令对一个已经存在的文件在建立一个新的链接，而不复制文件的内容，链接有软连接和硬链接之分。</p>
<p><strong>硬链接：</strong></p>
<p>硬链接指通过索引节点来进行的链接，源文件名和链接文件名都指向相同的物理地址，目录不能有硬链接，硬链接不能跨越文件系统(不能跨越不同的分区)文件再磁盘中只有一个拷贝，节省硬盘空间，防止文件被误删，之删除一个链接并不影响索引节点本身和其他连接，只有最后一个链接被删除以后文件数据块以及目录的链接才会被释放，才算是真正的被删除；</p>
<p><strong>软链接</strong></p>
<p>软链接是一种特殊的文件，作用可以理解为一个指针，作用在这个文件上的操作出了删除都直接转向实际指向文件，类似windows的快捷方式；</p>
<p><strong>ln命令详解</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">ln [options] <span class="built_in">source</span> dist，其中 option 的格式为 :</div><div class="line">　　[-bdfinsvF] [-S backup-suffix] [-V &#123;numbered,existing,simple&#125;]</div><div class="line">　　[--help] [--version] [--]</div><div class="line">　　<span class="_">-f</span> : 链结时先将与 dist 同档名的档案删除</div><div class="line">　　<span class="_">-d</span> : 允许系统管理者硬链结自己的目录</div><div class="line">　　-i : 在删除与 dist 同档名的档案时先进行询问</div><div class="line">　　-n : 在进行软连结时，将 dist 视为一般的档案</div><div class="line">　　<span class="_">-s</span> : 进行软链结(symbolic link)</div><div class="line">　　-v : 在连结之前显示其档名</div><div class="line">　　-b : 将在链结时会被覆写或删除的档案进行备份</div><div class="line">　　-S SUFFIX : 将备份的档案都加上 SUFFIX 的字尾</div><div class="line">　　-V METHOD : 指定备份的方式</div><div class="line">　　--help : 显示辅助说明</div><div class="line">　　--version : 显示版本</div></pre></td></tr></table></figure>
<p>&gt;<br><strong>说明</strong> : Linux/Unix 档案系统中，有所谓的连结(link)，我们可以将其视为档案的别名，而连结又可分为两种 : 硬连结(hard link)与软连结(symbolic link)，硬连结的意思是一个档案可以有多个名称，而软连结的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬连结是存在同一个档 案系统中，而软连结却可以跨越不同的档案系统。ln source dist 是产生一个连结(dist)到 source，至于使用硬连结或软链结则由参数决定。不论是硬连结或软链结都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。</p>
]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[InnoSetup提升系统管理员权限]]></title>
      <url>/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/2014/11/26/%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86-2014-11-26-InnoSetup%E6%8F%90%E5%8D%87%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98%E6%9D%83%E9%99%90/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<p>在<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<p>PrivilegesRequired=admin<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">找到```INNO```安装目录下的```SetupLdr.e32```文件(其实就是一个exe程序),将程序中的```Manifest```内的</div><div class="line"> </div><div class="line">&gt;</div><div class="line">``` &lt;requestedExecutionLevel level=&quot;asInvoker&quot; uiAccess=&quot;false&quot;/&gt;&lt;/requestedPrivileges&gt;</div></pre></td></tr></table></figure></p>
<p>改为 </p>
<p>&gt;<br><figure class="highlight plain"><figcaption><span>level="requireAdministrator" uiAccess="false"/> ```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">此处需要一个工具才能修改：Resource Hacker</div><div class="line"></div><div class="line">**应用程序运行时申请管理员权限，如下图所示即可：**</div><div class="line"></div><div class="line">![示意图](/res/img/blog/程序打包/2014-04-04_151006.png)</div><div class="line"></div><div class="line">**或者在pro中添加：**</div><div class="line"></div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<p>QMAKE_LFLAGS += /MANIFESTUAC:”level=’requireAdministrator’uiAccess=’false’”<br>```</p>
]]></content>
      
        <categories>
            
            <category> 项目工程管理 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[shell学习简介]]></title>
      <url>/linux%E5%AD%A6%E4%B9%A0/2014/11/07/linux%E5%AD%A6%E4%B9%A0-2014-11-07-shell%E5%AD%A6%E4%B9%A0%E7%AE%80%E4%BB%8B/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="学习背景"><a href="#学习背景" class="headerlink" title="学习背景"></a>学习背景</h3>]]></content>
      
        <categories>
            
            <category> linux学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[为人处世的细节(转自知乎)]]></title>
      <url>/%E5%BF%83%E4%B8%96%E7%95%8C/2014/11/07/%E6%96%B0%E4%B8%96%E7%95%8C-2014-11-07-%E4%B8%BA%E4%BA%BA%E5%A4%84%E4%B8%96%E7%9A%84%E7%BB%86%E8%8A%82/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<ol>
<li>哪里拿的东西放回哪儿去。</li>
<li>不随地吐痰。打喷嚏要遮住口鼻。</li>
<li>不说话大声，不打电话大声，办公室接私人电话要出去。</li>
<li>不八卦，不对任何人妄加评论。</li>
<li>不问蠢问题，比如：你工资多少？你有女/男朋友吗？怎么还不结婚？你们xx那里一定很xx吧？</li>
<li>不是很熟的人不要问私人电话号码/微信/邮箱等。</li>
<li>走路靠边走，给走的快的人让路。</li>
<li>走路不玩儿手机/看书。</li>
<li>上地铁/公交如果站着的话，而且人多，把背包摘下来放地上或者背在胸前。</li>
<li>办公室里手机静音。</li>
<li>培养环绕式目光，不横冲直撞，周围有人/车什么的要注意点。你说你因为走路玩儿手机而踩到别人了还不知道道歉算怎么回事？</li>
<li>地铁先下后上，公交前门上后门下。</li>
<li>打伞走路的时候注意点儿周围，遇到身高差距大的尤其注意。</li>
<li>走路的时候突然要停下来的话注意缓冲，以免后面的人撞到你。</li>
<li>饭前便后要洗手，用香皂/洗手液。(这个我实在无力吐槽…)</li>
<li>学会收发邮件。标点，大小写什么的很重要。邮件内容按金字塔原则写，最重要的放前面。学会利用抄送功能，或者密送功能。检查邮件要频繁。</li>
<li>说话讲重点，礼貌用语可以有，但是不要说废话，比如：怎么说呢？其实吧，我是这样看的，事情是这样的，这个问题我是这样想的，以前遇到过类似的问题，那个时候…烦死！</li>
<li>用！除！臭！剂！或！者！香！水！！很多人不知道自己身上有味道是吧？很多人以为只有狐臭才算味道是吧？</li>
<li>别总麻烦别人，麻烦过之后要谢谢，并且学会自己做。并且，麻烦别人的时候别道德绑架，又撒娇又诉苦的，弄的别人不帮你好像是犯错误一样。没有谁一定要帮你。</li>
<li>学会合理委婉地拒绝别人。碍于面子大包大揽地帮忙对谁都不好。</li>
<li>如果有人追求你，你不喜欢，赶紧拒绝，别暧昧。谁跟你拉大锯呢？</li>
<li>多读书。它改变不了你的气质，但是可以改变你的人生观。但是不要酸腐。</li>
<li>不要和人强行讨论别人不喜欢的话题。</li>
<li>不要逮谁跟谁诉苦。</li>
<li>对待服务员的态度真的很影响我对一个人的判断。</li>
<li>不提当年勇，不吹牛逼，“我一朋友blablabla…”, “我关注一牛人blablabla”.</li>
<li>不炫富， 不哭穷。</li>
<li>不要以为外国人都不会汉语，人在你旁边呢你就议论。</li>
<li>不盯着人看，无论这个人多么英俊/美丽/奇怪/丑陋。</li>
<li>非工作时间不要打扰别人关于工作的事，急事的话也要道歉再三，事后买个咖啡啥的作为补偿。</li>
<li>不是很熟的人，别脏话挂嘴边。</li>
<li>网络词语在日常中使用注意场合，屌丝，黑木耳，土豪啥的听多了闹心。更何况过时的网络词语你还拿来用，比如浮云什么的你现在还用….</li>
<li>说中文别夹英文或其他外文，千万。除非行业内术语。没事team来，team去的很烦。如果你中文不好，那也是你高级的中文词不会说，而不是低级的中文词不会。delay, team, meeting这种低级词并且对应的中文也很简单的还拿来说啥？</li>
<li>别人委婉地要拒绝或者面有难色的时候，你要知道在他心里说的是不，所以就别强求了。</li>
<li>不在公共场合吃有刺激味道的东西。不只限于榴莲和臭豆腐，麻辣烫多大味儿你知道不？</li>
</ol>
]]></content>
      
        <categories>
            
            <category> 心世界 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[mysql给用户赋予最高权限]]></title>
      <url>/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/2014/11/07/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0-mysql%E4%B8%93%E9%A2%98-2014-11-07-Mysql%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%9C%80%E9%AB%98%E6%9D%83%E9%99%90/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<h3 id="给予Root用户最高权限"><a href="#给予Root用户最高权限" class="headerlink" title="给予Root用户最高权限"></a>给予Root用户最高权限</h3><blockquote>
<p>mysql 1449 ： The user specified as a definer (‘root’@’%’) does not exist 解决方法</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql&gt; grant all privileges on *.* to root@"%" identified by ".";</div><div class="line"> Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; flush privileges;</div><div class="line"> Query OK, 0 rows affected (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 数据库学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS6.5升级Python版本]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2014/11/07/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2014-12-16-CentOS6-5%E5%8D%87%E7%BA%A7Python%E7%89%88%E6%9C%AC/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<p><strong>查看服务器端的python 版本</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python  -V</div></pre></td></tr></table></figure>
<p>显示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python 2.6.6</div></pre></td></tr></table></figure>
<p><strong>下载Python-2.7.9</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget https://www.python.org/ftp/python/2.7.9/Python-2.7.9.tgz    --no-check-certificate</div></pre></td></tr></table></figure>
<p><strong>解压更改工作目录</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tar zxvf Python-2.7.9.tgz</div><div class="line"><span class="built_in">cd</span> Python-2.7.9</div></pre></td></tr></table></figure>
<p><strong>安装</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">./configure</div><div class="line">make all</div><div class="line">make install</div><div class="line">make clean</div><div class="line">make distclean</div></pre></td></tr></table></figure>
<p><strong>查看版本信息</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/bin/python2.7 -V</div></pre></td></tr></table></figure>
<p><strong>建立软连接，是系统默认的python 指向python2.7</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mv /usr/bin/python /usr/bin/python2.6.6</div><div class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/bin/python2.7 /usr/bin/python</div></pre></td></tr></table></figure>
<p><strong>重新检验python 版本</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python -V</div></pre></td></tr></table></figure>
<p><strong>修改yum和iBUS的python版本</strong></p>
<p><strong><em>yum配置</em></strong></p>
<p>系统 Python 软链接指向 Python2.7 版本后，因为yum是不兼容 Python 2.7的，所以yum不能正常工作，我们需要指定 yum 的Python版本</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /usr/bin/yum</div></pre></td></tr></table></figure>
<p>将文件头部的：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div></pre></td></tr></table></figure>
<p>改成</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python2.6.6</span></div></pre></td></tr></table></figure>
<p><strong><em>iBUS配置</em></strong></p>
<p>分别用 vi 打开下面两个文件，找到 exec python 那一行，把exec python 改为 exec python2.6 保存，重启。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">vi /usr/bin/ibus-setup</div><div class="line">vi /usr/libexec/ibus-ui-gtk</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[学习计划表]]></title>
      <url>/%E5%BF%83%E4%B8%96%E7%95%8C/2014/11/04/%E6%96%B0%E4%B8%96%E7%95%8C-2014-11-17-%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92%E8%A1%A8/</url>
      <content type="html"><![CDATA[<blockquote>
<ul>
<li>思而不学则罔，学而不思则殆</li>
</ul>
</blockquote>
<a id="more"></a>
<p><strong><em>说明</em></strong> 这里的计划表我已经单独开一个项目请移步<a href="http://daodaoliang.github.io/work-list/" target="_blank" rel="external">这里</a></p>
]]></content>
      
        <categories>
            
            <category> 心世界 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[OpenWrt开发环境搭建(转载)]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2014/10/31/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2014-10-31-OpenWrt%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<hr>
<p>原文在<a href="http://zhidx.com/p/186.html" target="_blank" rel="external">这里</a></p>
<p><a href="http://wiki.openwrt.org/zh-cn/doc/howto/start" target="_blank" rel="external">openWRT中文wiki</a></p>
<a id="more"></a>
<h2 id="第一部分：搭建编译环境"><a href="#第一部分：搭建编译环境" class="headerlink" title="第一部分：搭建编译环境"></a>第一部分：搭建编译环境</h2><ul>
<li>1、安装Ubuntu（编译需要Linux环境），到其官网下载，版本根据自己所需选择即可。可以选择安装到虚拟机或者物理机，图形化安装而且是中文版，连安装都搞不定的，可以关闭本页面了；</li>
<li>2、切记不要改动软件源，同时按住Ctrl + Alt + T，调出终端；</li>
<li>3、逐条输入下列命令（及时验证是否安装成功）：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install g++</div><div class="line">sudo apt-get install libncurses5-dev</div><div class="line">sudo apt-get install zlib1g-dev</div><div class="line">sudo apt-get install bison</div><div class="line">sudo apt-get install flex</div><div class="line">sudo apt-get install unzip</div><div class="line">sudo apt-get install autoconf</div><div class="line">sudo apt-get install gawk</div><div class="line">sudo apt-get install make</div><div class="line">sudo apt-get install gettext</div><div class="line">sudo apt-get install gcc</div><div class="line">sudo apt-get install binutils</div><div class="line">sudo apt-get install patch</div><div class="line">sudo apt-get install bzip2</div><div class="line">sudo apt-get install libz-dev</div><div class="line">sudo apt-get install asciidoc</div><div class="line">sudo apt-get install subversion</div><div class="line">sudo apt-get install sphinxsearch</div><div class="line">sudo apt-get install libtool</div><div class="line">sudo apt-get install sphinx-common</div></pre></td></tr></table></figure>
<p>至此编译环境搭建完成。</p>
<hr>
<h2 id="第二部分：下载OpenWrt源码并编译"><a href="#第二部分：下载OpenWrt源码并编译" class="headerlink" title="第二部分：下载OpenWrt源码并编译"></a>第二部分：下载OpenWrt源码并编译</h2><p> OpenWrt源码分两种，一种是最新但不是最稳定的Trunk开发版，一种是最稳定的Backfire版，建议下载官方源码。下载前先在本地创建文件夹：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir openwrt</div><div class="line">sudo chmod 777 openwrt</div><div class="line"><span class="built_in">cd</span> openwrt</div></pre></td></tr></table></figure>
<p><strong>选择你想要的版本然后执行下载命令，下载结束会显示版本号：</strong></p>
<p><strong>(Barrier Breaker)版下载命令：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> git://git.openwrt.org/14.07/openwrt.git</div></pre></td></tr></table></figure>
<p><strong>添加软件扩展包，将feeds.conf.default修改为feeds.conf：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp feeds.conf.default feeds.conf</div></pre></td></tr></table></figure>
<p><strong>更新扩展，安装扩展：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./scripts/feeds update <span class="_">-a</span></div><div class="line">./scripts/feeds install <span class="_">-a</span></div></pre></td></tr></table></figure>
<p><strong>注：如果不是刚下载的源码，为保持代码为最新状态，应定期运行svn update命令更新源码。</strong></p>
<p><strong>测试编译环境：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make defconfig</div><div class="line">make prereq</div></pre></td></tr></table></figure>
<p>到这里就可以开始编译自己的固件了。进入定制界面：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make menuconfig</div></pre></td></tr></table></figure>
<p>如果一切正常，会出现一个配置菜单，可以选择要编译的固件平台（芯片类型）、型号，还能选择固件中要添加的功能和组件，配置好后保存并退出菜单即可。如果你想修改源码，应该在此步进行，如支持大容量Flash之类的修改，自己上网查到修改什么文件什么地方后，就在ubuntu图形界面上进去找到文件，双击打开文本编辑器修改保存。</p>
<p><strong>开始编译：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make V=99</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make -j V=99</div></pre></td></tr></table></figure>
<p><code>make</code>是编译命令，<code>V=99</code>表示输出debug信息，<code>V</code>一定要大写，如果要让CPU全速编译，就加上 <code>-j</code> 参数，第一次编译最好不带<code>-j</code>参数。</p>
<p>编译过程要保持联网，最好是通过VPN或者代理翻墙，会从网上下载一些源码包，所以断网可能会造成编译中断，编译所需时间与电脑CPU以及网络环境有很大的关系，第一次编译时间较久，编译完成后在源码文件里米拿出现bin文件夹，如果你手里的路由是原版固件需要刷openWRT需要选用xxx-factory.bin固件，如果路由已经刷了openWRT，选用升级固件xxx-sysupdrade.bin升级用，在升级界面升级即可。进到文件夹找到所需固件传出，即可刷机。</p>
<h2 id="第三部分：将OpenWrt刷入路由器"><a href="#第三部分：将OpenWrt刷入路由器" class="headerlink" title="第三部分：将OpenWrt刷入路由器"></a>第三部分：将OpenWrt刷入路由器</h2><p>要在路由器上使用openWRT，首先要将路由器刷新为openWRT,即向耽于openWRT系统的安装，不同型号的路由器的安装方法可能也会不一样，但一般常用的有三种方法：</p>
<ul>
<li>Web固件上传</li>
<li>PFTP上传固件更新</li>
<li>编程器写入固件</li>
</ul>
<p>具体型号的路由器适用于哪种或哪几种方法，可自行尝试。</p>
<h2 id="第四部分：开始使用OpenWrt"><a href="#第四部分：开始使用OpenWrt" class="headerlink" title="第四部分：开始使用OpenWrt"></a>第四部分：开始使用OpenWrt</h2><p>要对OpenWrt进行配置，一般有两条途径：</p>
<ul>
<li>SSH登录通过命令行控制</li>
<li>Web登录通过Web界面设置</li>
</ul>
<p>首次安装openWRT后，需要设置密码才可以使用SSH登录，方法是使用telnet登录或者WEB登录设置密码，登录时使用:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@192.168.1.1</div></pre></td></tr></table></figure>
<p>openWRT使用的命令和常见Linux发行版命令相似，包管理器使用的Debian风格的底层包管理器<code>dpkg</code>，常用操作命令:</p>
<ul>
<li>opkg udate //更新软件包列表</li>
<li>opkg install //在线安装软件包</li>
<li>opkg remove //移除软件包</li>
</ul>
<p>也可以看我的<a href="http://daodaoliang.github.io/blog/2016/01/12/linux%E5%B9%B3%E5%8F%B0%E4%B8%8B%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86%E8%AF%B4%E6%98%8E.html" target="_blank" rel="external">另一篇博客</a></p>
<p>登录WEB管理界面，前提是该openWRT系统中要安装了WEB界面,一般是Luci,登录方式与普通路由器无异，打开浏览器输入路由器IP即可进入登录界面，openWRT的默认IP是<code>192.168.1.1</code></p>
<p>到此，OpenWrt的大门已为你敞开。接下来，开始尝试利用OpenWrt实现更多智能应用吧，比如单号多拨榨取运营商带宽、绑定域名远程控制、挂载大容量硬盘、搭建BT下载机、搭建网络摄像头、Samba/DLNA家庭NAS共享、私有云同步、FTP、个人网站/服务器…</p>
<hr>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Qt常见皮肤qss代码]]></title>
      <url>/Qt%E5%AD%A6%E4%B9%A0/2014/10/30/Qt%E5%AD%A6%E4%B9%A0-2014-10-30-Qt%E5%B8%B8%E8%A7%81%E7%9A%AE%E8%82%A4%E7%9A%84QSS/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<p>##QTabWidget</p>
<blockquote>
<ul>
<li><strong>淡蓝色效果TabWidget(属性值lightblue)</strong></li>
</ul>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">QTabWidget</span><span class="selector-attr">[lightblue = "true"]</span> <span class="selector-tag">QTabBar</span><span class="selector-pseudo">::tab</span>&#123;    	</div><div class="line">	<span class="attribute">border-top</span>:<span class="number">1px</span> solid <span class="built_in">rgb</span>(249,249,249);</div><div class="line">	<span class="attribute">border-top-left-radius</span>: <span class="number">4px</span>;</div><div class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">4px</span>;</div><div class="line">	<span class="attribute">max-height</span>:<span class="number">20px</span>;</div><div class="line">	<span class="attribute">min-height</span>:<span class="number">20px</span>;</div><div class="line">	<span class="attribute">min-width</span>:<span class="number">95px</span>;</div><div class="line">	<span class="attribute">font-family</span>:microsoft yahei;</div><div class="line">	<span class="attribute">color</span>:<span class="built_in">rgb</span>(50,50,50);</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">13px</span>;</div><div class="line">	<span class="attribute">padding</span>:<span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span>;</div><div class="line">	<span class="attribute">border-image</span>:<span class="built_in">url</span>();</div><div class="line">	<span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">	<span class="attribute">padding-bottom</span>:<span class="number">15px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">QTabWidget</span><span class="selector-attr">[lightblue = "true"]</span> <span class="selector-tag">QTabBar</span><span class="selector-pseudo">::tab</span><span class="selector-pseudo">:selected</span>&#123;</div><div class="line">	<span class="attribute">border-left</span>:<span class="number">1px</span> solid <span class="built_in">rgb</span>(192,215,250);</div><div class="line">	<span class="attribute">border-right</span>:<span class="number">1px</span> solid <span class="built_in">rgb</span>(192,215,250);</div><div class="line">	<span class="attribute">border-top</span>:<span class="number">1px</span> solid <span class="built_in">rgb</span>(192,215,250);</div><div class="line">	<span class="attribute">color</span>:<span class="built_in">rgb</span>(50,50,50);</div><div class="line">	<span class="attribute">background-color</span>:<span class="built_in">rgb</span>(249,249,249);</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">13px</span>;</div><div class="line">	<span class="attribute">border-image</span>:<span class="built_in">url</span>();</div><div class="line">	<span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">QTabWidget</span><span class="selector-attr">[lightblue = "true"]</span><span class="selector-pseudo">::pane</span> &#123; </div><div class="line"> <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(192,215,250);</div><div class="line"> <span class="attribute">position</span>: absolute;</div><div class="line"> <span class="attribute">top</span>: -<span class="number">1px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果如下图所示：<br><img src="/res/img/blog/皮肤模块说明文档的资源文件/QTabWidget.png" alt="QTableWidget"></p>
<p>##QLabel </p>
<blockquote>
<ul>
<li><strong>蓝色标题Label(属性值blueTitle)</strong></li>
</ul>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">QLabel</span><span class="selector-attr">[blueTitle="true"]</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">18px</span>;</div><div class="line">	<span class="attribute">font-family</span>:Microsoft YaHei;</div><div class="line">	<span class="attribute">color</span>:<span class="built_in">rgb</span>(255,255,255);</div><div class="line">	<span class="attribute">background-color</span>:<span class="built_in">rgb</span>(5 ,112, 183 );</div><div class="line">	<span class="attribute">padding-left</span>:<span class="number">25px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果图如下所示：</p>
<ul>
<li><ul>
<li><img src="/res/img/blog/皮肤模块说明文档的资源文件/blueTitle.png" alt="blueTitleLabel"></li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><strong>淡灰色标题Label(属性值lightgrayTitle)</strong></li>
</ul>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">QLabel</span><span class="selector-attr">[lightgrayTitle="true"]</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">font-family</span>:Microsoft YaHei;</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">16px</span>;</div><div class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgb</span>(207, 207, 207);</div><div class="line">	<span class="attribute">padding-left</span>: <span class="number">25px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果图如下所示：</p>
<ul>
<li><ul>
<li><img src="/res/img/blog/皮肤模块说明文档的资源文件/lightGrayTitle.png" alt="lightGrayTitleLabel"></li>
</ul>
</li>
</ul>
<p>##QPushbutton</p>
<blockquote>
<ul>
<li><strong>蓝色按钮(属性值blueButton)</strong></li>
</ul>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">QPushButton</span><span class="selector-attr">[blueButton="true"]</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">color</span>:<span class="built_in">rgb</span>(255,255,255);</div><div class="line">	<span class="attribute">border-radius</span>:<span class="number">3px</span>;</div><div class="line">	<span class="attribute">background-color</span>:<span class="built_in">rgb</span>(0,109,204);</div><div class="line">	<span class="attribute">font-family</span>:Arial;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">QPushButton</span><span class="selector-attr">[blueButton="true"]</span><span class="selector-pseudo">:hover</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">background-color</span>:<span class="built_in">rgb</span>(0 ,119, 224 );</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">QPushButton</span><span class="selector-attr">[blueButton="true"]</span><span class="selector-pseudo">:pressed</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">background-color</span>:<span class="built_in">rgb</span>(0 ,149 ,255  );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果图如下所示：</p>
<ul>
<li><ul>
<li><img src="/res/img/blog/皮肤模块说明文档的资源文件/blueButton.png" alt="blueButton"></li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><strong>蓝框按钮(属性值)</strong></li>
</ul>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">QPushButton[blueBorderButton = "true"]</div><div class="line">&#123;</div><div class="line">	border:1px solid;</div><div class="line">	border-color:#afafaf;</div><div class="line">	font-family:microsoft yahei;</div><div class="line">	color:#555555</div><div class="line">&#125;</div><div class="line">QPushButton[blueBorderButton = "true"]:hover</div><div class="line">&#123;</div><div class="line">	border:1px solid;</div><div class="line">	border-color:#11a9d6;</div><div class="line">	font-family:microsoft yahei;</div><div class="line">	color:#555555</div><div class="line">&#125;</div><div class="line">QPushButton[blueBorderButton = "true"]:pressed</div><div class="line">&#123;</div><div class="line">	background-color:#11a9d6;</div><div class="line">	border:1px solid;</div><div class="line">	border-color:#afafaf;</div><div class="line">	font-family:microsoft yahei;</div><div class="line">	color:white</div><div class="line">&#125;</div><div class="line">```      </div><div class="line"></div><div class="line">效果图如下所示：</div><div class="line"></div><div class="line">* </div><div class="line"> * </div><div class="line">  ![blueButton](/res/img/blog/皮肤模块说明文档的资源文件/blueBorderButton.png)</div><div class="line">  ![blueBorderButton_normal](/res/img/blog/皮肤模块说明文档的资源文件/blueBorderButton_normal.png)</div><div class="line">  ![blueBorderButton_push](/res/img/blog/皮肤模块说明文档的资源文件/blueBorderButton_push.png)</div><div class="line">  </div><div class="line">## QProgressBar</div><div class="line"></div><div class="line">&gt; * 淡红色进度条</div><div class="line"></div><div class="line">```css</div><div class="line">QProgressBar[redProgressBar = "true"]&#123;  </div><div class="line">    color : solid gray;  </div><div class="line">    border: 2px solid gray;  </div><div class="line">    border-radius: 5px;  </div><div class="line">    background: transparent;  </div><div class="line">    padding: 0px;  </div><div class="line">    text-align : center ;  </div><div class="line">&#125;  </div><div class="line">QProgressBar[redProgressBar = "true"]::chunk&#123;  </div><div class="line">    background: #B22222;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><ul>
<li><img src="/res/img/blog/皮肤模块说明文档的资源文件/redProgressBar.png" alt="redProgressBar"> </li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Qt学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[QT在release版本产生pdb文件]]></title>
      <url>/Qt%E5%AD%A6%E4%B9%A0/2014/10/30/Qt%E5%AD%A6%E4%B9%A0-2014-10-30-Qt-msvc%E7%BC%96%E8%AF%91%E5%99%A8%E5%A6%82%E4%BD%95%E5%9C%A8Release%E4%B8%8B%E4%BA%A7%E7%94%9Fpdb%E6%96%87%E4%BB%B6/</url>
      <content type="html"><![CDATA[<hr>
<a id="more"></a>
<p>##环境说明</p>
<table>
<thead>
<tr>
<th style="text-align:center">QtCreator</th>
<th style="text-align:center">QtLibrary</th>
<th style="text-align:center">编译器</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Qt Creator 2.7.0</td>
<td style="text-align:center">4.8.4-msvc</td>
<td style="text-align:center">msvc9.0(VS2008)</td>
</tr>
</tbody>
</table>
<p>##背景说明</p>
<p>&gt;<br>项目中需要对发布版本追踪崩溃问题，我们在项目中利用Qtbreakpoint来产生崩溃文件<figure class="highlight plain"><figcaption><span>```*.pdb``` 文件，但是在```Qt```的Release版本下默认是不产生```*.pdb```文件</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">##如何配置</div><div class="line"></div><div class="line">* 方案1 修改编译环境，对所有项目的release都产生```*.pdb```文件,步骤如下：</div><div class="line"> * 1. 找到编译器对应的配置文件，如我的系统安装的是VS2008则我需要找**Qt的安装目录/4.8.4/\mkspecs\win32-msvc2008\qmake.conf**</div><div class="line"> * 2. 增加如下两行配置项到文件并保存</div><div class="line"> </div><div class="line"> ```sh</div><div class="line">        QMAKE_CFLAGS_RELEASE    = -O2 -MD -Zi</div><div class="line">        QMAKE_LFLAGS_RELEASE    = /INCREMENTAL:NO /DEBUG</div></pre></td></tr></table></figure></p>
<ul>
<li>保存后重启Qtcreator或者直接重新新编译</li>
<li>缺陷是编译后的PDB文件不能自己修改名字和拷贝到二进制所在的目录</li>
</ul>
<ul>
<li><p>方案2 修改程序的工程文件 <code>*.pro</code> ，增加如下：<br>*</p>
<pre><code class="sh">QMAKE_LFLAGS_RELEASE    += /MAP
QMAKE_CFLAGS_RELEASE    += /Zi
QMAKE_LFLAGS_RELEASE    += /debug /opt:ref
</code></pre>
<ul>
<li><strong><em>建议使用此种方式</em></strong></li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Qt学习 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[软件加密模块的需求和设计]]></title>
      <url>/%E7%A7%81%E4%BA%BA%E5%B7%A5%E5%85%B7%E9%A1%B9%E7%9B%AE/2014/10/30/QDaoDaoLiang-2014-10-30-%E8%BD%AF%E4%BB%B6%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9D%97%E7%9A%84%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p>&gt;<br>本文档为软件加密注册模块简要的设计文档，主要是为了其他人更好的理解本模块的设计思想和实现流程，也为了自己在以后修改过中能够快速熟悉模块的设计,避繁就简,就没再严格按照概要设计模板来编写.</p>
<hr>
<h2 id="1-设计文档背景-需求"><a href="#1-设计文档背景-需求" class="headerlink" title="1. 设计文档背景(需求)"></a>1. 设计文档背景(需求)</h2><hr>
<p>该文档的设计是依据如下的需求来进行的设计，主要是为了解决需求中的问题，若是超过该需求的问题，可能该模块就有些不在适宜。</p>
<hr>
<blockquote>
<ol>
<li>软件只能在一台机器上运行一个实例；</li>
<li>软件的一个分发版本只能在一台机器上运行，拷贝到其他机器是不能运行的；</li>
<li>软件分发出去的版本默认都是演示版本，有功能限制、时间限制、使用次数限制，超过限制条件则提示用户注册使用；</li>
<li>用户注册后可以正常使用软件，但是一个注册码只能使这一个软件在这一台机器上使用；</li>
<li>模块可以在任意Qt开发的软件中简单集成，使其原程序增加软件注册的功能；</li>
<li>用户的注册过程需要用户把软件产生的一个加密后密钥文件发送给软件分发商，软件分发商通过软件注册机来产生对应的注册码然后分发给对应的用户使用;</li>
</ol>
</blockquote>
<h2 id="2-模块使用场景"><a href="#2-模块使用场景" class="headerlink" title="2. 模块使用场景"></a>2. 模块使用场景</h2><p><img src="/res/img/blog/软件加密模块文档资源/软件加密模块架构设计图.png" alt="软件总体架构图"></p>
<h2 id="3-模块基础划分"><a href="#3-模块基础划分" class="headerlink" title="3. 模块基础划分"></a>3. 模块基础划分</h2><hr>
<blockquote>
<ul>
<li>用户信息生成子模块</li>
<li>加解密子模块</li>
<li>UI提示接口子模块</li>
<li>注册码的产生和验证子模块</li>
</ul>
</blockquote>
<hr>
<h3 id="3-1-模块间关系"><a href="#3-1-模块间关系" class="headerlink" title="3.1 模块间关系"></a>3.1 模块间关系</h3><ul>
<li><ul>
<li><img src="/res/img/blog/软件加密模块文档资源/软件加密模块模块架构图.png" alt="软件模块架构图"></li>
</ul>
</li>
</ul>
<h3 id="3-2-用户信息生成子模块"><a href="#3-2-用户信息生成子模块" class="headerlink" title="3.2 用户信息生成子模块"></a>3.2 用户信息生成子模块</h3><blockquote>
<p>用户信息生成子模块用来收集用户的信息确保用户的全球唯一性，最终该文件是做为产生注册码的源文件，关于该模块的说明如下：</p>
</blockquote>
<ul>
<li>用户信息子模块最终产生为一个后缀为.userinfo的文件</li>
<li>文件内容需要经过加密子模块进行加密</li>
<li>用户信息主要包括如下内容：<ul>
<li>用户网卡MAC</li>
<li>用户CPU信息(CPU个数)</li>
<li>当前时间(距离1970年的秒数)</li>
<li>硬盘硬件序列号</li>
<li>系统版本代号</li>
<li>用户程序ID(全球唯一标识符)</li>
</ul>
</li>
</ul>
<h3 id="3-3-加解密子模块"><a href="#3-3-加解密子模块" class="headerlink" title="3.3 加解密子模块"></a>3.3 加解密子模块</h3><blockquote>
<p>负责给予其他模块提供基础的加解密和校验的接口</p>
</blockquote>
<h3 id="3-4-UI提示接口子模块"><a href="#3-4-UI提示接口子模块" class="headerlink" title="3.4 UI提示接口子模块"></a>3.4 UI提示接口子模块</h3><p>&gt;<br>负责给其他模块提供交互界面的接口，用来传递内部信息给用户和接受用户的反馈信息</p>
<ul>
<li>消息提示框(通知、警告、错误)</li>
</ul>
<h3 id="3-5-注册码的产生和验证子模块"><a href="#3-5-注册码的产生和验证子模块" class="headerlink" title="3.5 注册码的产生和验证子模块"></a>3.5 注册码的产生和验证子模块</h3><p>&gt;<br>负责记录用户的唯一标识和用户权限</p>
<h4 id="3-5-1-注册码格式说明"><a href="#3-5-1-注册码格式说明" class="headerlink" title="3.5.1 注册码格式说明"></a>3.5.1 注册码格式说明</h4><table>
<thead>
<tr>
<th style="text-align:center">2byte</th>
<th style="text-align:center">16byte</th>
<th style="text-align:center">16byte</th>
<th style="text-align:center">8byte</th>
<th style="text-align:center">8byte</th>
<th style="text-align:center">2byte</th>
<th style="text-align:center">2byte</th>
<th style="text-align:center">2byte</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">用户类型</td>
<td style="text-align:center">用户唯一识别码</td>
<td style="text-align:center">软件唯一识别码</td>
<td style="text-align:center">开始时间</td>
<td style="text-align:center">结束时间</td>
<td style="text-align:center">使用次数</td>
<td style="text-align:center">转换算法代码</td>
<td style="text-align:center">完整性校验</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong>用户类型</strong></p>
<ul>
<li><figure class="highlight plain"><figcaption><span>0x01``` 时间限制型用户</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> * ```0x00 0x02``` 次数限制型用户</div><div class="line"> * ```0x00 0x03```-```0xff 0xff```保留类型 </div><div class="line">* **用户唯一识别码**</div><div class="line"> * 原始串 = MAC地址 + 硬盘序列号 + CPU个数 + 系统版本代码</div><div class="line"> * 原始串进行摘要算法得到16字节的```数字指纹</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>软件唯一识别码</strong></p>
<ul>
<li>软件 <code>GUID</code> <code>16字节</code></li>
</ul>
</li>
<li><strong>开始时间</strong><ul>
<li><code>Unix</code>时间，距离<code>1970</code>年的秒数</li>
</ul>
</li>
<li><strong>结束时间</strong><ul>
<li><code>Unix</code>时间，距离<code>1970</code>年的秒数</li>
</ul>
</li>
<li><strong>使用次数</strong><ul>
<li>无符号短整型</li>
</ul>
</li>
<li><strong>转换算法代码</strong><ul>
<li>内部完整性校验前的字节转换算法代号</li>
</ul>
</li>
<li><strong>完整性校验</strong><ul>
<li>常规的完整性校验</li>
</ul>
</li>
</ul>
<h3 id="3-6-校时模块"><a href="#3-6-校时模块" class="headerlink" title="3.6 校时模块"></a>3.6 校时模块</h3><blockquote>
<p>负责确保时间的相对正确性，时间出现较大偏差时会进行联网纠正，或者离线估算纠正。</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 私人工具项目 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[工具项目之QDaoDaoLiang向导]]></title>
      <url>/%E7%A7%81%E4%BA%BA%E5%B7%A5%E5%85%B7%E9%A1%B9%E7%9B%AE/2014/10/29/QDaoDaoLiang-2014-10-29-%E5%88%80%E5%88%80%E4%BA%AE%E7%A7%81%E4%BA%BA%E5%B7%A5%E5%85%B7%E9%A1%B9%E7%9B%AE/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="项目引导（QDaoDaoLiang）"><a href="#项目引导（QDaoDaoLiang）" class="headerlink" title="项目引导（QDaoDaoLiang）"></a>项目引导（QDaoDaoLiang）</h2><blockquote>
<p>平时由于项目需要，需要用到各种非原生Qt有的特性，这些特性有时需要重复劳动，有的可能毫无头绪，所以萌生根据实际需要进行抽象封装从而实现一套实用的组件库。QDaoDaoLiang的由来为本人网名，但愿组件库在发展的过程中会逐渐健壮，逐渐实用，本库遵循MIT开源协议，Enjoy it~</p>
</blockquote>
<hr>
<h2 id="开发环境构建说明"><a href="#开发环境构建说明" class="headerlink" title="开发环境构建说明"></a>开发环境构建说明</h2><ol>
<li>开发是在Windows下开发的项目</li>
<li>项目使用的DevKit为：Qt4.8.4(MSVC)+ Microsoft Visual C++ Compiler 9.0 + QCreator 2.7.0</li>
<li>文档使用MarkDown语言编写,编辑器使用MdCharm(感谢原作者提供方便的工具)</li>
</ol>
<hr>
<h2 id="项目结构说明"><a href="#项目结构说明" class="headerlink" title="项目结构说明"></a>项目结构说明</h2><p><img src="/res/img/blog/项目结构说明/项目结构说明.png" alt="项目结构说明"></p>
<hr>
<h2 id="项目进度"><a href="#项目进度" class="headerlink" title="项目进度"></a>项目进度</h2><ol>
<li>完成可移动的弹出框基础文件，可用来实现类似QQ新闻的右下角弹出和消失的效果；</li>
<li>完成自定义QLabel,在文字前方4个像素的位置画出红色星号，可用来实现表单的必填项的提示；</li>
<li>完成程序单例的集成；</li>
<li>完成程序崩溃的跟踪两套方案(minidump和基于google的breakpoint的crashdump)</li>
</ol>
<hr>
<h2 id="项目开发计划"><a href="#项目开发计划" class="headerlink" title="项目开发计划"></a>项目开发计划</h2><ol>
<li>开发适用于程序注册机制的验证库和注册机</li>
<li>集成ECharts实现JS图表与C++交互的数据展示库</li>
<li>实现对常规样式的控件皮肤封装</li>
<li>嵌入Python进行数据交互，实现Python和C++库转换调用的中间库</li>
</ol>
<hr>
]]></content>
      
        <categories>
            
            <category> 私人工具项目 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Ubuntu 14.04 搭建Jenkins]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2014/10/24/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2014-10-24-Ubuntu14-04%E4%B8%8B%E6%90%AD%E5%BB%BAJenkins/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<hr>
<p>本教程待本人搭建成功后更新</p>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[你好世界]]></title>
      <url>/%E5%BF%83%E4%B8%96%E7%95%8C/2014/10/18/%E6%96%B0%E4%B8%96%E7%95%8C-2014-10-18-%E4%BD%A0%E5%A5%BD%E4%B8%96%E7%95%8C/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<p>你好世界,这是N久之后我终于在开开停停N多博客之后打算在这里开启我的博客之旅,无它,唯记录我的人生以供将来的我自省.</p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(&quot;Hello World!&quot;);</div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> 心世界 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[利用github搭建属于自己的博客]]></title>
      <url>/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2014/10/18/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-2014-10-18-%E5%8D%9A%E5%AE%A2%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<hr>
<a id="more"></a>
<p>##相关知识准备</p>
<hr>
<ul>
<li><p><strong>熟悉基本的Git操作</strong>，windows下面掌握Git的图形化操作工具会更加方便，linux下我一直使用的是命令交互的方式如果正在看这篇博文的你有什么好的工具记得推荐我:）。</p>
</li>
<li><p><strong>熟悉基本的MarkDown语法</strong>，windows下我推荐MdCharm，linux下我推荐Remarkable,Mac OS(我买不起……)就不推荐了；</p>
</li>
<li><p><strong>熟悉jekyll基本框架原理</strong>，只需要知道大体的框架原理即可，能够在以后做定制和集成插件的时候能够得心应手，要是喜欢可以顺便看一看ROR框架蛮不错的；</p>
</li>
</ul>
<p>##搭建步骤</p>
<hr>
<ol>
<li>注册一个GitHub账号,不再多说了，注册地址<a href="https://github.com/" target="_blank" rel="external">GitHub官网</a></li>
<li>安装Git,不在详细说过程,windows狂点下一步,linux一条命令搞定,具体细节请查看<a href="http://git-scm.com/" target="_blank" rel="external">Git官网</a></li>
<li>登陆Github账户，创建一个博客空间，这一步其实更简单，只需要在Github上面创建一个名字为<code>YourName.github.io</code>其中YourName为你的GitHub的账号名，所以一个账号只能创建一个博客空间，至此你可以获取该项目到本地了;</li>
<li>创建完毕后你可以在YourName.github.io这个工程里面添加你的网站了,Github默认会在下面寻找index.html页面，你要是感兴趣他的为工作方式请移步<a href="https://pages.github.com/" target="_blank" rel="external">Github Pages</a> ;</li>
<li>当然了,如果你是自带光环的WEB前端工程师，你就可以不在看剩下的内容了，请享受你的私人网站吧，我这里要说的是采用第三方的模板<code>Jekyll</code>，没错就是采用别人的模板，什么是模板？请出门左转自行Google或者Baidu，比如说你觉得我这个模板比较中意，那就到<a href="https://pages.github.com/" target="_blank" rel="external">我的Github主页</a>，Clone我的博客项目然后本着尊重作者的意图，请一定要删除博主原有的个人配置信息和博文，然后就可以尽情的享受了；</li>
<li>若有任何问题,或者觉得步骤不够详细的可以随时给我<a href="mailto:daodaoliang@yeah.net" target="_blank" rel="external">发邮件</a>,交流；</li>
</ol>
<p>##插件集成</p>
<hr>
<blockquote>
<p>该博客的模板最初并非本人原创，在此向<a href="http://pexcn.tk/" target="_blank" rel="external">原作者</a>致敬,该模板采用<code>jekyll</code>框架，经过简单的个人定制而成，很值得称赞的是为了小白们的方便，里面集成了很多的第三方插件，比如评论系统<a href="http://duoshuo.com/" target="_blank" rel="external">多说</a>,百度统计功能等等，通过简单地配置文件配置即可完成功能的集成，比如本博客的评论系统就是采用的多说插件，并且也添加了百度统计的功能,如下图:<br><img src="/res/img/blog/2014-10-22.png" alt="我是图片"></p>
</blockquote>
<hr>
<p>&gt;<br>多说盒子自定义样式如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">ul</span><span class="selector-class">.ds-comments-tabs</span> <span class="selector-tag">li</span><span class="selector-class">.ds-tab</span> <span class="selector-tag">a</span><span class="selector-class">.ds-current</span> &#123;<span class="attribute">border</span>:<span class="number">0px</span>;<span class="attribute">color</span>:<span class="number">#848568</span>;<span class="attribute">text-shadow</span>:none;<span class="attribute">background</span>:<span class="number">#dddfc2</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-highlight</span> &#123;<span class="attribute">font-family</span>:Arial, Helvetica, sans-serif;<span class="attribute">font-size</span>:<span class="number">14px</span>;<span class="attribute">font-weight</span>:bold;<span class="attribute">color</span>:<span class="number">#848568</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">ul</span><span class="selector-class">.ds-comments-tabs</span> <span class="selector-tag">li</span><span class="selector-class">.ds-tab</span> <span class="selector-tag">a</span><span class="selector-class">.ds-current</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>:<span class="number">#696a52</span>;<span class="attribute">background</span>:<span class="number">#d4d6ba</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">a</span><span class="selector-class">.ds-highlight</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>:<span class="number">#696a52</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> &#123;<span class="attribute">padding-left</span>:<span class="number">30px</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">li</span><span class="selector-class">.ds-post</span>,<span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-hot-posts</span> &#123;<span class="attribute">overflow</span>:visible&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-post-self</span> &#123;<span class="attribute">padding</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">li</span><span class="selector-class">.ds-post</span>,<span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-post-self</span> &#123;<span class="attribute">border</span>:<span class="number">0</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-avatar</span>, <span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">ul</span><span class="selector-class">.ds-children</span> <span class="selector-class">.ds-avatar</span> &#123;<span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">26px</span>;<span class="attribute">left</span>:-<span class="number">14px</span>;<span class="attribute">padding</span>:<span class="number">5px</span>;<span class="attribute">width</span>:<span class="number">36px</span>;<span class="attribute">height</span>:<span class="number">36px</span>;<span class="attribute">box-shadow</span>:-<span class="number">1px</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0,0,0,.15) inset;<span class="attribute">border-radius</span>:<span class="number">46px</span>; <span class="attribute">background</span>:<span class="number">#E5E6D0</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">ul</span><span class="selector-class">.ds-children</span> <span class="selector-class">.ds-avatar</span> &#123;<span class="attribute">left</span>:-<span class="number">23px</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">a</span> &#123;<span class="attribute">display</span>:inline-block;<span class="attribute">padding</span>:<span class="number">1px</span>; <span class="attribute">width</span>:<span class="number">32px</span>;<span class="attribute">height</span>:<span class="number">32px</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#b9baa6</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>; <span class="attribute">background-color</span>:<span class="number">#fff</span> <span class="meta">!important</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">border-color</span>:<span class="number">#de5a4e</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-class">.ds-avatar</span> &gt; <span class="selector-tag">img</span> &#123;<span class="attribute">margin</span>:<span class="number">2px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-replybox</span> &#123;<span class="attribute">box-shadow</span>:none;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">ul</span><span class="selector-class">.ds-children</span> <span class="selector-class">.ds-replybox</span><span class="selector-class">.ds-inline-replybox</span> <span class="selector-tag">a</span><span class="selector-class">.ds-avatar</span>,</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-replybox</span><span class="selector-class">.ds-inline-replybox</span> <span class="selector-tag">a</span><span class="selector-class">.ds-avatar</span> &#123;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">padding</span>: <span class="number">0</span>;<span class="attribute">width</span>: <span class="number">32px</span> <span class="meta">!important</span>;<span class="attribute">height</span>: <span class="number">32px</span> <span class="meta">!important</span>; <span class="attribute">background</span>: none;<span class="attribute">box-shadow</span>: none; &#125; </div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-replybox</span><span class="selector-class">.ds-inline-replybox</span> <span class="selector-tag">a</span><span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span> &#123;<span class="attribute">width</span>: <span class="number">32px</span> <span class="meta">!important</span>;<span class="attribute">height</span>: <span class="number">32px</span> <span class="meta">!important</span>; <span class="attribute">border-radius</span>:<span class="number">50%</span>;&#125; </div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-replybox</span> <span class="selector-tag">a</span><span class="selector-class">.ds-avatar</span>,</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-replybox</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span> &#123; <span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">width</span>:<span class="number">50px</span> <span class="meta">!important</span>;<span class="attribute">height</span>:<span class="number">50px</span> <span class="meta">!important</span>; <span class="attribute">border-radius</span>:<span class="number">5px</span>; &#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span> &#123;<span class="attribute">width</span>:<span class="number">32px</span> <span class="meta">!important</span>;<span class="attribute">height</span>:<span class="number">32px</span> <span class="meta">!important</span>;<span class="attribute">border-radius</span>:<span class="number">32px</span>;<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.22);</div><div class="line"><span class="attribute">-webkit-transition</span>:.<span class="number">4s</span> all ease-in-out;<span class="attribute">-moz-transition</span>:.<span class="number">4s</span> all ease-in-out;<span class="attribute">-o-transition</span>:.<span class="number">4s</span> all ease-in-out;<span class="attribute">-ms-transition</span>:.<span class="number">4s</span> all ease-in-out;<span class="attribute">transition</span>:.<span class="number">4s</span> all ease-in-out;&#125;</div><div class="line"><span class="selector-class">.ds-post-self</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span> &#123;<span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(360deg);<span class="attribute">-moz-transform</span>:<span class="built_in">rotate</span>(360deg);<span class="attribute">-o-transform</span>:<span class="built_in">rotate</span>(360deg);<span class="attribute">-ms-transform</span>:<span class="built_in">rotate</span>(360deg);<span class="attribute">transform</span>:<span class="built_in">rotate</span>(360deg);&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-comment-body</span> &#123;<span class="attribute">background</span>: <span class="number">#F0F0E3</span>;<span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">15px</span> <span class="number">12px</span> <span class="number">32px</span>;<span class="attribute">border-radius</span>:<span class="number">5px</span>; <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,.15), <span class="number">0</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(255,255,255,.75) inset;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-comment-body</span> <span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:<span class="number">#787968</span>&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-comments</span> <span class="selector-tag">a</span><span class="selector-class">.ds-user-name</span> &#123;<span class="attribute">font-weight</span>:bold;<span class="attribute">color</span>:<span class="number">#696A52</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-comments</span> <span class="selector-tag">a</span><span class="selector-class">.ds-user-name</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>:<span class="number">#D32</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-hot-posts</span> &#123;<span class="attribute">border</span>:<span class="number">0</span>&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-hot-posts</span> <span class="selector-class">.ds-gradient-bg</span> &#123;<span class="attribute">background</span>:none;&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-id">#ds-ctx</span> <span class="selector-class">.ds-ctx-entry</span> &#123;<span class="attribute">padding</span>:<span class="number">0</span>;&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-class">.ds-avatar</span>, <span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-id">#ds-ctx-bubble</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">a</span> &#123;<span class="attribute">position</span>:static;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">border</span>:<span class="number">0</span>; <span class="attribute">background</span>:none;<span class="attribute">box-shadow</span>:none;&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span>, <span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-id">#ds-ctx-bubble</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">a</span> &#123;<span class="attribute">width</span>:<span class="number">45px</span> <span class="meta">!important</span>;<span class="attribute">height</span>:<span class="number">45px</span> <span class="meta">!important</span>;&#125;</div><div class="line"><span class="selector-id">#ds-reset</span> <span class="selector-id">#ds-bubble</span> <span class="selector-class">.ds-user-name</span>&#123;<span class="attribute">padding-left</span>:<span class="number">13px</span>;&#125;</div></pre></td></tr></table></figure>
<hr>
]]></content>
      
        <categories>
            
            <category> 环境搭建 </category>
            
        </categories>
        
        
    </entry>
    
  
  
</search>
